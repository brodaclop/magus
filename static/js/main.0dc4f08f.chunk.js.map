{"version":3,"sources":["engine/roll.tsx","engine/dobasmatrix.tsx","engine/harc.tsx","engine/kasztok.tsx","engine/karakter.tsx","components/DobasEredmeny.tsx","components/DobasMatrixDisplay.tsx","components/EPFP.tsx","components/Selection.tsx","components/KarakterAlkotasBackground.tsx","pages/KarakterAlkotas.tsx","components/FegyverLista.tsx","components/IntegerInput.tsx","components/FegyverEditor.tsx","components/FegyverValaszto.tsx","components/HMEloszto.tsx","components/KepzettsegLista.tsx","pages/Karakterlap.tsx","hooks/dataconnector.tsx","components/CategoriesDropdown.tsx","components/DragAndDrop.tsx","components/KarakterImport.tsx","pages/Kocskadobo.tsx","components/KockaModal.tsx","static/magus.png","components/PageHeader.tsx","components/KombatCard.tsx","pages/Kombat.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PATTERN","random","Math","rollDice","dice","ijasz","Array","numDice","keys","map","_","rollSingle","reduce","acc","curr","value","details","res","floor","die","ceil","div","rollKf","result","max","plus","kfMod","kf","roll","tries","abs","_roll","parseDiceRoll","diceString","Number","isNaN","replace","match","groups","undefined","formatDiceRoll","DobasMatrix","values","sum","add","name","dobas","forEach","key","toString","filter","indexOf","Object","a","b","getRolls","r","clearRolls","this","HARCERTEK_DISPLAY_NAMES","FEGYVER_KEPZETTSEG","ke","te","ve","ce","FEGYVERTELEN","harcertek","tamPerKor","sebzes","FEGYVEREK","lassu","lotav","SZITUACIOK","KEPESSEG_NEV","ero","gy","ugy","ak","egs","sz","int","ae","asz","erz","FAJ_KEPESSEG","FOKASZTOK","KASZTOK","kepesseg","alapHarcertek","hm","kotelezo","szabad","epfp","ep","fp","fpPerSzint","harcos","lovag","tolvaj","pap","paplovag","folottiResz","hatar","szintlepes","karakter","szint","r1","r2","kaszt","hmHarcertek","Set","maxFp","calculateHarcertek","fegyver","szituaciok","fegyvertelen","okol","lofegyver","fejvadasz","kepzettseg","kepzettsegek","find","k","toLowerCase","ret","kepessegek","calculateKepessegHarcertek","sebesules","maxEp","calculateSebesulesHatrany","DobasEredmeny","pointing","Label","size","color","basic","NumberInput","require","default","DobasMatrixDisplay","matrix","keyMap","direction","title","editable","setValue","displayCell","constantRoll","rollString","includes","Table","Cell","allowEmptyValue","stepAmount","minValue","maxValue","onChange","e","celled","striped","Header","Row","HeaderCell","disabled","Body","Footer","definition","EPFP","maxChange","aktChange","maxLength","min","Selection","label","selected","setSelected","options","structure","Button","labelPosition","as","fk","Group","vertical","tag","o","n","i","compact","active","onClick","KarakterAlkotasBackground","fajNevek","backgroundSelection","setBackgroundSelection","Input","fluid","placeholder","error","target","s","manual","JSON","parse","stringify","faj","calculateKepessegek","fajok","newMatrix","KarakterAlkotas","save","useState","setMatrix","useEffect","kezi","Grid","relaxed","GridRow","columns","divided","GridColumn","floated","textAlign","secondary","primary","kar","kasztOb","id","v4","categories","fegyverek","createKarakter","FegyverLista","onSelectionChange","fegyverLista","rec","selectable","IntegerInput","newValue","convertToFormValues","convertFromFormValues","FegyverEditor","submit","cancel","form","setForm","Checkbox","fitted","toggle","checked","FegyverValaszto","saveFegyverek","selectedForDeletion","setSelectedForDeletion","editorOpen","setEditorOpen","listEditorOpen","setListEditorOpen","saveSelection","useCallback","kepzettsegSzint","addFegyverAndKepzettseg","saveDeletion","f","valasztottFegyver","Modal","trigger","onOpen","onClose","open","Content","push","negative","sort","localeCompare","idx","fIdx","findIndex","kepzettsegName","kp","HMEloszto","complete","current","setCurrent","change","he","newCurrent","console","log","colSpan","className","KepzettsegLista","Karakterlap","remove","ujfegyver","setUjFegyver","kategoriak","setKategoriak","ujKategoria","setUjKategoria","torlesKerdes","setTorlesKerdes","circular","list","c","Confirm","onCancel","onConfirm","header","content","cancelButton","confirmButton","fileDownload","PREFIX","CategoriesDropdown","currentCategory","setCurrentCategory","Dropdown","item","text","Menu","Item","DragAndDrop","state","drag","dropRef","React","createRef","dragCounter","handleDrag","preventDefault","stopPropagation","handleDragIn","dataTransfer","items","length","setState","handleDragOut","handleDrop","files","props","clearData","addEventListener","removeEventListener","style","display","position","ref","dragPlaceholder","children","Component","KarakterImport","Icon","l","Slider","DICE_ROLLS","PLUS","MERETEK","MOZGASOK","VISZONYOK","Kockadobo","input","setInput","setResult","useReducer","prev","elem","slice","HISTORY_LENGTH","history","addToHistory","tavolsag","meret","mozgas","viszonyok","lofegyverVedo","setLofegyverVedo","dob","setKocka","diceRoll","setPlus","floating","reverse","h","settings","step","v","KockaModal","kockaOpen","setKockaOpen","PageHeader","karakterek","page","setPage","tabular","Image","src","logo","category","KombatCard","dobasEredmeny","setDobasEredmeny","setSzituaciok","harcertekMatrix","sebzesRoll","rolls","Error","sumRolls","szituacioOptions","nev","cellContents","Card","Meta","Description","singleLine","colspan","fegyverCsere","m","multiple","Kombat","CardGroup","itemsPerRow","App","operations","setOperations","fetch","window","localStorage","getItem","put","ob","setItem","all","startsWith","some","cat","load","info","exportMagus","importMagus","flatMap","removeItem","listFajok","listFegyverek","CONFIG_PREFIX","useDataConnector","saveKarakter","removeKarakter","ps","renderPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iSAcMA,EAAO,YAAG,kFAAH,6CAETC,EAASC,KAAKD,OAgBZE,EAAW,SAACC,EAAgBC,GAC9B,OAAO,YAAIC,MAAMF,EAAKG,SAASC,QAAQC,KAAI,SAAAC,GAAC,OAAIC,EAAWP,EAAMC,MAAQO,QAAO,SAACC,EAAKC,GAAN,MAAgB,CAAEC,MAAOF,EAAIE,MAAQD,EAAME,QAAQ,GAAD,OAAKH,EAAIG,QAAUH,EAAIG,QAAU,IAAM,IAAvC,OAA4CF,MAAW,CAAEC,MAAO,EAAGC,QAAS,MAG5ML,EAAa,SAACP,EAAgBC,GAChC,IAAIY,EAAM,EACNH,EAAO,EACX,GACIA,EAAO,EAAIZ,KAAKgB,MAAMjB,IAAWG,EAAKe,KACtCF,GAAOf,KAAKkB,KAAKN,EAAOV,EAAKiB,WACxBhB,GAASS,IAASV,EAAKe,KAChC,OAAOF,GAGLK,EAAS,SAAClB,EAAgBmB,GAC5B,IAAMC,EAAMpB,EAAKG,QAAUL,KAAKgB,MAAMd,EAAKe,IAAMf,EAAKiB,KAAOjB,EAAKqB,KAClE,GAAIF,EAAOR,QAAUS,EAAK,CACtB,IAAIE,EACEC,EAAKC,EAAK,QAAQb,MAYxB,OAVIW,EADAC,GAAM,IACGC,EAAK,MAAMb,MACbY,GAAM,IACJ,EACFA,GAAM,GACL,EACDA,GAAM,GACL,EAEA,EAEL,CACHZ,MAAOQ,EAAOR,MAAQW,EACtBV,QAAQ,GAAD,OAAKO,EAAOP,QAAZ,iBAA4BW,EAA5B,cAAoCD,EAApC,MAGX,OAAOH,GAKFK,EAAO,SAACxB,EAAyBC,GAA1B,OAtDN,SAACD,EAAgBC,GAC3B,IAAIkB,EAAS,YAAIjB,MAAMF,EAAKyB,OAAOrB,QAAQC,KAAI,SAAAC,GAAC,OAAIP,EAASC,EAAMC,MAAQO,QAAO,SAACC,EAAKC,GAAN,MAAgB,CAAEC,MAAOb,KAAKsB,IAAIX,EAAIE,MAAOD,EAAKC,OAAQC,QAAQ,GAAD,OAAKH,EAAIG,QAAUH,EAAIG,QAAU,OAAS,GAA1C,YAAgDF,EAAKE,QAArD,QAAoE,CAAED,MAAO,EAAGC,QAAS,KAK5O,OAJAO,EAAS,CACLR,MAAOQ,EAAOR,MAAQX,EAAKqB,KAC3BT,QAAQ,GAAD,OAAKO,EAAOP,SAAZ,OAAsBZ,EAAKqB,KAAO,EAAI,MAAQrB,EAAKqB,KAAQrB,EAAKqB,KAAO,EAAI,MAAQvB,KAAK4B,IAAI1B,EAAKqB,MAAQ,KAEhHrB,EAAKuB,GACEL,EAAOlB,EAAMmB,GAEbA,EA6CmEQ,CAAsB,kBAAT3B,EAAoB4B,EAAc5B,GAAQA,IAAQC,IAIpI2B,EAAgB,WAAyC,IAAD,sBAAvCC,EAAuC,uDAAlB,IAC/C,IAAKC,OAAOC,MAAMD,OAAOD,IACrB,MAAO,CACH1B,QAAS,EACTY,IAAK,EACLM,KAAMS,OAAOD,GACbJ,MAAO,EACPR,IAAK,EACLM,IAAI,GAGZ,IAAMV,EAAMgB,EAAWG,QAAQ,MAAO,IAAIC,MAAMrC,GAChD,MAAO,CACHO,QAAS2B,OAAM,iBAACjB,QAAD,IAACA,GAAD,UAACA,EAAKqB,cAAN,aAAC,EAAa/B,eAAd,QAAyB,GACxCY,IAAKe,OAAM,iBAACjB,QAAD,IAACA,GAAD,UAACA,EAAKqB,cAAN,aAAC,EAAanB,WAAd,QAAqB,GAChCM,KAAMS,OAAM,iBAACjB,QAAD,IAACA,GAAD,UAACA,EAAKqB,cAAN,aAAC,EAAab,YAAd,QAAsB,GAClCI,MAAOK,OAAM,iBAACjB,QAAD,IAACA,GAAD,UAACA,EAAKqB,cAAN,aAAC,EAAaT,aAAd,QAAuB,GACpCR,IAAKa,OAAM,iBAACjB,QAAD,IAACA,GAAD,UAACA,EAAKqB,cAAN,aAAC,EAAajB,WAAd,QAAqB,GAChCM,QAAwBY,KAAjB,OAAHtB,QAAG,IAAHA,GAAA,UAAAA,EAAKqB,cAAL,eAAaX,MAIZa,EAAiB,SAACpC,GAC3B,OAAiB,IAAbA,EAAKe,IACEf,EAAKqB,KAAL,UAAerB,EAAKqB,MAAS,IAElC,GAAN,OAA2B,IAAjBrB,EAAKG,QAAgB,GAAKH,EAAKG,QAAzC,YAAoDH,EAAKe,KAAzD,OAA+Df,EAAKiB,IAAM,EAAI,IAAMjB,EAAKiB,IAAM,IAA/F,OAAoGjB,EAAKqB,MAAQrB,EAAKqB,KAAO,EAAI,IAAM,KAAOvB,KAAK4B,IAAI1B,EAAKqB,MAAQ,IAApK,OAAyKrB,EAAKyB,MAAQ,EAAI,IAAMzB,EAAKyB,MAAQ,KAAO,IAApN,OAAyNzB,EAAKuB,GAAK,QAAU,KC/FpOc,EAIT,WAAqBjC,GAAsB,IAAD,gCAArBA,OAAqB,KAHjCkC,YAGiC,OAFjCC,SAEiC,OAK1CC,IAAM,SAACC,EAAcC,GASjB,OARA,EAAKJ,OAAOG,GAAQ,GAChBC,GACA,EAAKtC,KAAKuC,SAAQ,SAAAC,GAAQ,IAAD,EACrB,EAAKN,OAAOG,GAAMG,GAAO,CACrBpB,KAAMI,EAAa,UAACc,EAAME,UAAP,aAAC,EAAYC,gBAIrC,GAd+B,KAiB1CrB,KAAO,SAACpB,GAQJ,OAPA,EAAKA,KAAK0C,QAAO,SAAAF,GAAG,OAAKxC,IAA+B,IAAvBA,EAAK2C,QAAQH,MAAaD,SAAQ,SAAAC,GAC/DI,OAAO5C,KAAK,EAAKkC,QAAQK,SAAQ,SAAAF,GAAS,IAAD,EAC/BC,EAAQ,EAAKJ,OAAOG,GAAMG,GAChCF,EAAMvB,OAASuB,EAAQlB,EAAKkB,EAAMlB,MAAQ,CAAEb,MAAO,EAAGC,QAAS,IAC/D,EAAK2B,IAAIK,GAAT,UAAgBI,OAAOV,OAAO,EAAKA,QAAQjC,KAAI,SAAAM,GAAK,uBAAIA,EAAMiC,GAAKzB,cAAf,aAAI,EAAmBR,SAAOH,QAAO,SAACyC,EAAGC,GAAJ,OAAU,OAACD,QAAD,IAACA,IAAK,IAAN,OAAYC,QAAZ,IAAYA,IAAK,KAAI,UAAxH,QAA8H,QAG/H,GAzB+B,KA4B1CC,SAAW,SAACP,GACR,OAAOI,OAAOV,OAAO,EAAKA,QAAQjC,KAAI,SAAA+C,GAAC,OAAIA,EAAER,GAAKpB,QAAMsB,QAAO,SAAAtB,GAAI,OAAIA,IAASA,EAAKT,IAAM,GAAmB,IAAdS,EAAKH,UA7B/D,KAgC1CgC,WAAa,WAOT,OANA,EAAKjD,KAAKuC,SAAQ,SAAAC,GACdI,OAAO5C,KAAK,EAAKkC,QAAQK,SAAQ,SAAAF,UACf,EAAKH,OAAOG,GAAMG,GACnBzB,aAGd,GAtCPmC,KAAKhB,OAAS,GACdgB,KAAKf,IAAM,ICFNgB,EAA0B,CAAE,GAAM,QAAM,GAAM,QAAM,GAAM,QAAM,GAAM,QAAM,OAAU,aAEtFC,EAAgD,CACzD,eAAa,CACTC,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,IAET,6BAAwB,CACpBH,IAAK,EACLC,IAAK,EACLC,IAAK,GACLC,IAAK,IAET,GAAM,CACFH,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER,GAAM,CACFH,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,KAICC,EAAwB,CACjCpB,KAAM,uBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERG,UAAW,EACXC,OAAQ,KA4BCC,EAA4B,CACrC,CACIxB,KAAM,WACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,oBACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,2BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,sBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,oBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,IACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,wBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,yBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,4BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,qBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,iBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,kBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,0BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,eACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,eACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,gBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,uBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,mBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,oBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,qBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,aACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,SACRD,UAAW,GAEf,CACItB,KAAM,oBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,SACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,cACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,UACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,SACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,eACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,iBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,eACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,iBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,gBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,iBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,wBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,2BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,4BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,sBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,yBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,mBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,mBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,aACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,WACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,wBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,eACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,uBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,aACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,UACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,SACRD,UAAW,GAEf,CACItB,KAAM,qBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERO,MAAO,GACPH,OAAQ,IACRD,UAAW,GAEf,CACItB,KAAM,kBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERO,MAAO,GACPH,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,mBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERO,MAAO,IACPH,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,wBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERO,MAAO,IACPH,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,aACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,IACPH,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,sBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,GACPH,OAAQ,SACRD,UAAW,GAEf,CACItB,KAAM,wBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,GACPH,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,uBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,GACPH,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,+BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,GACPH,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,yBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,GACPH,OAAQ,QACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,iDACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAERO,MAAO,GACPH,OAAQ,OACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,WACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERO,MAAO,IACPH,OAAQ,SACRD,UAAW,GAEf,CACItB,KAAM,OACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,oBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,IACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,SACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,IAAK,GACLC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,0BACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,aACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,YACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,IACRD,UAAW,EACXG,OAAO,GAEX,CACIzB,KAAM,QACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,gBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,WACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,GAEf,CACItB,KAAM,aACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,sBACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,OACRD,UAAW,GAEf,CACItB,KAAM,UACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,qBACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,SACNqB,UAAW,CACPL,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERI,OAAQ,QACRD,UAAW,GAEf,CACItB,KAAM,SACNqB,UAAW,CACPL,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERI,OAAQ,MACRD,UAAW,IAINK,EAAwC,CACjD,iBAAY,CACRX,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,GAER,uBAAe,CACXH,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER,iBAAe,CACXH,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER,oBAAkB,CACdH,IAAK,EACLC,IAAK,GACLC,GAAI,EACJC,IAAK,GAET,wBAAiB,CACbH,GAAI,IACJC,GAAI,GACJC,GAAI,EACJC,GAAI,IAER,uBAAe,CACXH,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,IAAK,IAET,MAAS,CACLH,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,KAET,qBAAgB,CACZH,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,IAET,mBAAiB,CACbH,IAAK,GACLC,IAAK,GACLC,IAAK,EACLC,GAAI,GAER,cAAY,CACRH,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,IAET,cAAY,CACRH,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,IAET,gBAAc,CACVH,IAAK,GACLC,IAAK,GACLC,GAAI,EACJC,IAAK,IAET,sBAAe,CACXH,GAAI,EACJC,GAAI,GACJC,IAAK,GACLC,IAAK,IAET,MAAS,CACLH,GAAI,EACJC,GAAI,GACJC,IAAK,GACLC,IAAK,IAET,4BAAoB,CAChBH,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAER,sBAAiB,CACbH,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAER,0BAAqB,CACjBH,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,GAER,yBAAoB,CAChBH,IAAK,EACLC,IAAK,EACLC,IAAK,GACLC,GAAI,ICx9BCS,EAAoD,CAC7DC,IAAK,WACLC,GAAI,eACJC,IAAK,iBACLC,GAAI,2BACJC,IAAK,iBACLC,GAAI,gBACJC,IAAK,gBACLC,GAAI,iBACJC,IAAK,aACLC,IAAK,sBAGIC,EAA8C,CACvD,MAAS,CACLV,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,IAAK,KAET,IAAO,CACHT,IAAK,KACLC,GAAI,IACJC,IAAK,IACLC,GAAI,KACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,IAAK,KAET,YAAU,CACNT,IAAK,KACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,IAAK,KAET,UAAQ,CACJT,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,KACJC,IAAK,KACLC,GAAI,IACJC,IAAK,KACLC,IAAK,KAET,aAAc,CACVT,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,KACJC,IAAK,KACLC,GAAI,IACJC,IAAK,KACLC,IAAK,KAET,MAAS,CACLT,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,KACLC,IAAK,KAET,OAAU,CACNT,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,IAAK,KAET,UAAQ,CACJT,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,KACLC,GAAI,IACJC,IAAK,KACLC,IAAK,KAET,UAAQ,CACJT,IAAK,KACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,IAAK,KAET,OAAU,CACNT,IAAK,KACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,KACJC,IAAK,KACLC,GAAI,IACJC,IAAK,KACLC,IAAK,MAKAE,EAA2C,CACpD,OAAU,CAAC,SAAU,eAAa,eAAa,SAC/C,qBAAmB,CAAC,SAAU,WAC9B,IAAO,CAAC,MAAO,YACf,qBAAc,CAAC,qBAAc,sBAC7B,iBAAY,CAAC,sBAAoB,yBAAe,kBAChD,WAAS,CAAC,aAGDC,EAAiC,CAC1C,WAAS,CACLzC,KAAM,WACN0C,SAAU,CACNb,IAAK,KACLC,GAAI,KACJC,IAAK,KACLC,GAAI,KACJC,IAAK,KACLC,GAAI,KACJC,IAAK,KACLC,GAAI,KACJC,IAAK,KACLC,IAAK,MAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,OAGpBC,OAAQ,CACJnD,KAAM,SACN0C,SAAU,CACNb,IAAK,eACLC,GAAI,eACJC,IAAK,eACLC,GAAI,eACJC,IAAK,SACLC,GAAI,UACJC,IAAK,UACLC,GAAI,QACJC,IAAK,UACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpBE,MAAO,CACHpD,KAAM,QACN0C,SAAU,CACNb,IAAK,eACLC,GAAI,UACJC,IAAK,UACLC,GAAI,eACJC,IAAK,SACLC,GAAI,WACJC,IAAK,QACLC,GAAI,QACJC,IAAK,UACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,eAAa,CACTlD,KAAM,eACN0C,SAAU,CACNb,IAAK,eACLC,GAAI,eACJC,IAAK,eACLC,GAAI,eACJC,IAAK,SACLC,GAAI,QACJC,IAAK,MACLC,GAAI,MACJC,IAAK,MACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,eAAa,CACTlD,KAAM,eACN0C,SAAU,CACNb,IAAK,QACLC,GAAI,WACJC,IAAK,QACLC,GAAI,eACJC,IAAK,SACLC,GAAI,MACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpBG,OAAQ,CACJrD,KAAM,SACN0C,SAAU,CACNb,IAAK,UACLC,GAAI,eACJC,IAAK,eACLC,GAAI,UACJC,IAAK,UACLC,GAAI,UACJC,IAAK,UACLC,GAAI,MACJC,IAAK,UACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,UAAQ,CACJlD,KAAM,UACN0C,SAAU,CACNb,IAAK,QACLC,GAAI,WACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,GAAI,WACJC,IAAK,YACLC,GAAI,QACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpBI,IAAK,CACDtD,KAAM,MACN0C,SAAU,CACNb,IAAK,QACLC,GAAI,UACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,GAAI,SACJC,IAAK,QACLC,GAAI,WACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpBK,SAAU,CACNvD,KAAM,WACN0C,SAAU,CACNb,IAAK,WACLC,GAAI,UACJC,IAAK,UACLC,GAAI,QACJC,IAAK,SACLC,GAAI,QACJC,IAAK,UACLC,GAAI,QACJC,IAAK,WACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,qBAAc,CACVlD,KAAM,qBACN0C,SAAU,CACNb,IAAK,QACLC,GAAI,QACJC,IAAK,QACLC,GAAI,QACJC,IAAK,SACLC,GAAI,UACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,qBAAc,CACVlD,KAAM,qBACN0C,SAAU,CACNb,IAAK,QACLC,GAAI,WACJC,IAAK,QACLC,GAAI,QACJC,IAAK,QACLC,GAAI,UACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,sBAAoB,CAChBlD,KAAM,sBACN0C,SAAU,CACNb,IAAK,UACLC,GAAI,QACJC,IAAK,WACLC,GAAI,UACJC,IAAK,QACLC,GAAI,MACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,yBAAe,CACXlD,KAAM,yBACN0C,SAAU,CACNb,IAAK,QACLC,GAAI,UACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,GAAI,MACJC,IAAK,UACLC,GAAI,QACJC,IAAK,QACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,SAGpB,iBAAY,CACRlD,KAAM,iBACN0C,SAAU,CACNb,IAAK,MACLC,GAAI,UACJC,IAAK,UACLC,GAAI,MACJC,IAAK,UACLC,GAAI,MACJC,IAAK,WACLC,GAAI,WACJC,IAAK,WACLC,IAAK,SAETK,cAAe,CACX3B,GAAI,EACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GAERyB,GAAI,CACAC,SAAU,CACN7B,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAER2B,OAAQ,GAEZC,KAAM,CACFC,GAAI,EACJC,GAAI,EACJC,WAAY,QC3kBjB,IAAMM,EAAc,SAACd,GAA2C,IAAxBe,EAAuB,uDAAP,GAC3D,OAAOpG,KAAKsB,IAAI,QAAkBe,IAAbgD,GAA0BrD,OAAOC,MAAMoD,GAAa,EAAIA,GAAYe,IAGhFC,EAAa,SAACC,GACvBA,EAASC,QACT,IDklBuBC,EAA6BC,ECllB9ClB,EAAKe,EAASI,MAAMnB,GAK1B,OAJAe,EAASf,IAAMA,EAAGE,OAClBa,EAASK,aDglBcH,EChlBQF,EAASK,YDglBYF,EChlBClB,EAAGC,SDilB9C,YAAO,IAAIoB,IAAJ,sBAAY1D,OAAO5C,KAAKkG,IAAxB,YAAgCtD,OAAO5C,KAAKmG,OACjD/F,QAAO,SAACC,EAAKC,GAA6E,OAAlED,EAAIC,GAAmB4F,EAAG5F,GAAmB6F,EAAG7F,GAAyBD,IAAQ,KCjlBrH2F,EAASO,OAASnF,EAAK4E,EAASI,MAAMhB,KAAKG,YAAYhF,MACvDyF,EAASV,GAAKU,EAASO,MAChBP,GAgCEQ,EAAqB,SAACR,EAAoLS,EAAkBC,GAAmE,IAAD,IACjSC,EAAeF,EAAQpE,OAASoB,EAAapB,KAC7CuE,EAAwB,kBAAjBH,EAAQpE,KACfwE,EAAqBJ,EAAQ/C,UAAUF,GAAK,EAC5CsD,EAAqC,kBAAzB,UAAAd,EAASI,aAAT,eAAgB/D,MAC5B0E,EAAkC,UAAGf,EAASgB,oBAAZ,aAAG,EAAuBC,MAAK,SAAAC,GAAC,OAAIN,EAAmB,mBAAXM,EAAE7E,KAAwB6E,EAAE7E,OAAS,yBAAwBoE,EAAQpE,KAAK8E,iBACxJC,EAAmB,IAAInF,EAAY0E,EAAe,CAAC,KAAM,KAAM,KAAM,KAAM,UAAaE,EAAY,CAAC,KAAM,KAAM,KAAM,UAAY,CAAC,KAAM,KAAM,KAAM,WAC5JO,EAAIhF,IAAI,OAAQ4D,EAAShB,eACrB8B,GAAad,EAASC,OACtBmB,EAAIhF,IAAI,OAAQ,CAAEiB,GAAI3D,KAAKgB,MAAMsF,EAASC,MAAQ,GAAIrC,OAAQlE,KAAKgB,MAAMsF,EAASC,MAAQ,KAE9FmB,EAAIhF,IAAI,KAAM4D,EAASK,aAClBM,GACDS,EAAIhF,IAAIqE,EAAQpE,KAAhB,2BAA2BoE,EAAQ/C,WAAnC,IAA8C,OAAU+C,EAAQ7C,UAEpEwD,EAAIhF,IAAI,aA5CuB,SAAC4D,EAA4CS,GAC5E,MAAO,CACHpD,GAAIwC,EAAYG,EAASqB,WAAWlD,IAAM0B,EAAYG,EAASqB,WAAWjD,KAC1Ed,GAAIuC,EAAYG,EAASqB,WAAWlD,IAAM0B,EAAYG,EAASqB,WAAWjD,KAAOyB,EAAYG,EAASqB,WAAWnD,KACjHX,GAAIsC,EAAYG,EAASqB,WAAWlD,IAAM0B,EAAYG,EAASqB,WAAWjD,KAC1EZ,GAAIqC,EAAYG,EAASqB,WAAWjD,KACpCR,OAAQiC,EAAYG,EAASqB,WAAWnD,IAAK,KAsC3BoD,CAA2BtB,IAC5Ce,EAIOH,GACRQ,EAAIhF,IAAI,oBAAgB2E,EAAWd,MAAnC,eAA+C7C,EAAmB2D,EAAWd,SAJxEU,GACDS,EAAIhF,IAAI,eAAR,eAA0BgB,EAAmB,kBAMrD,IAAMmE,EA3CwB,SAACvB,GAC/B,OAAIA,EAASwB,MAAQ,GAAKxB,EAASX,IAAuB,IAAjBW,EAASwB,MACvC,CACHnE,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,IAEDwC,EAASwB,MAAQ,GAAKxB,EAASX,IAAuB,GAAjBW,EAASwB,OAAiBxB,EAASO,MAAQ,GAAKP,EAASV,GAAsB,GAAjBU,EAASO,MAC7G,CACHlD,IAAK,EACLC,IAAK,GACLC,IAAK,GACLC,IAAK,GAGN,KA2BWiE,CAA0BzB,GAK5C,OAJIuB,GACAH,EAAIhF,IAAI,kBAAR,eAA0BmF,IAEpB,OAAVb,QAAU,IAAVA,KAAYnE,SAAQ,SAAAgC,GAAE,OAAI6C,EAAIhF,IAAImC,EAAGlC,KAAX,eAAsBkC,OACzC6C,G,SCrIEM,EAAoF,SAAC,GAA0B,IAAxB3G,EAAuB,EAAvBA,OAAQ4G,EAAe,EAAfA,SACxG,OAAO,qCACH,cAACC,EAAA,EAAD,CAAOC,KAAK,QAAQF,SAAUA,EAAUG,MAAM,QAA9C,gBAAuD/G,QAAvD,IAAuDA,OAAvD,EAAuDA,EAAQR,QAC/D,cAACqH,EAAA,EAAD,CAAOG,OAAK,EAAZ,SAAa,mCAAIhH,QAAJ,IAAIA,OAAJ,EAAIA,EAAQP,gBCD3BwH,EAAmBC,EAAQ,KAAiCC,QAErDC,EAA2P,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,OAAQC,EAAmD,EAAnDA,OAAQC,EAA2C,EAA3CA,UAAWC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC7SC,EAAc,SAACrG,EAAcG,GAAiB,IAAD,IACzCjC,EAAQ6H,EAAOlG,OAAOG,GAAMG,GAC5BmG,EAA2C,KAA5B,iBAACpI,QAAD,IAACA,GAAD,UAACA,EAAOa,YAAR,aAAC,EAAaT,WAAd,QAAqB,GACpCiI,GAAkB,OAALrI,QAAK,IAALA,OAAA,EAAAA,EAAOa,MAAOY,EAAezB,EAAMa,MAAQ,GAC9D,OAAI,OAACoH,QAAD,IAACA,OAAD,EAACA,EAAUK,SAASxG,IAKb,cAACyG,EAAA,EAAMC,KAAP,UACH,cAACf,EAAD,CAAaH,KAAK,OAAOmB,iBAAe,EAACzI,MAAOA,EAAMa,KAAKH,KAAMgI,WAAY,EAAGC,SAAU,EAAGC,SAAU,IAAMC,SAAU,SAACC,GAAD,cAAeZ,QAAf,IAAeA,OAAf,EAAeA,EAAWpG,EAAMG,EAAK6G,OADxIhH,EAAO,IAAMG,GAJ9B,eAACsG,EAAA,EAAMC,KAAP,WACFH,GAAaD,IAAD,OAAiBpI,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAOQ,SAAU,2CAAK,cAAC,EAAD,CAAeA,OAAM,OAAER,QAAF,IAAEA,OAAF,EAAEA,EAAOQ,cAD9DsB,EAAO,IAAMG,IAU7C,MAAkB,eAAd8F,EACO,eAACQ,EAAA,EAAD,CAAOQ,QAAM,EAACC,SAAO,EAArB,UACH,cAACT,EAAA,EAAMU,OAAP,UACI,eAACV,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,CAA8BC,UAAU,EAAxC,SAAgDpB,GAA1B,SACrBH,EAAOpI,KAAKC,KAAI,SAAAuC,GAAG,OAAI,cAACsG,EAAA,EAAMY,WAAP,UAA6BrB,EAAO7F,IAAbA,WAGvD,eAACsG,EAAA,EAAMc,KAAP,WACKhH,OAAO5C,KAAKoI,EAAOlG,QAAQjC,KAAI,SAAAoC,GAC5B,OAAO,eAACyG,EAAA,EAAMW,IAAP,WACH,cAACX,EAAA,EAAMY,WAAP,UAA8BrH,GAAPA,GACtB+F,EAAOpI,KAAKC,KAAI,SAAAuC,GAAG,OAAIkG,EAAYrG,EAAMG,QAFvBH,MAK3B,sBAAQ,aAGZ,eAACyG,EAAA,EAAMe,OAAP,WACI,cAACf,EAAA,EAAMY,WAAP,CAAkBnB,MAAM,MAAxB,uBACCH,EAAOpI,KAAKC,KAAI,SAAAuC,GAAG,OAAI,cAACsG,EAAA,EAAMY,WAAP,UAA6BtB,EAAOjG,IAAIK,IAAjBA,YAIhD,eAACsG,EAAA,EAAD,CAAOQ,QAAM,EAACC,SAAO,EAACO,YAAU,EAAhC,UACH,cAAChB,EAAA,EAAMU,OAAP,UACI,eAACV,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,UAA+BnB,GAAT,SACrB3F,OAAO5C,KAAKoI,EAAOlG,QAAQjC,KAAI,SAAAoC,GAAI,OAAI,cAACyG,EAAA,EAAMY,WAAP,UAA8BrH,GAAPA,MAC/D,cAACyG,EAAA,EAAMY,WAAP,uBAAsB,YAG9B,cAACZ,EAAA,EAAMc,KAAP,UACKxB,EAAOpI,KAAKC,KAAI,SAAAuC,GACb,OAAO,eAACsG,EAAA,EAAMW,IAAP,WACH,cAACX,EAAA,EAAMY,WAAP,UAA+BrB,EAAO7F,IAAhB,SACrBI,OAAO5C,KAAKoI,EAAOlG,QAAQjC,KAAI,SAAAoC,GAAI,OAAIqG,EAAYrG,EAAMG,MAC1D,cAACsG,EAAA,EAAMY,WAAP,UAA6BtB,EAAOjG,IAAIK,IAAlB,SAHHA,YCvDrCwF,EAAmBC,EAAQ,KAAiCC,QAErD6B,EAA+J,SAAC,GAA0D,IAAxDvC,EAAuD,EAAvDA,MAAOjB,EAAgD,EAAhDA,MAAOlB,EAAyC,EAAzCA,GAAIC,EAAqC,EAArCA,GAAI8D,EAAiC,EAAjCA,SAAUY,EAAuB,EAAvBA,UAAWzB,EAAY,EAAZA,MAChN0B,OAA0BlI,IAAdiI,EAClB,OAAO,eAAClB,EAAA,EAAD,CAAOS,SAAO,EAACD,QAAM,EAACQ,YAAU,EAAhC,UACH,cAAChB,EAAA,EAAMU,OAAP,UACI,eAACV,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,iBAAmBnB,QAAnB,IAAmBA,IAAS,oBAC5B,cAACO,EAAA,EAAMY,WAAP,oBACA,cAACZ,EAAA,EAAMY,WAAP,sBAIR,eAACZ,EAAA,EAAMc,KAAP,WACI,eAACd,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,kBACA,cAACZ,EAAA,EAAMC,KAAP,UAAaiB,EAAY,cAAC,EAAD,CAAaE,UAAW,EAAGrC,KAAK,cAAcmB,iBAAe,EAACzI,MAAOiH,EAAOyB,WAAY,EAAGC,SAAU,EAAGC,SAAU,IAAMC,SAAU,SAACC,GAAD,OAAYD,EAAS1H,OAAO2H,GAAI9C,MAAaiB,IACxM,cAACsB,EAAA,EAAMC,KAAP,UAAaiB,EAAY,cAAC,EAAD,CAAaE,UAAW,EAAGrC,KAAK,cAAcmB,iBAAe,EAACzI,MAAOgG,EAAO0C,WAAY,EAAGC,SAAU,EAAGC,SAAU,IAAMC,SAAU,SAACC,GAAD,OAAYD,EAAS5B,EAAO9F,OAAO2H,OAAU9C,OAE5M,eAACuC,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,kBACA,cAACZ,EAAA,EAAMC,KAAP,UAAckB,EAAiB,cAAC,EAAD,CAAaC,UAAW,EAAGrC,KAAK,cAAcmB,iBAAe,EAACzI,MAAO8E,EAAI4D,WAAY,EAAGC,SAAU,EAAGC,SAAU3B,EAAO4B,SAAU,SAACC,GAAD,OAAYD,EAAS1J,KAAKyK,IAAI3C,EAAO9F,OAAO2H,IAAK/D,MAAtLD,IAC1B,cAACyD,EAAA,EAAMC,KAAP,UAAckB,EAAiB,cAAC,EAAD,CAAaC,UAAW,EAAGrC,KAAK,cAAcmB,iBAAe,EAACzI,MAAO+E,EAAI2D,WAAY,EAAGC,SAAU,EAAGC,SAAU5C,EAAO6C,SAAU,SAACC,GAAD,OAAYD,EAAS/D,EAAI3F,KAAKyK,IAAI5D,EAAO7E,OAAO2H,QAArL/D,cCpB7B8E,EAAsC,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,MAAOC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UACzF,OAAKA,EAQM,eAACC,EAAA,EAAD,CAAQC,cAAc,OAAOC,GAAG,MAAhC,UACH,cAAChD,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,SACK0C,IAEJzH,OAAO5C,KAAKyK,GAAWxK,KAAI,SAAA4K,GAAE,OAAI,eAACH,EAAA,EAAOI,MAAR,CAAcF,GAAG,MAAMG,UAAQ,EAA/B,UAC9B,cAACnD,EAAA,EAAD,CAAOoD,KAAG,EAAClD,MAAM,SAAjB,SAA2B+C,IAC1BL,EAAQ9H,QAAO,SAAAuI,GAAC,OAAIR,EAAUI,GAAIhC,SAASoC,MAAIhL,KAAI,SAACiL,EAAGC,GAAJ,OAAU,cAACT,EAAA,EAAD,CAAQU,SAAO,EAACC,OAAQf,IAAaY,EAAGI,QAAS,kBAAMf,EAAYW,IAAnE,SAAwEA,gBAbvI,eAACR,EAAA,EAAD,CAAQC,cAAc,OAAOC,GAAG,MAAhC,UACH,cAAChD,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,SACK0C,IAEJG,EAAQvK,KAAI,SAAAiL,GAAC,OAAI,cAACR,EAAA,EAAD,CAAQW,OAAQf,IAAaY,EAAGI,QAAS,kBAAMf,EAAYW,IAA3D,SAAgEA,WCLjFK,EAA4L,SAAC,GAA+D,IAA7DC,EAA4D,EAA5DA,SAAUC,EAAkD,EAAlDA,oBAAqBC,EAA6B,EAA7BA,uBAOvO,OAAO,gCACH,8BACI,eAACC,EAAA,EAAD,CAAOC,OAAK,EAACjB,cAAc,OAAOkB,YAAY,mBAAmBC,OAAQL,EAAoBpJ,KAAM9B,MAAOkL,EAAoBpJ,KAAM+G,SAAU,SAAAC,GAAC,OAAIqC,EAAuB,2BAAKD,GAAN,IAA2BpJ,KAAMgH,EAAE0C,OAAOxL,UAAnN,UACI,cAACqH,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,oBACA,+BAGR,8BAAK,cAAC,EAAD,CAAWsC,MAAM,QAAQC,SAAUmB,EAAoBrF,MAAOmE,YAZ1C,SAACyB,GAC1BN,EAAuB,2BAAKD,GAAN,IAA2BrF,MAAO4F,EAAGC,OAAc,aAAND,EAAgBE,KAAKC,MAAMD,KAAKE,UAAUtH,EAAQ,mBAAa/C,MAW5ByI,QAAS5H,OAAO5C,KAAK8E,GAAU2F,UAAW5F,MAChJ,8BAAK,cAAC,EAAD,CAAWwF,MAAM,MAAMC,SAAUmB,EAAoBY,IAAK9B,YAAa,SAAA8B,GAAG,OAAIX,EAAuB,2BAAKD,GAAN,IAA2BY,UAAQ7B,QAASgB,MACrJ,8BAAK,eAACG,EAAA,EAAD,CAAOhB,cAAc,OAAOpK,MAAOkL,EAAoBxF,MAAOmD,SAAU,SAAAC,GACzE,IAAM9I,EAAQ8I,EAAE0C,OAAOxL,MAAQb,KAAKsB,IAAI,EAAGtB,KAAKgB,MAAMgB,OAAO2H,EAAE0C,OAAOxL,cAAWwB,EACjF2J,EAAuB,2BAAKD,GAAN,IAA2BxF,MAAO1F,MAFvD,UAID,cAACqH,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,mBACA,+BAGH0D,EAAoBQ,QAAU,8BAC3B,eAACN,EAAA,EAAD,CAAOhB,cAAc,OAAOmB,OAAQL,EAAoBQ,OAAO5J,KAAM9B,MAAOkL,EAAoBQ,OAAO5J,KAAM+G,SAAU,SAAAC,GAC/GoC,EAAoBQ,QACpBP,EAAuB,2BAAKD,GAAN,IAA2BQ,OAAO,2BAAMR,EAAoBQ,QAA3B,IAAmC5J,KAAMgH,EAAE0C,OAAOxL,YAFjH,UAKI,cAACqH,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,wBACA,mCC1BVC,EAAmBC,EAAQ,KAAiCC,QAW5DoE,EAAsB,SAACC,EAAD,EAAiHnL,GAAoB,IAA5FgF,EAA2F,EAA3FA,MAAOiG,EAAoF,EAApFA,IAAKJ,EAA+E,EAA/EA,OACvEO,EAAY,IAAIvK,EAAYW,OAAO5C,KAAKiE,IAY9C,OAXIgI,EACAO,EAAUpK,IAAI,UAAYgE,EAAO6F,EAAOlH,UACjCqB,GAAStB,EAAQsB,IACxBoG,EAAUpK,IAAI,UAAYgE,EAAOtB,EAAQsB,GAAOrB,UAEhDsH,GAAOE,EAAMF,IACbG,EAAUpK,IAAI,QAAUiK,EAAKE,EAAMF,KAEnCjL,GAAQ6K,IACRO,EAAUpL,OAEPoL,GAmCEC,EAA6G,SAAC,GAAqB,IAAD,IAAlBC,EAAkB,EAAlBA,KAAMH,EAAY,EAAZA,MAAY,EACrFI,mBAA8B,CAAE1G,MAAO,EAAG5D,KAAM,KADqC,mBACpIoJ,EADoI,KAC/GC,EAD+G,OAE/GiB,mBAAsB,IAAI1K,EAAYW,OAAO5C,KAAKiE,KAF6D,mBAEpImE,EAFoI,KAE5HwE,EAF4H,KAI3IC,qBAAU,WACND,EAAUN,EAAoBC,EAAO,CAAEnG,MAAOqF,EAAoBrF,MAAOiG,IAAKZ,EAAoBY,IAAKJ,OAAQR,EAAoBQ,YACpI,CAACM,EAAOd,EAAoBQ,OAAQR,EAAoBY,IAAKZ,EAAoBrF,MAAOwG,IAE3F,IAMMxG,EAAK,UAAGqF,EAAoBQ,cAAvB,QAAiCnH,EAAO,UAAC2G,EAAoBrF,aAArB,QAA8B,IAC3EJ,EAAWI,EAAQ,CACrBiB,WAAYe,EAAOjG,IACnB6C,cAAeoB,EAAMpB,cACrBqB,YAAaD,EAAMnB,GAAGC,SACtBsC,MAAOpB,EAAMhB,KAAKC,GAAKQ,EAAYuC,EAAOjG,IAAImC,KAC9CiC,MAAOH,EAAMhB,KAAKE,GAAKO,EAAYuC,EAAOjG,IAAIsC,IAAMoB,EAAYuC,EAAOjG,IAAIkC,IAC3EgB,GAAIe,EAAMhB,KAAKC,GAAKQ,EAAYuC,EAAOjG,IAAImC,KAC3CgB,GAAIc,EAAMhB,KAAKE,GAAKO,EAAYuC,EAAOjG,IAAIsC,IAAMoB,EAAYuC,EAAOjG,IAAIkC,UACxEtC,EAEE+K,EAAOrB,EAAoBQ,OAEjC,OAAO,eAACc,EAAA,EAAD,CAAMC,SAAO,EAAb,UACH,eAACC,EAAA,EAAD,CAASC,QAAS,EAAGC,SAAO,EAA5B,UACI,eAACC,EAAA,EAAD,WACI,cAACH,EAAA,EAAD,UACI,cAAC,EAAD,CAA2BxB,oBAAqBA,EAAqBC,uBAAwBA,EAAwBF,SAAU5I,OAAO5C,KAAKuM,OAE9IvG,GAAY,qCACT,gCACI,eAAC0E,EAAA,EAAD,CAAQE,GAAG,MAAM7C,OAAK,EAACsF,QAAQ,OAA/B,UACI,cAACzF,EAAA,EAAD,CAAOG,OAAK,EAAZ,+BACC0D,EAAoBQ,OAAS,cAAC,EAAD,CAAapE,KAAK,OAAOmB,iBAAe,EAACzI,MAAOkL,EAAoBQ,OAAOhH,GAAGE,OAAQ8D,WAAY,EAAGC,SAAU,EAAGC,SAAU,IAAMC,SAAU,SAACC,GACnKoC,EAAoBQ,SACpBR,EAAoBQ,OAAOhH,GAAGE,OAASzD,OAAO2H,GAC9CqC,EAAuB,eAAKD,QAE5B,cAAC7D,EAAA,EAAD,CAAOG,OAAK,EAAZ,SAAc3B,EAAMnB,GAAGE,YAEnC,eAACuF,EAAA,EAAD,CAAQE,GAAG,MAAM7C,OAAK,EAACsF,QAAQ,QAA/B,UACI,cAACzF,EAAA,EAAD,CAAOG,OAAK,EAAZ,iCACC+E,GAAQ,cAACnB,EAAA,EAAD,CAAOpL,MAAO6F,EAAMhB,KAAKG,WAAY6D,SAAU,SAAAC,GACpDyD,EAAK1H,KAAKG,WAAa8D,EAAE0C,OAAOxL,MAChCmL,EAAuB,2BAAKD,GAAN,IAA2BQ,OAAQa,SAE3DA,GAAQ,cAAClF,EAAA,EAAD,CAAOG,OAAK,EAAZ,SAAc3B,EAAMhB,KAAKG,mBAG3C,8BAAK,cAAC,EAAD,CACDgD,MAAM,oBACNC,SAAUsE,EAAO,CAAC,OAAQ,MAAQ,GAClCrE,SAAU,SAACpG,EAAMG,EAAKjC,GACduM,IACa,SAATzK,EACCyK,EAAK9H,cAAsBxC,GAAOjC,EACnB,OAAT8B,IACNyK,EAAK7H,GAAGC,SAAiB1C,GAAOjC,GAErCmL,EAAuB,2BAAKD,GAAN,IAA2BQ,OAAQa,OAGjE1E,OAAQ5B,EAAmBR,EAAUvC,GAAcrC,KAAK,CAAC,KAAM,KAAM,KAAM,OAC3EkH,UAAU,WACVD,OAAQlF,MAEZ,8BACI,cAAC,EAAD,CACIoF,MAAM,6BACNlD,GAAIW,EAASX,GACbC,GAAIU,EAASV,GACbkC,MAAOxB,EAASwB,MAChBjB,MAAOP,EAASO,MAChB6C,SAAU,SAAC/D,EAAIC,GACPwH,IACAA,EAAK1H,KAAKC,GAAKA,EAAKQ,EAAYuC,EAAOjG,IAAImC,KAC3CwI,EAAK1H,KAAKE,GAAKA,EAAKO,EAAYuC,EAAOjG,IAAIsC,IAAMoB,EAAYuC,EAAOjG,IAAIkC,IACxEqH,EAAuB,2BAAKD,GAAN,IAA2BQ,OAAQa,OAGjE9C,eAAoBjI,IAAT+K,YAM3B,cAACM,EAAA,EAAD,UACI,cAAC,EAAD,CACI7E,MAAM,mBACNH,OAAQA,EACRC,OAAQpE,EACRqE,UAAU,WACVE,SAAUsE,EAAO,CAAC,mBAAkB,GACpCrE,SAAU,SAACpG,EAAMG,EAAKjC,GAAZ,OAAsBuM,GAAQpB,EAAuB,2BAAKD,GAAN,IAA2BQ,OAAO,2BAAMa,GAAP,IAAa/H,SAAS,2BAAM+H,EAAK/H,UAAZ,kBAAuBvC,EAAMjC,iBAG7J,cAAC0M,EAAA,EAAD,CAASC,QAAS,EAAGI,UAAU,SAA/B,SACI,eAACF,EAAA,EAAD,WACI,cAAC1C,EAAA,EAAD,CAAQf,WAAYmD,EAAMS,WAAS,EAACjC,QA9FpC,WACRsB,EAAUN,EAAoBC,EAAOd,GAAqB,KA6FlD,iBACA,cAACf,EAAA,EAAD,CAAQf,UAAW8B,EAAoBpJ,WAAsCN,IAA9B0J,EAAoBxF,QAAwBmC,EAAOjG,IAAKqL,SAAO,EAAClC,QAAS,WAAQ,IAAMmC,EAvI/H,SAAC,EAA0DpG,GAA6B,IAArFjB,EAAoF,EAApFA,MAAOiG,EAA6E,EAA7EA,IAAKJ,EAAwE,EAAxEA,OAAQhG,EAAgE,EAAhEA,MAAO5D,EAAyD,EAAzDA,KAC3CqL,EAAO,OAAGzB,QAAH,IAAGA,IAAUnH,EAAO,OAACsB,QAAD,IAACA,IAAS,IAC3C,IAAKsH,IAAYrG,EAAWlF,MAAQkK,EAChC,OAAO,KAEX,IAAMjH,EAAOsI,EAAQtI,KACfC,EAAKD,EAAKC,GAAKQ,EAAYwB,EAAWlF,IAAImC,KAC1CgB,EAAKF,EAAKE,GAAKO,EAAYwB,EAAWlF,IAAIsC,IAAMoB,EAAYwB,EAAWlF,IAAIkC,IAC3E2B,EAAqB,CACvB2H,GAAIC,cACJvL,OACAgK,MACAwB,WAAY,GACZxG,WAAYA,EAAWlF,IACvBiE,MAAOsH,EACPzH,MAAO,EACPhB,GAAI,EACJuC,MAAOnC,EACPkB,MAAOjB,EACPD,KACAC,KACAe,YAAa,CAAEhD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACxCwD,aAAc,GACdhC,cAAe0I,EAAQ1I,cACvB8I,UAAW,CAACrK,IAGhB,OADA,YAAI3D,MAAMmG,GAAOjG,QAAQuC,SAAQ,kBAAMwD,EAAWC,MAC3CA,EA4GiJ+H,CAAetC,EAAqBrD,GAAaqF,GAAOf,EAAKe,IAAzM,2B,mBCzKHO,GAA8I,SAAC,GAAgD,IAA9CF,EAA6C,EAA7CA,UAAWxD,EAAkC,EAAlCA,SAAU2D,EAAwB,EAAxBA,kBACzKC,EAAuDJ,EAAU7N,KAAI,SAAAwG,GAAY,IAAD,EAC5E0H,EAAuC,GAS7C,OARAA,EAAI9L,KAAOoE,EAAQpE,KACnB8L,EAAI9K,GAAKoD,EAAQ/C,UAAUL,GAC3B8K,EAAI7K,GAAKmD,EAAQ/C,UAAUJ,IAAM,IACjC6K,EAAI5K,GAAKkD,EAAQ/C,UAAUH,GAC3B4K,EAAI3K,GAAKiD,EAAQ/C,UAAUF,IAAM,IACjC2K,EAAIvK,OAAS6C,EAAQ7C,OACrBuK,EAAIxK,UAAY8C,EAAQ3C,MAAQ,KAAO2C,EAAQ9C,UAAY8C,EAAQ9C,UACnEwK,EAAIpK,MAAJ,UAAY0C,EAAQ1C,aAApB,QAA6B,IACtBoK,KAGX,OAAO,eAACrF,EAAA,EAAD,CAAOQ,QAAM,EAACC,SAAO,EAACO,YAAU,EAACsE,gBAAkCrM,IAAtBkM,EAA7C,UACH,cAACnF,EAAA,EAAMU,OAAP,UACI,eAACV,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,sBACA,cAACZ,EAAA,EAAMY,WAAP,oBACA,cAACZ,EAAA,EAAMY,WAAP,oBACA,cAACZ,EAAA,EAAMY,WAAP,oBACA,cAACZ,EAAA,EAAMY,WAAP,oBACA,cAACZ,EAAA,EAAMY,WAAP,wBACA,cAACZ,EAAA,EAAMY,WAAP,8BACA,cAACZ,EAAA,EAAMY,WAAP,iCAGR,cAACZ,EAAA,EAAMc,KAAP,UACKsE,EAAajO,KAAI,SAAC+C,EAAGmI,GAClB,OAAO,eAACrC,EAAA,EAAMW,IAAP,CAAW4B,OAAQf,IAAaa,EAAGG,QAAS,yBAAM2C,QAAN,IAAMA,OAAN,EAAMA,EAAoB3D,IAAaa,OAAIpJ,EAAYoJ,IAAnG,UACH,cAACrC,EAAA,EAAMC,KAAP,UAAa/F,EAAEX,OACf,cAACyG,EAAA,EAAMC,KAAP,UAAa/F,EAAEK,KACf,cAACyF,EAAA,EAAMC,KAAP,UAAa/F,EAAEM,KACf,cAACwF,EAAA,EAAMC,KAAP,UAAa/F,EAAEO,KACf,cAACuF,EAAA,EAAMC,KAAP,UAAa/F,EAAEQ,KACf,cAACsF,EAAA,EAAMC,KAAP,UAAa/F,EAAEY,SACf,cAACkF,EAAA,EAAMC,KAAP,UAAa/F,EAAEW,YACf,cAACmF,EAAA,EAAMC,KAAP,UAAa/F,EAAEe,oB,oBC/BtBsK,GAA4C,SAAC,GAAgC,IAA9B9N,EAA6B,EAA7BA,MAAO6I,EAAsB,EAAtBA,SAAUiB,EAAY,EAAZA,MACzE,OAAO,eAACsB,EAAA,EAAD,CAAOhB,cAAc,OAAOmB,WAAiB/J,IAAVxB,EAAqBA,MAAK,OAAEA,QAAF,IAAEA,IAAS,GAAI6I,SAAU,SAAAC,GACzF,IAAMiF,EAAWjF,EAAE0C,OAAOxL,MAAQb,KAAKsB,IAAI,EAAGtB,KAAKgB,MAAMgB,OAAO2H,EAAE0C,OAAOxL,cAAWwB,OACnEA,IAAbuM,GAA2B5M,OAAOC,MAAM2M,IACxClF,EAASkF,IAHV,UAMH,cAAC1G,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,SAA+BsC,IAC/B,8BCEFkE,GAAsB,SAAC9H,GAAmC,IAAD,QAC3D,MAAO,CACHpE,KAAI,iBAAEoE,QAAF,IAAEA,OAAF,EAAEA,EAASpE,YAAX,QAAmB,GACvBgB,GAAE,OAAEoD,QAAF,IAAEA,OAAF,EAAEA,EAAS/C,UAAUL,GACvBC,GAAE,OAAEmD,QAAF,IAAEA,OAAF,EAAEA,EAAS/C,UAAUJ,GACvBC,GAAE,OAAEkD,QAAF,IAAEA,OAAF,EAAEA,EAAS/C,UAAUH,GACvBC,GAAE,OAAEiD,QAAF,IAAEA,OAAF,EAAEA,EAAS/C,UAAUF,GACvBqD,WAAW,iBAACJ,QAAD,IAACA,OAAD,EAACA,EAAS/C,UAAUF,UAApB,QAA0B,GAAK,EAC1CO,MAAK,OAAE0C,QAAF,IAAEA,OAAF,EAAEA,EAAS1C,MAChBH,OAAM,iBAAE6C,QAAF,IAAEA,OAAF,EAAEA,EAAS7C,cAAX,QAAqB,GAC3BD,UAAS,OAAE8C,QAAF,IAAEA,OAAF,EAAEA,EAAS9C,UACpBG,MAAK,iBAAE2C,QAAF,IAAEA,OAAF,EAAEA,EAAS3C,aAAX,WAIP0K,GAAwB,SAAC/H,GAAkC,IAAD,UAC5D,MAAO,CACHpE,KAAMoE,EAAQpE,KACdqB,UAAW,CACPL,GAAE,UAAEoD,EAAQpD,UAAV,QAAgB,EAClBC,GAAE,UAAEmD,EAAQnD,UAAV,QAAgB,EAClBC,GAAE,UAAEkD,EAAQlD,UAAV,QAAgB,EAClBC,GAAE,UAAEiD,EAAQjD,UAAV,QAAgB,GAEtBO,MAAO0C,EAAQ1C,MACfH,OAAQ6C,EAAQ7C,OAChBD,UAAS,UAAE8C,EAAQ9C,iBAAV,QAAuB,EAChCG,MAAO2C,EAAQ3C,QAIV2K,GAAsK,SAAC,GAA6C,IAA3ChI,EAA0C,EAA1CA,QAASiI,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,OAAQ5H,EAAiB,EAAjBA,WAAiB,EAEpM4F,mBAAqB4B,GAAoB9H,IAF2J,mBAErNmI,EAFqN,KAE/MC,EAF+M,KAQ5N,OAJAhC,qBAAU,WACNgC,EAAQN,GAAoB9H,MAC7B,CAACA,IAEG,eAACsG,EAAA,EAAD,CAAMG,QAAS,EAAGF,SAAO,EAAzB,UACH,cAACC,EAAA,EAAD,UACI,eAACG,EAAA,EAAD,WACI,8BACI,eAACzB,EAAA,EAAD,CAAOC,OAAK,EAACjB,cAAc,OAAOkB,YAAY,kBAAkBC,OAAQ8C,EAAKvM,KAAM9B,MAAOqO,EAAKvM,KAAM+G,SAAU,SAAAC,GAAC,OAAIwF,EAAQ,2BAAKD,GAAN,IAAYvM,KAAMgH,EAAE0C,OAAOxL,UAAtJ,UACI,cAACqH,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,oBACA,+BAGR,8BAAK,cAAC,GAAD,CAAcxH,MAAOqO,EAAKvL,GAAI+F,SAAU,SAAA/F,GAAE,OAAIwL,EAAQ,2BAAKD,GAAN,IAAYvL,SAAOgH,MAAM,YACnF,gCACI,cAACzC,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,6BACA,cAAC+G,GAAA,EAAD,CAAUC,QAAQ,EAAMC,QAAM,EAACC,QAASL,EAAK/H,UAAWuC,SAAU,kBAAMyF,EAAQ,2BAAKD,GAAN,IAAY/H,WAAY+H,EAAK/H,oBAG9G+H,EAAK/H,WACH,8BAAK,cAAC,GAAD,CAActG,MAAOqO,EAAKtL,GAAI8F,SAAU,SAAA9F,GAAE,OAAIuL,EAAQ,2BAAKD,GAAN,IAAYtL,SAAO+G,MAAM,YAEtFuE,EAAK/H,WACF,8BAAK,cAAC,GAAD,CAActG,MAAOqO,EAAKpL,GAAI4F,SAAU,SAAA5F,GAAE,OAAIqL,EAAQ,2BAAKD,GAAN,IAAYpL,SAAO6G,MAAM,YAEvF,8BAAK,cAAC,GAAD,CAAc9J,MAAOqO,EAAKrL,GAAI6F,SAAU,SAAA7F,GAAE,OAAIsL,EAAQ,2BAAKD,GAAN,IAAYrL,SAAO8G,MAAM,YACnF,8BACI,eAACsB,EAAA,EAAD,CAAOC,OAAK,EAACjB,cAAc,OAAOkB,YAAY,wBAAqBC,OAAQ8C,EAAKhL,OAAQrD,MAAOqO,EAAKhL,OAAQwF,SAAU,SAAAC,GAAC,OAAIwF,EAAQ,2BAAKD,GAAN,IAAYhL,OAAQyF,EAAE0C,OAAOxL,UAA/J,UACI,cAACqH,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,uBACA,+BAGP6G,EAAK/H,WACF,8BAAK,cAAC,GAAD,CAActG,MAAOqO,EAAK7K,MAAOqF,SAAU,SAAArF,GAAK,OAAI8K,EAAQ,2BAAKD,GAAN,IAAY7K,YAAUsG,MAAM,oBAEhG,gCACI,cAACzC,EAAA,EAAD,CAAOD,SAAS,QAAQI,OAAK,EAA7B,uBACA,cAAC+G,GAAA,EAAD,CAAUC,QAAQ,EAAMC,QAAM,EAACC,QAASL,EAAK9K,MAAOsF,SAAU,kBAAMyF,EAAQ,2BAAKD,GAAN,IAAY9K,OAAQ8K,EAAK9K,eAGxG,8BAAK,cAAC,GAAD,CAAcvD,MAAOqO,EAAKjL,UAAWyF,SAAU,SAAAzF,GAAS,OAAIkL,EAAQ,2BAAKD,GAAN,IAAYjL,gBAAc0G,MAAK,4CAAwBuE,EAAK9K,MAAQ,OAAS,aAG7J,cAACmJ,EAAA,EAAD,CAASK,UAAU,SAAnB,SACI,eAACF,EAAA,EAAD,YACMrG,GAAc,cAAC2D,EAAA,EAAD,CAAQY,QAAS,kBAAMoD,EAAOF,GAAsBI,KAApD,kBACf7H,GACG,eAAC2D,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOD,SAAS,QAAhB,kCAGA,cAAC+C,EAAA,EAAD,CAAQY,QAAS,kBAAMoD,EAAOF,GAAsBI,GAAO,iBAA3D,0BACA,cAAClE,EAAA,EAAD,CAAQ6C,WAAS,EAACjC,QAAS,kBAAMoD,EAAOF,GAAsBI,GAAO,OAArE,gBACA,cAAClE,EAAA,EAAD,CAAQ8C,SAAO,EAAClC,QAAS,kBAAMoD,EAAOF,GAAsBI,GAAO,OAAnE,mBAGR,cAAClE,EAAA,EAAD,CAAQ6C,WAAS,EAACxF,OAAK,EAACuD,QAASqD,EAAjC,+BClGHO,GAAkD,SAAC,GAAkD,IAAhDlJ,EAA+C,EAA/CA,SAAU0G,EAAqC,EAArCA,KAAMoB,EAA+B,EAA/BA,UAAWqB,EAAoB,EAApBA,cAAoB,EAE7ExC,qBAF6E,mBAEtGrC,EAFsG,KAE5FC,EAF4F,OAGvDoC,qBAHuD,mBAGtGyC,EAHsG,KAGjFC,EAHiF,OAIzE1C,oBAAkB,GAJuD,mBAItG2C,EAJsG,KAI1FC,EAJ0F,OAKjE5C,oBAAkB,GAL+C,mBAKtG6C,EALsG,KAKtFC,EALsF,KAOvGC,EAAgBC,uBAAY,SAACC,GAC/B,IAAMnJ,OAAuB1E,IAAbuI,EAAyBwD,EAAUxD,QAAYvI,EAC3D0E,IACAoJ,GAAwB7J,EAAUS,EAASmJ,GAC3ClD,EAAK1G,MAEV,CAACA,EAAU0G,EAAMpC,EAAUwD,IAExBgC,EAAeH,uBAAY,gBACD5N,IAAxBqN,IACApJ,EAAS8H,UAAY9H,EAAS8H,UAAUpL,QAAO,SAACqN,EAAG5E,GAAJ,OAAUA,IAAMiE,KAC/DpJ,EAASgK,kBAAoB,EAC7BtD,EAAK1G,MAEV,CAACA,EAAU0G,EAAM0C,IAGpB,OAAO,eAACrC,EAAA,EAAD,CAAMG,QAAS,EAAGF,SAAO,EAAzB,UACH,eAACC,EAAA,EAAD,CAASC,QAAQ,QAAjB,UACI,eAACE,EAAA,EAAD,WACI,eAAC5D,GAAA,EAAD,CAAQ3B,KAAK,QAAb,8BACI,cAACoI,EAAA,EAAD,CAAOC,QAAS,cAACxF,EAAA,EAAD,CAAQ2C,QAAQ,QAAQG,SAAO,EAA/B,cAA8CzL,IAAbuI,EAAyB,gBAAY,UAClF6F,OAAQ,kBAAMV,GAAkB,IAChCW,QAAS,kBAAMX,GAAkB,IACjCY,KAAMb,EAHV,SAII,cAACS,EAAA,EAAMK,QAAP,UACI,cAAC,GAAD,CACI7J,aAAsB1E,IAAbuI,EAAyBwD,EAAUxD,QAAYvI,EACxD2M,OAAQ,SAAAqB,QACahO,IAAbuI,EACAwD,EAAUyC,KAAKR,GAEfjC,EAAUxD,GAAYyF,EAE1BZ,EAAcrB,GACd2B,GAAkB,IAEtBd,OAAQ,kBAAMc,GAAkB,UAG5C,cAAC/E,EAAA,EAAD,CAAQ2C,QAAQ,QAAQmD,UAAQ,EAAC7G,cAAuB5H,IAAbuI,EAAwBgB,QAAS,WACxE6D,EAAcrB,EAAUpL,QAAO,SAACqN,EAAG5E,GAAJ,OAAUA,IAAMb,OADnD,yBAGA,eAACI,EAAA,EAAD,CAAQ2C,QAAQ,QAAQzC,GAAG,MAAMD,cAAc,OAA/C,UACI,cAAC/C,EAAA,EAAD,CAAOD,SAAS,QAAhB,8BAGA,cAAC+C,EAAA,EAAD,CAAQf,cAAuB5H,IAAbuI,EAAwBgB,QAAS,kBAAMoE,EAAc,KAAvE,0BACA,cAAChF,EAAA,EAAD,CAAQ6C,WAAS,EAAC5D,cAAuB5H,IAAbuI,EAAwBgB,QAAS,kBAAMoE,EAAc,OAAjF,gBACA,cAAChF,EAAA,EAAD,CAAQ8C,SAAO,EAAC7D,cAAuB5H,IAAbuI,EAAwBgB,QAAS,kBAAMoE,EAAc,OAA/E,sBAGR,cAAC,GAAD,CAAc5B,UAAWA,EAAU2C,MAAK,SAAC5N,EAAGC,GAAJ,OAAUD,EAAER,KAAKqO,cAAc5N,EAAET,SAAQiI,SAAUA,EAAU2D,kBAAmB1D,OAE5H,eAAC6C,EAAA,EAAD,WACI,eAAC5D,GAAA,EAAD,CAAQ3B,KAAK,QAAb,mBACI,cAACoI,EAAA,EAAD,CAAOC,QAAS,cAACxF,EAAA,EAAD,CAAQ2C,QAAQ,QAAQG,SAAO,EAA/B,cAAyDzL,IAAxBqN,EAAoC,gBAAY,UAAgBe,OAAQ,kBAAMZ,GAAc,IAAOa,QAAS,kBAAMb,GAAc,IAAQc,KAAMf,EAA/L,SACI,cAACW,EAAA,EAAMK,QAAP,UACI,cAAC,GAAD,CACIvJ,YAAU,EACVN,aAAiC1E,IAAxBqN,EAAoCpJ,EAAS8H,UAAUsB,QAAuBrN,EACvF2M,OAAQ,SAACqB,EAAG7I,GAAQ2I,GAAwB7J,EAAU+J,EAAX,OAAc7I,QAAd,IAAcA,IAAK,eAAakI,GAAsB1C,EAAK1G,GAAWuJ,GAAc,IAC/HZ,OAAQ,kBAAMY,GAAc,UAGxC,cAAC7E,EAAA,EAAD,CAAQ2C,QAAQ,QAAQmD,UAAQ,EAAC7G,cAAkC5H,IAAxBqN,EAAmC9D,QAASwE,EAAvF,4BAEJ,cAAC,GAAD,CAAchC,UAAW9H,EAAS8H,UAAWxD,SAAU8E,EAAqBnB,kBAAmBoB,UAGvG,cAACpC,EAAA,EAAD,CAASC,QAAS,EAAGI,UAAU,SAA/B,SACI,cAACF,EAAA,EAAD,UACI,gCAOhB,SAASyC,GAAwB7J,EAAoBS,EAAkBmJ,EAAyBe,GAC5F,IAAMC,EAAI,OAAGD,QAAH,IAAGA,IAAO3K,EAAS8H,UAAU+C,WAAU,SAAAd,GAAC,OAAIA,EAAE1N,OAASoE,EAAQpE,SAC3D,IAAVuO,EACA5K,EAAS8H,UAAUyC,KAAnB,eAA6B9J,IAE7BT,EAAS8H,UAAU8C,GAAQnK,EAE/BT,EAASgK,kBAAoBhK,EAAS8H,UAAU+C,WAAU,SAAAd,GAAC,OAAIA,EAAE1N,OAASoE,EAAQpE,QAClF,IAAMyO,EAAc,gCAAyBrK,EAAQpE,KAAK8E,eAE1D,GADAnB,EAASgB,aAAehB,EAASgB,aAAatE,QAAO,SAAAwE,GAAC,OAAIA,EAAE7E,OAASyO,KACjElB,EAAiB,CACjB,IAAM7I,EAAyB,CAC3B1E,KAAMyO,EACN7K,MAAO2J,EACPmB,GAAI,GAER/K,EAASgB,aAAauJ,KAAKxJ,IC/GnC,IAAMiB,GAAmBC,EAAQ,KAAiCC,QAOrD8I,GAAqH,SAAC,GAAiC,IAA/BtN,EAA8B,EAA9BA,UAAWuB,EAAmB,EAAnBA,GAAIgM,EAAe,EAAfA,SAAe,EACjItE,mBAAgB,CAAEjJ,UAAU,eAAMA,GAAauB,GAAIA,IAD8E,mBACxJiM,EADwJ,KAC/IC,EAD+I,KAG/JtE,qBAAU,WACNsE,EAAW,CAAEzN,UAAU,eAAMA,GAAauB,SAC3C,CAACvB,EAAWuB,EAAIkM,IAGnB,IAAMC,EAASzB,uBAAY,SAAC0B,EAAiC/C,GACzD,IAAMgD,EAAiB,eAAQJ,GAC/BI,EAAW5N,UAAU2N,GAAM/C,EAC3BgD,EAAWrM,GAAKA,EAAMrC,OAAO5C,KAAKsR,EAAW5N,WAA0BtD,QAAO,SAACC,EAAKC,GAAN,OAA4CD,GAAOiR,EAAW5N,UAAUpD,GAAQoD,EAAUpD,MAAQ,GAChLiR,QAAQC,IAAI,YAAaF,GACzBH,EAAWG,KACZ,CAACJ,EAASC,EAAYzN,EAAWuB,IAEpC,OAAO,eAAC6D,EAAA,EAAD,CAAOgB,YAAU,EAACP,SAAO,EAAzB,UACH,eAACT,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMC,KAAP,kBACA,cAACD,EAAA,EAAMC,KAAP,CAAY0I,QAAS,EAArB,SAAyBP,EAAQjM,QAEnCrC,OAAO5C,KAAK0D,GAA0BzD,KAAI,SAACoR,GAAD,aAAqC,eAACvI,EAAA,EAAMW,IAAP,WAC7E,eAACX,EAAA,EAAMC,KAAP,WAAa5F,EAAwBkO,GAArC,OACA,cAACvI,EAAA,EAAMC,KAAP,UAAY,4BAAIrF,EAAU2N,OAC1B,cAACvI,EAAA,EAAMC,KAAP,UAAY,cAAC,GAAD,CAAa2I,UAAWL,EAAIrI,iBAAe,EAACnB,KAAK,OAAOtH,MAAO2Q,EAAQxN,UAAU2N,GAAKpI,WAAY,EAAGC,SAAUxF,EAAU2N,GAAKlI,UAAU,UAAC+H,EAAQxN,UAAU2N,UAAnB,QAA0B,GAAKH,EAAQjM,GAAImE,SAAU,SAACC,GAAD,OAAY+H,EAAOC,EAAI3P,OAAM,OAAC2H,QAAD,IAACA,IAAK,eAEhP,cAACqB,EAAA,EAAD,CAAQY,QAAS,kBAAM2F,EAASC,EAAQxN,UAAWwN,EAAQjM,KAA3D,wBCjCK0M,GAAiE,SAAC,GAAsB,IAApB3K,EAAmB,EAAnBA,aAC7E,OAAO,eAAC8B,EAAA,EAAD,CAAOS,SAAO,EAACD,QAAM,EAArB,UACH,cAACR,EAAA,EAAMU,OAAP,UACI,eAACV,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,+BACA,cAACZ,EAAA,EAAMY,WAAP,oBACA,cAACZ,EAAA,EAAMY,WAAP,sBAGR,cAACZ,EAAA,EAAMc,KAAP,UACK5C,EAAa/G,KAAI,SAAC+C,EAAGmI,GAClB,OAAO,eAACrC,EAAA,EAAMW,IAAP,WACH,cAACX,EAAA,EAAMC,KAAP,UAAa/F,EAAEX,OACf,cAACyG,EAAA,EAAMC,KAAP,UAAa/F,EAAEiD,QACf,cAAC6C,EAAA,EAAMC,KAAP,4B,qBCKP6I,GAA0C,SAAC,GAAsE,IAApE5L,EAAmE,EAAnEA,SAAU0G,EAAyD,EAAzDA,KAAMmF,EAAmD,EAAnDA,OAAQhE,EAA2C,EAA3CA,WAAYC,EAA+B,EAA/BA,UAAWqB,EAAoB,EAApBA,cAAoB,EACvFxC,oBAAS,GAD8E,mBAClHmF,EADkH,KACvGC,EADuG,OAErFpF,oBAAS,GAF4E,mBAElHqF,EAFkH,KAEtGC,EAFsG,OAGnFtF,mBAAS,IAH0E,mBAGlHuF,EAHkH,KAGrGC,EAHqG,OAIjFxF,oBAAS,GAJwE,mBAIlHyF,EAJkH,KAIpGC,EAJoG,KAUzH,OAAO,eAACtF,EAAA,EAAD,CAAMC,SAAO,EAAb,UACH,eAACC,EAAA,EAAD,CAASC,QAAS,EAAlB,UACI,eAACE,EAAA,EAAD,WACI,eAACtE,EAAA,EAAD,CAAOS,SAAO,EAACO,YAAU,EAAzB,UACI,eAAChB,EAAA,EAAMW,IAAP,WAAW,cAACX,EAAA,EAAMC,KAAP,sBAA6B,cAACD,EAAA,EAAMC,KAAP,UAAa/C,EAAS3D,UAC9D,eAACyG,EAAA,EAAMW,IAAP,WAAW,cAACX,EAAA,EAAMC,KAAP,mBAA6B,cAACD,EAAA,EAAMC,KAAP,UAAa/C,EAASqG,SAC9D,eAACvD,EAAA,EAAMW,IAAP,WAAW,cAACX,EAAA,EAAMC,KAAP,qBAA+B,cAACD,EAAA,EAAMC,KAAP,UAAa/C,EAASI,MAAM/D,UACtE,eAACyG,EAAA,EAAMW,IAAP,WAAW,cAACX,EAAA,EAAMC,KAAP,qBACP,cAACD,EAAA,EAAMC,KAAP,UACI,eAAC2B,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOD,SAAS,QAAhB,SACK3B,EAASC,QAEd,cAACyE,EAAA,EAAD,CAAQ6C,WAAS,EAACjC,QAAS,WAAQoB,EAAK3G,EAAWC,KAAnD,sCAIZ,eAAC8C,EAAA,EAAMW,IAAP,WACI,eAACX,EAAA,EAAMC,KAAP,8BACA,eAACkH,EAAA,EAAD,CAAOC,QAAS,cAACxF,EAAA,EAAD,CAAQ2C,QAAQ,QAAQxF,KAAK,OAAOyK,UAAQ,EAACxK,MAAM,SAAnD,eAAwEqI,OAAQ,kBAAM8B,GAAc,IAAO7B,QAAS,kBAAM6B,GAAc,IAAQ5B,KAAM2B,EAAYnK,KAAK,aAAaU,MAAM,qBAA1M,UACQ,cAAC0H,EAAA,EAAMzG,OAAP,iCACA,eAACyG,EAAA,EAAMK,QAAP,WACI,cAAC3E,EAAA,EAAD,CAAO4G,KAAK,aAAahS,MAAO2R,EAAa9I,SAAU,SAAAC,GAAC,OAAI8I,EAAe9I,EAAE0C,OAAOxL,UACpF,0BAAUoN,GAAG,aAAb,SACKE,EAAW5N,KAAI,SAAAuS,GAAC,OAAI,wBAAQjS,MAAOiS,EAAf,SAAmBA,SAE5C,cAAC9H,EAAA,EAAD,CAAQY,QAAS,WAAQtF,EAAS6H,WAAW0C,KAAK2B,GAAcD,GAAc,GAAQvF,EAAK1G,IAA3F,iCAKZ,cAAC8C,EAAA,EAAMC,KAAP,UACK/C,EAAS6H,WAAW5N,KAAI,SAAAuS,GAAC,OAAI,cAAC5K,EAAA,EAAD,CAAOoD,KAAG,EAAV,SAAYwH,YAGlD,cAAC1J,EAAA,EAAMW,IAAP,UACI,eAACX,EAAA,EAAMC,KAAP,CAAY0I,QAAS,EAArB,UACI,cAAC/G,EAAA,EAAD,CAAQY,QAAS,kBAAM+G,GAAgB,IAAOvK,MAAM,MAAMwK,UAAQ,EAAlE,oCACA,cAACG,GAAA,EAAD,CACIpC,KAAM+B,EACNM,SAAU,kBAAML,GAAgB,IAChCM,UAAW,WAAQN,GAAgB,GAAQR,KAC3Ce,OAAO,yBACPC,QAAQ,QACRC,aAAa,MACbC,cAAc,OAClB,cAACrI,EAAA,EAAD,CAAQY,QAlDT,WACnB0H,KAAa9G,KAAKE,UAAUpG,GAAhB,UAA8BA,EAAS3D,KAAvC,SAAoD,cAiDXyF,MAAM,QAAQwK,UAAQ,EAAvD,4BAIXtM,EAASf,GAAK,GAAK,gCAAK,cAAC,GAAD,CAAWvB,UAAWsC,EAASK,YAAapB,GAAIe,EAASf,GAAIgM,SAAU,SAACI,EAAIpM,GACjGe,EAASK,YAAcgL,EACvBrL,EAASf,GAAKA,EACdyH,EAAK1G,MAHW,OAKpB,cAAC,EAAD,2BAAUA,GAAV,IAAoBoD,SAAU,SAAC/D,EAAIC,GAASU,EAASX,GAAKA,EAAIW,EAASV,GAAKA,EAAIoH,EAAK1G,UAEzF,eAACoH,EAAA,EAAD,WACI,8BAAK,cAAC,EAAD,CAAoB7E,MAAM,oBAAcH,OAAQ5B,EAAmBR,OAAyCjE,IAA/BiE,EAASgK,kBAAkChK,EAAS8H,UAAU9H,EAASgK,mBAAqBvM,GAAcrC,KAAK,CAAC,KAAM,KAAM,KAAM,OAAQkH,UAAU,WAAWD,OAAQlF,MACzP,cAAC,GAAD,CAAc2K,UAAW9H,EAAS8H,UAAWxD,SAAUtE,EAASgK,kBAAmB/B,kBAAmB,SAAA8B,GAAO/J,EAASgK,kBAAoBD,EAAGrD,EAAK1G,MAClJ,eAACiK,EAAA,EAAD,CAAOC,QAAS,cAACxF,EAAA,EAAD,CAAQ8C,SAAO,EAAf,8CAAkD2C,OAAQ,kBAAM4B,GAAa,IAAO3B,QAAS,kBAAM2B,GAAa,IAAQ1B,KAAMyB,EAAWjK,KAAK,aAA9J,UACI,cAACoI,EAAA,EAAMzG,OAAP,+CACA,cAACyG,EAAA,EAAMK,QAAP,UACI,cAAC,GAAD,CAAiBnB,cAAeA,EAAerB,UAAWA,EAAW9H,SAAUA,EAAU0G,KAAM,SAAAxF,GAAOwF,EAAKxF,cAIvH,cAACkG,EAAA,EAAD,UACI,8BAAK,cAAC,EAAD,CAAoB7E,MAAM,mBAAaH,OAAQ,IAAInG,EAAYW,OAAO5C,KAAKiE,IAAe7B,IAAI,OAAQ4D,EAASqB,YAAmBjG,OAAQkH,UAAU,WAAWD,OAAQpE,WAGpL,cAACgJ,EAAA,EAAD,UACI,cAACG,EAAA,EAAD,UACI,8BAAK,cAAC,GAAD,CAAiBpG,aAAchB,EAASgB,yBCrGvDiM,GAAS,S,kDCIFC,GAAwD,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,gBAAiBC,EAAqC,EAArCA,mBAAoBvF,EAAiB,EAAjBA,WACzG,OAAO,cAACwF,GAAA,EAAD,CAAUC,MAAI,EAACC,KAAI,sBAAiBJ,GAAmB,aAAvD,SACH,eAACE,GAAA,EAASG,KAAV,WACI,cAACH,GAAA,EAASI,KAAV,CAAenI,QAAS,kBAAM8H,EAAmB,KAAjD,uBACCvF,EAAW5N,KAAI,SAAAiH,GAAC,OAAI,cAACmM,GAAA,EAASI,KAAV,CAAenI,QAAS,kBAAM8H,EAAmBlM,IAAjD,SAAsDA,a,6DC8DxEwM,G,8MAnEXC,MAAQ,CACJC,MAAM,G,EAEVC,QAAUC,IAAMC,Y,EAChBC,YAAc,E,EAEdC,WAAa,SAAC5K,GACVA,EAAE6K,iBACF7K,EAAE8K,mB,EAGNC,aAAe,SAAC/K,GAAkB,IAAD,EAC7BA,EAAE6K,iBACF7K,EAAE8K,kBACF,EAAKH,eACD,UAAA3K,EAAEgL,oBAAF,eAAgBC,QAASjL,EAAEgL,aAAaC,MAAMC,OAAS,GACvD,EAAKC,SAAS,CAAEZ,MAAM,K,EAG9Ba,cAAgB,SAACpL,GACbA,EAAE6K,iBACF7K,EAAE8K,kBACF,EAAKH,cACoB,IAArB,EAAKA,aACL,EAAKQ,SAAS,CAAEZ,MAAM,K,EAG9Bc,WAAa,SAACrL,GAAkB,IAAD,EAC3BA,EAAE6K,iBACF7K,EAAE8K,kBACF,EAAKK,SAAS,CAAEZ,MAAM,KAClB,UAAAvK,EAAEgL,oBAAF,eAAgBM,QAAStL,EAAEgL,aAAaM,MAAMJ,OAAS,IACvD,EAAKK,MAAMF,WAAWrL,EAAEgL,aAAaM,OACrCtL,EAAEgL,aAAaQ,YACf,EAAKb,YAAc,I,mEAIvB,IAAInT,EAAMqC,KAAK2Q,QAAQ3C,QACnBrQ,IACAA,EAAIiU,iBAAiB,YAAa5R,KAAKkR,cACvCvT,EAAIiU,iBAAiB,YAAa5R,KAAKuR,eACvC5T,EAAIiU,iBAAiB,WAAY5R,KAAK+Q,YACtCpT,EAAIiU,iBAAiB,OAAQ5R,KAAKwR,e,6CAItC,IAAI7T,EAAMqC,KAAK2Q,QAAQ3C,QACnBrQ,IACAA,EAAIkU,oBAAoB,YAAa7R,KAAKkR,cAC1CvT,EAAIkU,oBAAoB,YAAa7R,KAAKuR,eAC1C5T,EAAIkU,oBAAoB,WAAY7R,KAAK+Q,YACzCpT,EAAIkU,oBAAoB,OAAQ7R,KAAKwR,e,+BAKzC,OACI,qBACIM,MAAO,CAAEC,QAAS,eAAgBC,SAAU,YAC5CC,IAAKjS,KAAK2Q,QAFd,SAIK3Q,KAAKyQ,MAAMC,KAAO1Q,KAAK0R,MAAMQ,gBAAkBlS,KAAK0R,MAAMS,e,GA/DjDC,aCFbC,GAAsE,SAAC,GAAc,IAAZ7I,EAAW,EAAXA,KAClF,OAAO,cAAC,GAAD,CACH0I,gBAAiB,eAAC1K,EAAA,EAAD,CAAQ4H,UAAQ,EAAC1H,GAAG,MAAM9C,MAAM,QAAhC,UAAwC,cAAC0N,GAAA,EAAD,CAAMnT,KAAK,WAAnD,YACjBqS,WAAU,yCAAE,WAAMe,GAAN,kBAAA5S,EAAA,gFACW4S,EAAEnC,KAAK,UADlB,aACW,EAAWC,OADtB,QACFA,EADE,SAIJ7G,EAAKR,KAAKC,MAAMoH,IAJZ,2CAAF,sDAFP,SASH,eAAC7I,EAAA,EAAD,CAAQ4H,UAAQ,EAACvK,OAAK,EAAC6C,GAAG,MAAM9C,MAAM,QAAtC,UAA8C,cAAC0N,GAAA,EAAD,CAAMnT,KAAK,WAAzD,eCVAqT,GAAWzN,EAAQ,KAAnByN,OAEFC,GAAa,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,KAC9BC,GAAO,CAAC,EAAG,EAAG,EAAG,EAAG,IAGpBC,GAAkC,CACpC,eAAU,GACV,SAAO,GACP,MAAS,EACT,MAAS,GACT,OAAU,GACV,KAAQ,GACR,gBAAW,IAGTC,GAAmC,CACrC,YAAe,EACf,mCAAwB,GACxB,oCAA4B,GAC5B,yCAA2B,IAIzBC,GAAoC,CACtC,+BAAuB,EACvB,2CAA0B,GAC1B,0BAAmB,GACnB,6CAA8B,GAC9B,kDAAmC,GACnC,oEAA0C,KAYjCC,GAA0B,WAAO,IAAD,EACfrJ,mBAAS,IADM,mBAClCsJ,EADkC,KAC3BC,EAD2B,OAEbvJ,mBAAS,IAFI,mBAElC5L,EAFkC,KAE1BoV,EAF0B,OAGTC,sBAAW,SAACC,EAAqBC,GAC7D,OAAID,EAAK,KAAOC,EACLD,EAEL,CAAEC,GAAR,mBAAiBD,EAAKE,MAAM,EAAGC,OAChC,IARsC,mBAGlCC,EAHkC,KAGzBC,EAHyB,OASC/J,mBAAwB,CAAEgK,SAAU,EAAGC,MAAO,QAASC,OAAQ,cAAeC,UAAW,iCAT1F,mBASlCC,EATkC,KASnBC,EATmB,KAWnCC,EAAMtH,uBAAY,SAAC9P,GACrBsW,EAAU/U,EAAK6U,EAAOpW,IACtB6W,EAAaT,KACd,CAACA,EAAOE,EAAWO,IAEhBQ,EAAWvH,uBAAY,SAACzI,GAC1B,IAAMiQ,EAAW3V,EAAcyU,GAC3BkB,EAASxW,MAAQuG,EACjBiQ,EAASpX,WAEToX,EAASxW,IAAMuG,EACfiQ,EAASpX,QAAU,GAEvBmW,EAASlU,EAAemV,MACzB,CAAClB,EAAOC,IAELkB,EAAUzH,uBAAY,SAACzI,GACzB,IAAMiQ,EAAW3V,EAAcyU,GACrB,IAAN/O,EACAiQ,EAASlW,KAAO,EAEhBkW,EAASlW,MAAQiG,EAErBgP,EAASlU,EAAemV,MACzB,CAAClB,EAAOC,IAGX,OAAO,eAACnJ,EAAA,EAAD,CAAMG,QAAS,EAAGC,QAAQ,aAA1B,UACH,cAACF,EAAA,EAAD,UACI,eAACG,EAAA,EAAD,WACI,cAAC5D,GAAA,EAAD,4BACA,8BACI,eAACmC,EAAA,EAAD,CAAOhB,cAAc,QAAQpK,MAAO0V,EAAO7M,SAAU,SAAAC,GAAC,OAAI6M,EAAS7M,EAAE0C,OAAOxL,QAA5E,UACI,cAACqH,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,sBACA,0BACA,cAAC,EAAD,CAAeA,SAAS,OAAO5G,OAAQA,IACvC,eAAC2J,EAAA,EAAOI,MAAR,CAAchD,MAAM,OAApB,UACI,cAAC4C,EAAA,EAAD,CAAQ8C,SAAO,EAAC7D,UAAWsM,EAAO3K,QAAS,kBAAM2L,KAAjD,iBACA,cAAC5D,GAAA,EAAD,CACI3B,UAAU,cACV2F,UAAQ,EACRnH,QAAS,6BAHb,SAKI,cAACmD,GAAA,EAASG,KAAV,UACI,cAAC9I,EAAA,EAAD,CAAQ8C,SAAO,EAAClC,QAAS,kBAAM2L,GAAI,IAAnC,mDAOpB,8BACI,eAACvM,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,mBACCgO,GAAW1V,KAAI,SAAA+C,GAAC,OAAI,eAAC0H,EAAA,EAAD,CAAQY,QAAS,kBAAM4L,EAASlU,IAAhC,cAAsCA,aAGnE,8BACI,eAAC0H,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,sBACC,CAAC,EAAG,EAAG,GAAG1H,KAAI,SAAA+C,GAAC,OAAI,eAAC0H,EAAA,EAAD,CAAQY,QAAS,WACjC,IAAM6L,EAAW3V,EAAcyU,GAC/BkB,EAAStW,IAAMmC,EACfkT,EAASlU,EAAemV,KAHR,cAIfnU,aAGb,8BACI,eAAC0H,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,mBACC,UAAIiO,IAAM0B,UAAUrX,KAAI,SAAA+C,GAAC,OAAI,eAAC0H,EAAA,EAAD,CAAQY,QAAS,kBAAM8L,GAASpU,IAAhC,cAAsCA,QACpE,cAAC0H,EAAA,EAAD,CAAQ6C,WAAS,EAACjC,QAAS,kBAAM8L,EAAQ,IAAzC,eACCxB,GAAK3V,KAAI,SAAA+C,GAAC,OAAI,eAAC0H,EAAA,EAAD,CAAQY,QAAS,kBAAM8L,EAAQpU,IAA/B,cAAqCA,aAG5D,8BACI,eAAC0H,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,2BACC8O,EAAQxW,KAAI,SAAAsX,GAAC,OAAI,cAAC7M,EAAA,EAAD,CAAQ5C,MAAM,QAAQwD,QAAS,kBAAM4K,EAASqB,IAA9C,SAAmDA,iBAKrF,cAACtK,EAAA,EAAD,UACI,eAACG,EAAA,EAAD,WACI,cAAC5D,GAAA,EAAD,oDACA,gCACI,cAACkM,GAAD,CAAQnV,MAAOwW,EAAcJ,SAAUa,SAAU,CAAErN,IAAK,EAAGnJ,IAAK,IAAKyW,KAAM,EAAGrO,SAAU,SAACsO,GAAD,OAAeV,EAAiB,2BAAKD,GAAN,IAAqBJ,SAAUe,SACtJ,cAAC,GAAD,CAAcrN,MAAM,iBAAW9J,MAAOwW,EAAcJ,SAAUvN,SAAU,SAAAsO,GAAC,OAAIV,EAAiB,2BAAKD,GAAN,IAAqBJ,SAAUjX,KAAKyK,IAAL,OAASuN,QAAT,IAASA,IAAK,EAAG,cAEjJ,8BACI,eAAChN,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,sBACC/E,OAAO5C,KAAK6V,IAAS5V,KAAI,SAAA+C,GAAC,OAAI,cAAC0H,EAAA,EAAD,CAAQW,OAAQ0L,EAAcH,QAAU5T,EAAGsI,QAAS,kBAAM0L,EAAiB,2BAAKD,GAAN,IAAqBH,MAAO5T,MAAtG,SAA6GA,YAGpJ,8BACI,eAAC0H,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,uBACC/E,OAAO5C,KAAK8V,IAAU7V,KAAI,SAAA+C,GAAC,OAAI,cAAC0H,EAAA,EAAD,CAAQW,OAAQ0L,EAAcF,SAAW7T,EAAGsI,QAAS,kBAAM0L,EAAiB,2BAAKD,GAAN,IAAqBF,OAAQ7T,MAAxG,SAA+GA,YAGvJ,8BACI,eAAC0H,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,uBACC/E,OAAO5C,KAAK+V,IAAW9V,KAAI,SAAA+C,GAAC,OAAI,cAAC0H,EAAA,EAAD,CAAQW,OAAQ0L,EAAcD,YAAc9T,EAAGsI,QAAS,kBAAM0L,EAAiB,2BAAKD,GAAN,IAAqBD,UAAW9T,MAA9G,SAAqHA,YAG9J,8BACI,eAAC0H,EAAA,EAAD,CAAQE,GAAG,MAAMD,cAAc,OAA/B,UACI,cAAC/C,EAAA,EAAD,CAAOG,OAAK,EAACJ,SAAS,QAAtB,sCACA,cAACC,EAAA,EAAD,CAAOE,MAAM,QAAQD,KAAK,QAA1B,SAAmC,GAAKkP,EAAcJ,SAAWd,GAAQkB,EAAcH,OAASd,GAASiB,EAAcF,QAAUd,GAAUgB,EAAcD,2BCrKpKa,GAA2B,WAAO,IAAD,EACRhL,oBAAS,GADD,mBACnCiL,EADmC,KACxBC,EADwB,KAE1C,OAAO,cAAC5H,EAAA,EAAD,CAAOC,QAAS,cAACxF,EAAA,EAAD,CAAQ8C,SAAO,EAAf,mBAAgC2C,OAAQ,kBAAM0H,GAAa,IAAOzH,QAAS,kBAAMyH,GAAa,IAAQxH,KAAMuH,EAA5H,SACH,cAAC3H,EAAA,EAAMK,QAAP,UACI,cAAC,GAAD,SCRG,OAA0B,kCCsB5BwH,GAAwC,SAAC,GAAoG,IAAlGjK,EAAiG,EAAjGA,WAAYsF,EAAqF,EAArFA,gBAAiBC,EAAoE,EAApEA,mBAAoBpN,EAAgD,EAAhDA,SAAU+R,EAAsC,EAAtCA,WAAYC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,QAASvL,EAAW,EAAXA,KAC1I,OAAO,eAAC8G,GAAA,EAAD,CAAM0E,SAAO,EAAb,UACH,cAAC1E,GAAA,EAAKC,KAAN,CAAWb,QAAM,EAAjB,SACI,cAACuF,GAAA,EAAD,CAAOC,IAAKC,GAAMxQ,KAAK,WAE3B,cAAC,GAAD,CAAoBgG,WAAYA,EAAYsF,gBAAiBA,EAAiBC,mBAAoBA,IACjG2E,EAAW9X,KAAI,SAAAiH,GAAC,OAAI,cAACsM,GAAA,EAAKC,KAAN,CAAWpI,OAAQnE,EAAEyG,MAAF,OAAS3H,QAAT,IAASA,OAAT,EAASA,EAAU2H,IAAItL,KAAM6E,EAAE7E,KAAMiJ,QAAS,kBAAM2M,EAAQ,CAAED,KAAM,cAAehS,SAAUkB,UAErI,cAACsM,GAAA,EAAKC,KAAN,CAAWpI,OAAsB,mBAAd2M,EAAKA,KAA2B1M,QAAS,kBAAM2M,EAAQ,CAAED,KAAM,oBAAlF,SACI,cAACxC,GAAA,EAAD,CAAMnT,KAAK,WAEf,eAACmR,GAAA,EAAKC,KAAN,CAAWyB,SAAS,QAApB,UACI,cAAC,GAAD,CAAgBxI,KAAMA,IACtB,cAAChC,EAAA,EAAD,CAAQ8F,UAAQ,EAAClF,QAAS,kBAAM2M,EAAQ,CAAED,KAAM,SAAUM,SAAUnF,KAApE,oBACA,cAAC,GAAD,W,oBC5BCoF,GAAsF,SAAC,GAAwB,IAAD,EAArBvS,EAAqB,EAArBA,SAAU0G,EAAW,EAAXA,KAAW,EAC7EC,qBAD6E,mBAChH6L,EADgH,KACjGC,EADiG,OAEnF9L,mBAAwB,IAF2D,mBAEhHjG,EAFgH,KAEpGgS,EAFoG,KAIjHjS,OAAyC1E,IAA/BiE,EAASgK,kBAAkChK,EAAS8H,UAAU9H,EAASgK,mBAAqBvM,EACtGkV,EAAkBnS,EAAmBR,EAAUS,EAASC,EAAWzG,KAAI,SAAAsE,GAAE,kCAAUP,EAAWO,IAArB,IAA0BlC,KAAMkC,QAAQnD,KAAK,CAAC,KAAM,KAAM,KAAM,OACzIwX,EAAU,U1B+FI,SAACC,GACrB,IACI,IAAMzR,EAAgB5F,IAsBtB,OArBAqX,EAAMtW,SAAQ,SAAAS,GACV,GAAIA,EAAE3B,MAAQ,GAAK2B,EAAE7B,GACjB,MAAM,IAAI2X,MAAM,6CAEpB,GAAgB,IAAZ1R,EAAIzG,KAAuB,IAAVqC,EAAErC,KAAaqC,EAAErC,MAAQyG,EAAIzG,IAC9C,MAAM,IAAImY,MAAM,uCAEpB,GAAgB,IAAZ1R,EAAIvG,KAAuB,IAAVmC,EAAEnC,KAAauG,EAAIvG,MAAQmC,EAAEnC,IAC9C,MAAM,IAAIiY,MAAM,2CAEN,IAAV9V,EAAErC,MACFyG,EAAIzG,IAAMqC,EAAErC,IACZyG,EAAIrH,SAAWiD,EAAEjD,SAEN,IAAXiD,EAAE/B,OACFmG,EAAInG,MAAQ+B,EAAE/B,MAEd+B,EAAEnC,IAAM,IACRuG,EAAIvG,IAAMmC,EAAEnC,QAGbuG,EACT,MAAOiC,IACT,OAAO,K0BzHY0P,CAASJ,EAAgB5V,SAAS,kBAArC,QAAmDvB,IAO7DwX,EAA6CpW,OAAO5C,KAAKgE,GAAY/D,KAAI,SAAAgZ,GAAG,MAAK,CACnFtL,GAAIsL,EACJ1Y,MAAO0Y,EACP1F,KAAM0F,MAGJzO,EAAoC,CACtC,CACImD,IAAK,EACLpN,WAAOwB,EACPwR,KAAM,yBAGdvN,EAAS8H,UAAUvL,SAAQ,SAACwN,EAAG5E,GAAJ,OAAUX,EAAQ+F,KAAK,CAAE5C,GAAIxC,EAAG5K,MAAO4K,EAAGoI,KAAMxD,EAAE1N,UAE7E,IAAM6W,EAAe,SAAC7W,GAClB,OAAQA,GACJ,IAAK,SAAU,OAAO,cAACqI,EAAA,EAAD,CAAQ4H,UAAQ,EAACxK,MAAM,SAASwD,QAAS,WAC3DmN,EAAiBrX,EAAKwX,EAAYnS,EAAQ/C,UAAUF,GAAK,KADvC,SAElBxB,EAAe4W,KACnB,IAAK,KAAM,OAAO,cAAClO,EAAA,EAAD,CAAQ4H,UAAQ,EAACxK,MAAM,QAAQwD,QAAS,kBAAMmN,EAAiBrX,EAAK,QAAUuX,EAAgBxW,IAAIE,MAAlG,SAA4GsW,EAAgBxW,IAAIE,KAClJ,IAAK,KACL,IAAK,KAAM,OAAO,cAACqI,EAAA,EAAD,CAAQ4H,UAAQ,EAACxK,MAAM,SAASwD,QAAS,kBAAMmN,EAAiBrX,EAAK,SAAWuX,EAAgBxW,IAAIE,MAApG,SAA8GsW,EAAgBxW,IAAIE,KACpJ,IAAK,KAAM,OAAOsW,EAAgBxW,IAAIE,KAI9C,OAAO,cAAC8W,GAAA,EAAD,UACH,eAACA,GAAA,EAAK7I,QAAN,WACI,cAAC6I,GAAA,EAAK3P,OAAN,UAAcxD,EAAS3D,OACvB,cAAC8W,GAAA,EAAKC,KAAN,UACI,cAAC,EAAD,CAAM/T,GAAIW,EAASX,GAAIC,GAAIU,EAASV,GAAIkC,MAAOxB,EAASwB,MAAOjB,MAAOP,EAASO,MAAO6C,SAAU,SAAC/D,EAAIC,GACjGU,EAASX,GAAKA,EACdW,EAASV,GAAKA,EACdoH,EAAK1G,QAGb,cAACmT,GAAA,EAAKE,YAAN,UACI,eAACtM,EAAA,EAAD,CAAMG,QAAS,EAAf,UACI,cAACE,EAAA,EAAD,UACI,cAACH,EAAA,EAAD,UACI,eAACnE,EAAA,EAAD,CAAOoE,QAAS,EAAGoM,YAAU,EAA7B,UACI,cAACxQ,EAAA,EAAMU,OAAP,UACI,cAACV,EAAA,EAAMY,WAAP,CAAkB6P,QAAS,EAA3B,SACI,cAAClG,GAAA,EAAD,CAAU1J,UAAU,EAAOyB,SAAO,EAC9BmI,KAAM9M,EAAQpE,KACd+G,SAAU,SAACC,EAAGqO,GAAJ,OAnD7B,SAACA,GAClB1R,EAASgK,uBAA0BjO,IAAN2V,OAAkB3V,EAAYL,OAAOgW,GAClEhL,EAAK1G,GAiDmDwT,MAAyBzX,IAAZ2V,EAAEnX,MAAsBmB,OAAOgW,EAAEnX,YAASwB,IAC3EyI,QAASA,EACTjK,MAAOyF,EAASgK,wBAI3B2I,EAAgB3Y,KAAKC,KAAI,SAAAwZ,GAAC,OAAI,eAAC3Q,EAAA,EAAMW,IAAP,WAC3B,cAACX,EAAA,EAAMY,WAAP,UAAoBvG,EAAgCsW,KACpD,cAAC3Q,EAAA,EAAMC,KAAP,UAAamQ,EAAaO,WAG7BhT,EAAQpE,OAASoB,EAAapB,MAC3B,eAACyG,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,4BACA,cAACZ,EAAA,EAAMC,KAAP,oBAAgBtC,EAAQ3C,MAAQ,KAAO,IAAvC,OAA4C2C,EAAQ9C,gBAG5D,eAACmF,EAAA,EAAMW,IAAP,WACI,cAACX,EAAA,EAAMY,WAAP,uBACA,cAACZ,EAAA,EAAMC,KAAP,UAAY,cAAC,EAAD,CAAehI,OAAQyX,gBAKnD,cAACpL,EAAA,EAAD,CAAYE,UAAU,SAAtB,SACI,eAACL,EAAA,EAAD,WACI,cAACrF,EAAA,EAAD,CAAOD,SAAS,QAAQiE,OAAK,EAA7B,6BACA,cAACyH,GAAA,EAAD,CAAU1J,UAAU,EAAO+P,UAAQ,EAC/BnG,KAAK,YACLnK,SAAU,SAACC,EAAGqO,GAAQgB,EAAc,YAAIhB,EAAEnX,SAC1CiK,QAASwO,EACTzY,MAAOmG,oBC7F1BiT,GAA2F,SAAC,GAA0B,IAAxB5B,EAAuB,EAAvBA,WAAYrL,EAAW,EAAXA,KACnH,OAAO,cAACkN,GAAA,EAAD,CAAWC,YAAa,EAAxB,SACF9B,EAAW9X,KAAI,SAAAiH,GAAC,OAAI,cAAC,GAAD,CAAYlB,SAAUkB,EAAGwF,KAAMA,UCyD7CoN,OAnDf,WAAgB,IAAD,EAEWnN,mBAAwB,CAAEqL,KAAM,SAF3C,mBAENA,EAFM,KAEAC,EAFA,OVOR,WAA4C,IAAD,EAEVtL,mBAAS,GAFC,mBAEvCoN,EAFuC,KAE3BC,EAF2B,KAI9C,SAASC,EAAS5X,GACd,IAAM2J,EAAIkO,OAAOC,aAAaC,QAAQ/X,GACtC,OAAO2J,EAAIE,KAAKC,MAAMH,GAAK,KAG/B,SAASqO,EAAIhY,EAAciY,GACvBJ,OAAOC,aAAaI,QAAQlY,EAAM6J,KAAKE,UAAUkO,IACjDN,EAAcD,EAAa,GAG/B,IAIMxH,EAAO,SAAC+F,GACV,IAAMkC,EAA2B,YAAI1a,MAAMoa,OAAOC,aAAa5F,SAAStU,KAAI,SAACC,EAAGiL,GAAJ,uBAAU+O,OAAOC,aAAa3X,IAAI2I,UAAlC,QAAwC,MAAIzI,QAAO,SAAAF,GAAG,OAAIA,EAAIiY,WAAWxH,OAAShT,KAAI,SAAAuC,GAAG,OAAIyX,EAAMzX,MAC/K,OAAK8V,EAGEkC,EAAI9X,QAAO,SAAAwE,GAAC,OAAIA,EAAE2G,WAAW6M,MAAK,SAAAC,GAAG,OAAIA,IAAQrC,QAF7CkC,GAKTI,EAAO,SAACC,GACV,OAAOZ,EAAMhH,GAAS4H,EAAKlN,KAGzBjB,EAAO,SAAC1G,GACVqU,EAAIpH,GAASjN,EAAS2H,GAAI3H,IAsB9B,OAfCkU,OAAeY,YAAc,WAC1B,IAAM1T,EAA2B,GACjCmL,EAAK,IAAIhQ,SAAQ,SAAAC,GACb4E,EAAI5E,EAAImL,IAAMiN,EAAKpY,MAEvB+O,QAAQC,IAAI,SAAUtF,KAAKE,UAAUhF,KAGxC8S,OAAea,YAAc,SAAClI,GAC3B,IAAM2H,EAAMtO,KAAKC,MAAM0G,GACvBjQ,OAAO5C,KAAKwa,GAAKjY,SAAQ,SAAAC,GAAG,OAAIkK,EAAK8N,EAAIhY,OACzC+O,QAAQC,IAAI,oBAIT,CACH3D,WAxCe,WACf,OAAO,YAAI,IAAIvH,IAAIiM,IAAOyI,SAAQ,SAAAH,GAAI,OAAIA,EAAKhN,iBAwC/C0E,OACAqI,OACAlO,OACAmF,OAxBW,SAACgJ,GACZX,OAAOC,aAAac,WAAWhI,GAAS4H,EAAKlN,KAwB7CuN,UAAW,kBAAMtW,GACjBuW,cAAe,WACX,IAAI/T,EAAM6S,EAAsBmB,0BAKhC,OAJKhU,IACDiT,EAAIe,yBAA6BvX,GACjCuD,EAAMvD,GAEHuD,GAEX+H,cAAe,SAAArB,GAAS,OAAIuM,EAAIe,yBAA6BtN,IAC7DtL,IAAKuX,GUzE+EsB,GAAlF3O,EAHK,EAGLA,KAAM6F,EAHD,EAGCA,KAAM1E,EAHP,EAGOA,WAAY+M,EAHnB,EAGmBA,KAAM/I,EAHzB,EAGyBA,OAAQqJ,EAHjC,EAGiCA,UAAWC,EAH5C,EAG4CA,cAAehM,EAH3D,EAG2DA,cAH3D,EAIiCxC,mBAAS,IAJ1C,mBAINwG,EAJM,KAIWC,EAJX,KAMPkI,EAAe3L,uBAAY,SAAC3J,GAChC0G,EAAK1G,GACLiS,EAAQ,CAAED,KAAM,cAAehS,eAC9B,CAAC0G,EAAMuL,IAEJsD,EAAiB5L,uBAAY,SAAC3J,GAC9BA,IACF6L,EAAO7L,GACPiS,EAAQ,CAAED,KAAM,YAEjB,CAACC,EAASpG,IAab,OACE,sBAAKH,UAAU,MAAf,UACE,cAAC,GAAD,CACE7D,WAAYA,IACZsF,gBAAiBA,EACjBC,mBAAoBA,EACpBpN,SAAwB,gBAAdgS,EAAKA,KAAyBA,EAAKhS,cAAWjE,EACxDiW,KAAMA,EACNC,QAAS,SAAAuD,GACPvD,EAAQuD,GACQ,WAAZA,EAAGxD,MACL5E,EAAmBoI,EAAGlD,WAG1B5L,KAAM4O,EACNvD,WAAYxF,EAAKY,KA1BJ,WACjB,OAAQ6E,EAAKA,MACX,IAAK,OAAQ,OAAO,uEACpB,IAAK,SAAU,OAAO,cAAC,GAAD,CAAQD,WAAYxF,EAAKyF,EAAKM,UAAUrY,KAAI,SAAAkL,GAAC,OAAIyP,EAAKzP,MAAKuB,KAAMA,IACvF,IAAK,iBAAkB,OAAO,cAAC,EAAD,CAAiBA,KAAM4O,EAAc/O,MAAO2O,MAC1E,IAAK,cAAe,OAAO,cAAC,GAAD,CAAa/L,cAAeA,EAAerB,UAAWqN,IAAiBtN,WAAYA,IAAc7H,SAAU4U,EAAK5C,EAAKhS,UAAW0G,KAAM4O,EAAczJ,OAAQ,kBAAM0J,EAAevD,EAAKhS,cAuBhNyV,OC7CQC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.0dc4f08f.chunk.js","sourcesContent":["export interface DiceRoll {\n    tries: number;\n    numDice: number;\n    die: number;\n    plus: number;\n    div: number;\n    kf: boolean;\n}\n\nexport interface DiceRollResult {\n    value: number;\n    details: string;\n}\n\nconst PATTERN = /(?<numDice>\\d+)?k(?<die>\\d+)(?:\\/(?<div>\\d+))?(?<plus>[+-]\\d+)?(?:\\((?<tries>\\d+)x\\))?(?:\\+kf(?<kf>))?/;\n\nlet random = Math.random;\n\nconst _roll = (dice: DiceRoll, ijasz: boolean): DiceRollResult => {\n    let result = [...Array(dice.tries).keys()].map(_ => rollDice(dice, ijasz)).reduce((acc, curr) => ({ value: Math.max(acc.value, curr.value), details: `${acc.details ? acc.details + ' or ' : ''}(${curr.details})` }), { value: 0, details: '' });\n    result = {\n        value: result.value + dice.plus,\n        details: `${result.details}${dice.plus > 0 ? ' + ' + dice.plus : (dice.plus < 0 ? ' - ' + Math.abs(dice.plus) : '')}`\n    };\n    if (dice.kf) {\n        return rollKf(dice, result);\n    } else {\n        return result;\n    }\n\n}\n\nconst rollDice = (dice: DiceRoll, ijasz: boolean): DiceRollResult => {\n    return [...Array(dice.numDice).keys()].map(_ => rollSingle(dice, ijasz)).reduce((acc, curr) => ({ value: acc.value + curr, details: `${acc.details ? acc.details + '+' : ''}${curr}` }), { value: 0, details: '' });\n}\n\nconst rollSingle = (dice: DiceRoll, ijasz: boolean): number => {\n    let res = 0;\n    let curr = 0;\n    do {\n        curr = 1 + Math.floor(random() * dice.die);\n        res += Math.ceil(curr / dice.div);\n    } while (ijasz && curr === dice.die)\n    return res;\n}\n\nconst rollKf = (dice: DiceRoll, result: DiceRollResult): DiceRollResult => {\n    const max = dice.numDice * Math.floor(dice.die / dice.div) + dice.plus;\n    if (result.value === max) {\n        let kfMod;\n        const kf = roll('k100').value;\n        if (kf <= 20) {\n            kfMod = -roll('k6').value;\n        } else if (kf <= 50) {\n            kfMod = -1;\n        } else if (kf <= 75) {\n            kfMod = 0;\n        } else if (kf <= 95) {\n            kfMod = 1;\n        } else {\n            kfMod = 2;\n        }\n        return {\n            value: result.value + kfMod,\n            details: `${result.details} (kf: ${kf} / ${kfMod})`\n        }\n    } else {\n        return result;\n    }\n\n}\n\nexport const roll = (dice: DiceRoll | string, ijasz?: boolean): DiceRollResult => _roll(typeof dice === 'string' ? parseDiceRoll(dice) : dice, !!ijasz);\n\nexport const rollSource = (randomFn: () => number): void => { random = randomFn }\n\nexport const parseDiceRoll = (diceString: string = '0'): DiceRoll => {\n    if (!Number.isNaN(Number(diceString))) {\n        return {\n            numDice: 0,\n            die: 0,\n            plus: Number(diceString),\n            tries: 1,\n            div: 1,\n            kf: false\n        };\n    }\n    const res = diceString.replace(/\\s/g, '').match(PATTERN);\n    return {\n        numDice: Number(res?.groups?.numDice ?? 1),\n        die: Number(res?.groups?.die ?? 0),\n        plus: Number(res?.groups?.plus ?? 0),\n        tries: Number(res?.groups?.tries ?? 1),\n        div: Number(res?.groups?.div ?? 1),\n        kf: res?.groups?.kf !== undefined\n    }\n}\n\nexport const formatDiceRoll = (dice: DiceRoll): string => {\n    if (dice.die === 0) {\n        return dice.plus ? `${dice.plus}` : '-';\n    };\n    return `${dice.numDice === 1 ? '' : dice.numDice}k${dice.die}${dice.div > 1 ? '/' + dice.div : ''}${dice.plus ? (dice.plus > 0 ? '+' : '-') + Math.abs(dice.plus) : ''}${dice.tries > 1 ? '(' + dice.tries + 'x)' : ''}${dice.kf ? ' + kf' : ''}`;\n}\n\nexport const formatResult = (result: DiceRollResult): string => {\n    return `${result.value} (${result.details})`\n}\n\nexport const sumRolls = (rolls: Array<DiceRoll>): DiceRoll | null => {\n    try {\n        const ret: DiceRoll = parseDiceRoll();\n        rolls.forEach(r => {\n            if (r.tries > 1 || r.kf) {\n                throw new Error('can\\'t sum rolls with multiple tries or kf');\n            }\n            if (ret.die !== 0 && r.die !== 0 && r.die !== ret.die) {\n                throw new Error('can\\'t sum rolls with different dies');\n            }\n            if (ret.div !== 1 && r.div !== 1 && ret.div !== r.div) {\n                throw new Error('can\\'t sum rolls with different divisors');\n            }\n            if (r.die !== 0) {\n                ret.die = r.die;\n                ret.numDice += r.numDice;\n            }\n            if (r.plus !== 0) {\n                ret.plus += r.plus;\n            }\n            if (r.div > 1) {\n                ret.div = r.div;\n            }\n        })\n        return ret;\n    } catch (e) { }\n    return null;\n}","import { DiceRoll, DiceRollResult, parseDiceRoll, roll } from \"./roll\";\n\nexport interface Dobas {\n    roll: DiceRoll;\n    result?: DiceRollResult;\n}\n\nexport class DobasMatrix {\n    readonly values: Record<string, Record<string, Dobas>>;\n    readonly sum: Record<string, number>;\n\n    constructor(readonly keys: Array<string>) {\n        this.values = {};\n        this.sum = {};\n    }\n\n    add = (name: string, dobas: Record<string, string | number>): DobasMatrix => {\n        this.values[name] = {};\n        if (dobas) {\n            this.keys.forEach(key => {\n                this.values[name][key] = {\n                    roll: parseDiceRoll(dobas[key]?.toString())\n                }\n            });\n        }\n        return this;\n    };\n\n    roll = (keys?: Array<string>): DobasMatrix => {\n        this.keys.filter(key => !keys || keys.indexOf(key) !== -1).forEach(key => {\n            Object.keys(this.values).forEach(name => {\n                const dobas = this.values[name][key];\n                dobas.result = dobas ? roll(dobas.roll) : { value: 0, details: '' };\n                this.sum[key] = Object.values(this.values).map(value => value[key].result?.value).reduce((a, b) => (a ?? 0) + (b ?? 0), 0) ?? 0;\n            });\n        })\n        return this;\n    }\n\n    getRolls = (key: string): Array<DiceRoll> => {\n        return Object.values(this.values).map(r => r[key].roll).filter(roll => roll && (roll.die > 0 || roll.plus !== 0));\n    }\n\n    clearRolls = (): DobasMatrix => {\n        this.keys.forEach(key => {\n            Object.keys(this.values).forEach(name => {\n                const dobas = this.values[name][key];\n                delete dobas.result;\n            });\n        });\n        return this;\n    }\n}\n\n","//todo: ugras\n\nimport { Fegyver } from \"./karakter\";\n\nexport interface Harcertek {\n    ke: number;\n    te: number;\n    ve: number;\n    ce: number;\n}\n\nexport const HARCERTEK_DISPLAY_NAMES = { 'ke': 'K', 'te': 'T', 've': 'V', 'ce': 'C', 'sebzes': 'Sebzs' };\n\nexport const FEGYVER_KEPZETTSEG: Record<string, Harcertek> = {\n    \"kpzetlen\": {\n        ke: -10,\n        te: -25,\n        ve: -20,\n        ce: -30\n    },\n    \"kpzetlen, fejvadsz\": {\n        ke: -5,\n        te: -5,\n        ve: -10,\n        ce: -15\n    },\n    \"Af\": {\n        ke: 0,\n        te: 0,\n        ve: 0,\n        ce: 0\n    },\n    \"Mf\": {\n        ke: 5,\n        te: 10,\n        ve: 10,\n        ce: 10\n    }\n}\n\nexport const FEGYVERTELEN: Fegyver = {\n    name: 'fegyver nlkl',\n    harcertek: {\n        ke: 0,\n        te: 0,\n        ve: 0,\n        ce: 0,\n    },\n    tamPerKor: 0,\n    sebzes: '0'\n};\n\n\nexport const PUSZTA_KEZ_AF: Fegyver = {\n    name: 'kl',\n    harcertek: {\n        ke: 4,\n        te: 1,\n        ve: 10,\n        ce: 0,\n    },\n    tamPerKor: 2,\n    sebzes: '1k2'\n}\n\nexport const PUSZTA_KEZ_MF: Fegyver = {\n    name: 'kl',\n    harcertek: {\n        ke: 4,\n        te: 1,\n        ve: 10,\n        ce: 0,\n    },\n    tamPerKor: 2,\n    sebzes: '1k6'\n}\n\nexport const FEGYVEREK: Array<Fegyver> = [\n    {\n        name: 'Tr',\n        harcertek: {\n            ke: 10,\n            te: 8,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2\n    },\n    {\n        name: 'Tr, dob',\n        harcertek: {\n            ke: 10,\n            te: 11,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2\n    },\n    {\n        name: 'Tsks buzogny',\n        harcertek: {\n            ke: 7,\n            te: 12,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1\n    },\n    {\n        name: 'Hajtbrd',\n        harcertek: {\n            ke: 9,\n            te: 10,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2\n    },\n    {\n        name: 'Dobhl',\n        harcertek: {\n            ke: 1,\n            te: 8,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '0',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Buzogny, shadleki',\n        harcertek: {\n            ke: 8,\n            te: 13,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1\n    },\n    {\n        name: 'Csatabrd, egykezes',\n        harcertek: {\n            ke: 5,\n            te: 12,\n            ve: 11,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1\n    },\n    {\n        name: 'Csatabrd, ktkezes',\n        harcertek: {\n            ke: 0,\n            te: 8,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '3k6',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Csatacskny',\n        harcertek: {\n            ke: 5,\n            te: 11,\n            ve: 8,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, rvid',\n        harcertek: {\n            ke: 9,\n            te: 12,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, hossz',\n        harcertek: {\n            ke: 6,\n            te: 14,\n            ve: 16,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, msflkezes',\n        harcertek: {\n            ke: 4,\n            te: 13,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '2k6',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, lovagi',\n        harcertek: {\n            ke: 2,\n            te: 10,\n            ve: 7,\n            ce: 0,\n        },\n        sebzes: '2k6+2',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, pallos',\n        harcertek: {\n            ke: 0,\n            te: 6,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '3k6+2',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Kard, szablya',\n        harcertek: {\n            ke: 7,\n            te: 15,\n            ve: 17,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, dzsenn szablya',\n        harcertek: {\n            ke: 9,\n            te: 20,\n            ve: 17,\n            ce: 0,\n        },\n        sebzes: '1k6+3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, jatagn',\n        harcertek: {\n            ke: 7,\n            te: 14,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, handzsr',\n        harcertek: {\n            ke: 6,\n            te: 14,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '1k6+3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, fejvadsz',\n        harcertek: {\n            ke: 8,\n            te: 16,\n            ve: 16,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, Slan',\n        harcertek: {\n            ke: 8,\n            te: 20,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k10+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, kgy',\n        harcertek: {\n            ke: 6,\n            te: 14,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Ks',\n        harcertek: {\n            ke: 10,\n            te: 4,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k5',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Mara-sequor',\n        harcertek: {\n            ke: 7,\n            te: 16,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '2k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Ramiera',\n        harcertek: {\n            ke: 8,\n            te: 17,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Sequor',\n        harcertek: {\n            ke: 8,\n            te: 16,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Slan csillag',\n        harcertek: {\n            ke: 10,\n            te: 4,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 3,\n    },\n    {\n        name: 'Tr, Slan',\n        harcertek: {\n            ke: 9,\n            te: 14,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Trkard',\n        harcertek: {\n            ke: 9,\n            te: 12,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Bot, hossz',\n        harcertek: {\n            ke: 4,\n            te: 10,\n            ve: 16,\n            ce: 0,\n        },\n        sebzes: '1k5',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Bot, rvid',\n        harcertek: {\n            ke: 9,\n            te: 9,\n            ve: 17,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Bot, furks',\n        harcertek: {\n            ke: 2,\n            te: 7,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogny, egykezes',\n        harcertek: {\n            ke: 7,\n            te: 11,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogny, ktkezes',\n        harcertek: {\n            ke: 0,\n            te: 7,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '3k6',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Buzogny, tsks',\n        harcertek: {\n            ke: 7,\n            te: 12,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogny, tollas',\n        harcertek: {\n            ke: 7,\n            te: 12,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogny, lncos',\n        harcertek: {\n            ke: 4,\n            te: 13,\n            ve: 11,\n            ce: 0,\n        },\n        sebzes: '1k6+3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Csphadar',\n        harcertek: {\n            ke: 1,\n            te: 6,\n            ve: 5,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Harcikalapcs',\n        harcertek: {\n            ke: 5,\n            te: 8,\n            ve: 10,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Alabrd',\n        harcertek: {\n            ke: 1,\n            te: 14,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '2k6+2',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Drda',\n        harcertek: {\n            ke: 8,\n            te: 13,\n            ve: 5,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kopja, knny',\n        harcertek: {\n            ke: 2,\n            te: 11,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kopja, lovas',\n        harcertek: {\n            ke: 1,\n            te: 15,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Kopja, nehzlovas',\n        harcertek: {\n            ke: 0,\n            te: 16,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '2k10',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Lndzsa',\n        harcertek: {\n            ke: 4,\n            te: 12,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Szigony',\n        harcertek: {\n            ke: 4,\n            te: 15,\n            ve: 10,\n            ce: 0,\n        },\n        sebzes: '1k10+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Fvcs',\n        harcertek: {\n            ke: 8,\n            te: 0,\n            ve: 0,\n            ce: 7,\n        },\n        lotav: 30,\n        sebzes: '0',\n        tamPerKor: 3,\n    },\n    {\n        name: 'j, rvid',\n        harcertek: {\n            ke: 5,\n            te: 0,\n            ve: 0,\n            ce: 4,\n        },\n        lotav: 90,\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'j, hossz',\n        harcertek: {\n            ke: 4,\n            te: 0,\n            ve: 0,\n            ce: 6,\n        },\n        lotav: 110,\n        sebzes: '1k6+1',\n        tamPerKor: 2,\n    },\n    {\n        name: 'j, visszacsap',\n        harcertek: {\n            ke: 3,\n            te: 0,\n            ve: 0,\n            ce: 8,\n        },\n        lotav: 180,\n        sebzes: '1k10',\n        tamPerKor: 2,\n    },\n    {\n        name: 'j, elf',\n        harcertek: {\n            ke: 6,\n            te: 0,\n            ve: 0,\n            ce: 10,\n        },\n        lotav: 120,\n        sebzes: '2k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Nylpuska, aquir',\n        harcertek: {\n            ke: 5,\n            te: 0,\n            ve: 0,\n            ce: 18,\n        },\n        lotav: 35,\n        sebzes: '1k10/2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Nylpuska, kzi',\n        harcertek: {\n            ke: 3,\n            te: 0,\n            ve: 0,\n            ce: 14,\n        },\n        lotav: 30,\n        sebzes: '1k6/2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Nylpuska, kahrei',\n        harcertek: {\n            ke: 9,\n            te: 0,\n            ve: 0,\n            ce: 13,\n        },\n        lotav: 30,\n        sebzes: '1k6/2',\n        tamPerKor: 3,\n    },\n    {\n        name: 'Nylpuska, knny',\n        harcertek: {\n            ke: 2,\n            te: 0,\n            ve: 0,\n            ce: 16,\n        },\n        lotav: 50,\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Nylpuska, nehz',\n        harcertek: {\n            ke: 0,\n            te: 0,\n            ve: 0,\n            ce: 15,\n        },\n        lotav: 60,\n        sebzes: '1k6+1',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Nylpuska, shadoni pncltr',\n        harcertek: {\n            ke: 0,\n            te: 0,\n            ve: 0,\n            ce: 17,\n        },\n        lotav: 80,\n        sebzes: '2k10',\n        tamPerKor: 5,\n        lassu: true\n    },\n    {\n        name: 'Parittya',\n        harcertek: {\n            ke: 2,\n            te: 0,\n            ve: 0,\n            ce: 1,\n        },\n        lotav: 100,\n        sebzes: '1k10/2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Bola',\n        harcertek: {\n            ke: 2,\n            te: 10,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k5',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Dobhl',\n        harcertek: {\n            ke: 1,\n            te: 8,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '0',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Garott',\n        harcertek: {\n            ke: 0,\n            te: 5,\n            ve: -20,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Hrttr',\n        harcertek: {\n            ke: 8,\n            te: 4,\n            ve: 19,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Korbcs',\n        harcertek: {\n            ke: 4,\n            te: 0,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Lassz',\n        harcertek: {\n            ke: 0,\n            te: 1,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '0',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Ostor',\n        harcertek: {\n            ke: 3,\n            te: 6,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Vaskl',\n        harcertek: {\n            ke: 9,\n            te: 2,\n            ve: 5,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Dzsambia',\n        harcertek: {\n            ke: 10,\n            te: 8,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Mesterkard',\n        harcertek: {\n            ke: 7,\n            te: 16,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Predoci egyeneskard',\n        harcertek: {\n            ke: 7,\n            te: 16,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Tahdzsi',\n        harcertek: {\n            ke: 9,\n            te: 11,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Bltp',\n        harcertek: {\n            ke: 10,\n            te: 8,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Lagoss',\n        harcertek: {\n            ke: 8,\n            te: 14,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+4',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Pugoss',\n        harcertek: {\n            ke: 12,\n            te: 6,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n];\n\nexport const SZITUACIOK: Record<string, Harcertek> = {\n    'htulrl': {\n        ke: 5,\n        te: 10,\n        ve: 0,\n        ce: 0\n    },\n    'flhtulrl': {\n        ke: 2,\n        te: 5,\n        ve: 0,\n        ce: 0\n    },\n    'magasabbrl': {\n        ke: 2,\n        te: 5,\n        ve: 0,\n        ce: 5\n    },\n    'alacsonyabbrl': {\n        ke: -2,\n        te: -10,\n        ve: 0,\n        ce: -5\n    },\n    'meglepetsbl': {\n        ke: 100,\n        te: 30,\n        ve: 0,\n        ce: 10\n    },\n    'mozg lrl': {\n        ke: 5,\n        te: 10,\n        ve: 20,\n        ce: -20\n    },\n    'vakon': {\n        ke: -20,\n        te: -60,\n        ve: -70,\n        ce: -150\n    },\n    'flhomlyban': {\n        ke: -10,\n        te: -30,\n        ve: -35,\n        ce: -70\n    },\n    'helyhez ktve': {\n        ke: -20,\n        te: -15,\n        ve: -5,\n        ce: 0\n    },\n    'kbultan': {\n        ke: -15,\n        te: -20,\n        ve: -25,\n        ce: -30\n    },\n    'bnultan': {\n        ke: -30,\n        te: -40,\n        ve: -35,\n        ce: -15\n    },\n    'flelemmel': {\n        ke: -10,\n        te: -15,\n        ve: 5,\n        ce: -20\n    },\n    'gyllettel': {\n        ke: 3,\n        te: 10,\n        ve: -20,\n        ce: -20\n    },\n    'roham': {\n        ke: 0,\n        te: 20,\n        ve: -25,\n        ce: -30\n    },\n    'vdharc htrlva': {\n        ke: 0,\n        te: 0,\n        ve: 40,\n        ce: 0\n    },\n    'vdharc llva': {\n        ke: 0,\n        te: 0,\n        ve: 25,\n        ce: 0\n    },\n    'rszleges vdharc': {\n        ke: 0,\n        te: 0,\n        ve: 15,\n        ce: 0\n    },\n    'foglyul ejtsrt': {\n        ke: -5,\n        te: -5,\n        ve: -15,\n        ce: 0\n    },\n}\n","import { Harcertek } from \"./harc\";\nimport { DiceRollResult } from \"./roll\"\n\nexport interface KepessegDobas {\n    ero: string;\n    gy: string;\n    ugy: string;\n    ak: string;\n    egs: string;\n    sz: string;\n    int: string;\n    ae: string;\n    asz: string;\n    erz: string;\n}\n\nexport type KepessegDobasResult = Record<keyof KepessegDobas, DiceRollResult>;\n\nexport const KEPESSEG_NEV: Record<keyof KepessegDobas, string> = {\n    ero: 'Er',\n    gy: 'Gyorsasg',\n    ugy: 'gyessg',\n    ak: 'llkpessg',\n    egs: 'Egszsg',\n    sz: 'Szpsg',\n    int: 'Intelligencia',\n    ae: 'Akarater',\n    asz: 'Asztrl',\n    erz: 'rzkels'\n}\n\nexport const FAJ_KEPESSEG: Record<string, KepessegDobas> = {\n    \"ember\": {\n        ero: '0',\n        gy: '0',\n        ugy: '0',\n        ak: '0',\n        egs: '0',\n        sz: '0',\n        int: '0',\n        ae: '0',\n        asz: '0',\n        erz: '0'\n    },\n    \"elf\": {\n        ero: '-2',\n        gy: '1',\n        ugy: '1',\n        ak: '-1',\n        egs: '0',\n        sz: '1',\n        int: '0',\n        ae: '0',\n        asz: '0',\n        erz: '2'\n    },\n    \"flelf\": {\n        ero: '-1',\n        gy: '1',\n        ugy: '0',\n        ak: '0',\n        egs: '0',\n        sz: '0',\n        int: '0',\n        ae: '0',\n        asz: '0',\n        erz: '1'\n    },\n    \"trp\": {\n        ero: '1',\n        gy: '1',\n        ugy: '0',\n        ak: '1',\n        egs: '1',\n        sz: '-2',\n        int: '-1',\n        ae: '0',\n        asz: '-1',\n        erz: '0'\n    },\n    \"udvari ork\": {\n        ero: '2',\n        gy: '0',\n        ugy: '0',\n        ak: '1',\n        egs: '2',\n        sz: '-3',\n        int: '-1',\n        ae: '0',\n        asz: '-3',\n        erz: '1'\n    },\n    \"amund\": {\n        ero: '1',\n        gy: '0',\n        ugy: '0',\n        ak: '1',\n        egs: '0',\n        sz: '3',\n        int: '0',\n        ae: '0',\n        asz: '-1',\n        erz: '0'\n    },\n    \"dzsenn\": {\n        ero: '0',\n        gy: '0',\n        ugy: '0',\n        ak: '0',\n        egs: '0',\n        sz: '0',\n        int: '2',\n        ae: '0',\n        asz: '0',\n        erz: '0'\n    },\n    \"khl\": {\n        ero: '3',\n        gy: '2',\n        ugy: '1',\n        ak: '2',\n        egs: '3',\n        sz: '0',\n        int: '-1',\n        ae: '0',\n        asz: '-5',\n        erz: '3'\n    },\n    \"gnm\": {\n        ero: '-1',\n        gy: '0',\n        ugy: '1',\n        ak: '0',\n        egs: '0',\n        sz: '0',\n        int: '1',\n        ae: '0',\n        asz: '0',\n        erz: '2'\n    },\n    \"goblin\": {\n        ero: '-2',\n        gy: '0',\n        ugy: '0',\n        ak: '1',\n        egs: '1',\n        sz: '-2',\n        int: '-1',\n        ae: '0',\n        asz: '-2',\n        erz: '2'\n    },\n\n}\n\nexport const FOKASZTOK: Record<string, Array<string>> = {\n    'harcos': ['harcos', 'gladitor', 'fejvadsz', 'lovag'],\n    'szerencsevadsz': ['tolvaj', 'brd'],\n    'pap': ['pap', 'paplovag'],\n    'harcmvsz': ['harcmvsz', 'kardmvsz'],\n    'varzsl': ['boszorknymester', 'tzvarzsl', 'varzsl'],\n    'egyb': ['egyb']\n};\n\nexport const KASZTOK: Record<string, Kaszt> = {\n    'egyb': {\n        name: 'egyb',\n        kepesseg: {\n            ero: '10',\n            gy: '10',\n            ugy: '10',\n            ak: '10',\n            egs: '10',\n            sz: '10',\n            int: '10',\n            ae: '10',\n            asz: '10',\n            erz: '10'\n        },\n        alapHarcertek: {\n            ke: 0,\n            te: 0,\n            ve: 0,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 0,\n                ve: 0,\n                ce: 0\n            },\n            szabad: 0\n        },\n        epfp: {\n            ep: 0,\n            fp: 0,\n            fpPerSzint: 'k6'\n        }\n    },\n    harcos: {\n        name: 'harcos',\n        kepesseg: {\n            ero: 'k6 + 12 + kf',\n            gy: '2k6 + 6 + kf',\n            ugy: '2k6 + 6 + kf',\n            ak: 'k10 + 8 + kf',\n            egs: 'k10+10',\n            sz: '3k6(2x)',\n            int: '3k6(2x)',\n            ae: '2k6+6',\n            asz: '3k6(2x)',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 9,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 5\n        },\n        epfp: {\n            ep: 7,\n            fp: 6,\n            fpPerSzint: 'k6+4'\n        }\n    },\n    lovag: {\n        name: 'lovag',\n        kepesseg: {\n            ero: 'k6 + 12 + kf',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: 'k10 + 8 + kf',\n            egs: 'k10+10',\n            sz: '2k6+6+kf',\n            int: '2k6+6',\n            ae: 'k10+8',\n            asz: '3k6(2x)',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 5,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 5,\n                ve: 5,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 7,\n            fp: 6,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'gladitor': {\n        name: 'gladitor',\n        kepesseg: {\n            ero: 'k6 + 12 + kf',\n            gy: '2k6 + 6 + kf',\n            ugy: '2k6 + 6 + kf',\n            ak: 'k6 + 12 + kf',\n            egs: 'k10+10',\n            sz: '2k6+6',\n            int: '3k6',\n            ae: '3k6',\n            asz: '3k6',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 9,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 4,\n                ve: 4,\n                ce: 0\n            },\n            szabad: 4\n        },\n        epfp: {\n            ep: 8,\n            fp: 7,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'fejvadsz': {\n        name: 'fejvadsz',\n        kepesseg: {\n            ero: '2k6+6',\n            gy: 'k6+12+kf',\n            ugy: 'k10+8',\n            ak: 'k6 + 12 + kf',\n            egs: 'k10+10',\n            sz: '3k6',\n            int: '3k6(2x)',\n            ae: 'k10+8',\n            asz: '2k6+6',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 4,\n                ve: 4,\n                ce: 0\n            },\n            szabad: 3\n        },\n        epfp: {\n            ep: 6,\n            fp: 7,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    tolvaj: {\n        name: 'tolvaj',\n        kepesseg: {\n            ero: '3k6(2x)',\n            gy: 'k10 + 8 + kf',\n            ugy: 'k6 + 12 + kf',\n            ak: '3k6(2x)',\n            egs: '3k6(2x)',\n            sz: '2k6 + 6',\n            int: '2k6 + 6',\n            ae: '3k6',\n            asz: '3k6(2x)',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 8,\n            te: 17,\n            ve: 72,\n            ce: 10\n        },\n        hm: {\n            kotelezo: {\n                ke: 1,\n                te: 1,\n                ve: 1,\n                ce: 0\n            },\n            szabad: 4\n        },\n        epfp: {\n            ep: 4,\n            fp: 5,\n            fpPerSzint: 'k6+3'\n        }\n    },\n    'brd': {\n        name: 'brd',\n        kepesseg: {\n            ero: 'k10+8',\n            gy: 'k10+8+kf',\n            ugy: 'k10 + 8',\n            ak: '2k6+6',\n            egs: '2k6+6',\n            sz: 'k6+12+kf',\n            int: 'k10+8(2x)',\n            ae: '2k6+6',\n            asz: 'k10+8',\n            erz: 'k10+8'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 10\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 2,\n                ve: 2,\n                ce: 0\n            },\n            szabad: 5\n        },\n        epfp: {\n            ep: 5,\n            fp: 6,\n            fpPerSzint: 'k6+3'\n        }\n    },\n    pap: {\n        name: 'pap',\n        kepesseg: {\n            ero: '2k6+6',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: '2k6+6',\n            egs: 'k10+8',\n            sz: 'k10+10',\n            int: 'k10+8',\n            ae: 'k10+8+kf',\n            asz: 'k6+12',\n            erz: 'k10+8'\n        },\n        alapHarcertek: {\n            ke: 5,\n            te: 17,\n            ve: 72,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 6,\n            fp: 6,\n            fpPerSzint: 'k6+2'\n        }\n    },\n    paplovag: {\n        name: 'paplovag',\n        kepesseg: {\n            ero: 'k10+8+kf',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: 'k10+8',\n            egs: 'k10+10',\n            sz: 'k10+8',\n            int: '2k6 + 6',\n            ae: 'k10+8',\n            asz: 'k10+8+kf',\n            erz: 'k10+8'\n        },\n        alapHarcertek: {\n            ke: 5,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 3\n        },\n        epfp: {\n            ep: 8,\n            fp: 7,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'harcmvsz': {\n        name: 'harcmvsz',\n        kepesseg: {\n            ero: 'k10+8',\n            gy: 'k6+14',\n            ugy: 'k6+12',\n            ak: 'k6+12',\n            egs: 'k10+10',\n            sz: '3k6(2x)',\n            int: '3k6(2x)',\n            ae: 'k6+12',\n            asz: 'k10+8',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 4,\n            fp: 8,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'kardmvsz': {\n        name: 'kardmvsz',\n        kepesseg: {\n            ero: 'k10+8',\n            gy: 'k6+12+kf',\n            ugy: 'k6+14',\n            ak: 'k10+8',\n            egs: 'k10+8',\n            sz: '3k6(2x)',\n            int: '2k6 + 6',\n            ae: 'k6+12',\n            asz: 'k10+8',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 4,\n            fp: 8,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'boszorknymester': {\n        name: 'boszorknymester',\n        kepesseg: {\n            ero: '3k6(2x)',\n            gy: 'k10+8',\n            ugy: 'k6+12+kf',\n            ak: '3k6(2x)',\n            egs: '2k6+6',\n            sz: '3k6',\n            int: '2k6 + 6',\n            ae: '2k6+6',\n            asz: '2k6+6',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 7,\n            te: 17,\n            ve: 72,\n            ce: 5\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 1,\n                ve: 1,\n                ce: 0\n            },\n            szabad: 5\n        },\n        epfp: {\n            ep: 3,\n            fp: 4,\n            fpPerSzint: 'k6+1'\n        }\n    },\n    'tzvarzsl': {\n        name: 'tzvarzsl',\n        kepesseg: {\n            ero: '2k6+6',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: '2k6+6',\n            egs: '2k6+6',\n            sz: '3k6',\n            int: '2k6 + 6',\n            ae: '2k6+6',\n            asz: '2k6+6',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 6,\n            te: 17,\n            ve: 72,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 5,\n            fp: 4,\n            fpPerSzint: 'k6+1'\n        }\n    },\n    'varzsl': {\n        name: 'varzsl',\n        kepesseg: {\n            ero: '3k6',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: '3k6',\n            egs: '3k6(2x)',\n            sz: '3k6',\n            int: 'k6+12+kf',\n            ae: 'k6+12+kf',\n            asz: 'k6+12+kf',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 2,\n            te: 15,\n            ve: 70,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 1,\n                ve: 1,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 3,\n            fp: 2,\n            fpPerSzint: 'k6'\n        }\n    },\n}\n\nexport interface Kaszt {\n    name: string,\n    kepesseg: KepessegDobas,\n    alapHarcertek: Harcertek,\n    hm: { kotelezo: Harcertek, szabad: number },\n    epfp: { ep: number, fp: number, fpPerSzint: string }\n}\n\nexport function osszead<T>(r1: Record<keyof T, number>, r2: Record<keyof T, number>): Record<keyof T, number> {\n    const keys = [...new Set([...Object.keys(r1), ...Object.keys(r2)])];\n    return keys.reduce((acc, curr) => { acc[curr as keyof T] = r1[curr as keyof T] + r2[curr as keyof T]; return acc; }, {} as Record<keyof T, number>)\n}","import { DobasMatrix } from \"./dobasmatrix\";\nimport { FEGYVERTELEN, FEGYVER_KEPZETTSEG, Harcertek } from \"./harc\";\nimport { Kaszt, osszead } from \"./kasztok\";\nimport { roll } from \"./roll\";\n\n\nexport interface KarakterKepesseg {\n    ero: number;\n    gy: number;\n    ugy: number;\n    ak: number;\n    egs: number;\n    sz: number;\n    int: number;\n    ae: number;\n    asz: number;\n}\n\nexport interface KarakterInfo {\n    id: string;\n    name: string;\n}\n\nexport interface KarakterInfo {\n    id: string;\n    categories: Array<string>;\n    name: string;\n}\n\nexport interface Karakter extends KarakterInfo, HasEPFP {\n    faj: string;\n    kaszt: Kaszt;\n    szint: number;\n    kepessegek: KarakterKepesseg;\n    kepzettsegek: Array<Kepzettseg>;\n    alapHarcertek: Harcertek;\n    hmHarcertek: Harcertek;\n    hm: number;\n    fegyverek: Array<Fegyver>;\n    valasztottFegyver?: number;\n}\n\nexport interface HasEPFP {\n    maxFp: number;\n    maxEp: number;\n    fp: number;\n    ep: number;\n}\n\nexport interface Fegyver {\n    name: string;\n    harcertek: Harcertek;\n    sebzes: string;\n    tamPerKor: number;\n    lassu?: boolean;\n    lotav?: number;\n}\n\nexport interface Kepzettseg {\n    name: string;\n    target?: string;\n    szint: '1' | '2' | '3' | '4' | '5' | 'Af' | 'Mf' | number;\n    kp: number;\n}\n\nexport const folottiResz = (kepesseg?: number, hatar: number = 10) => {\n    return Math.max(0, ((kepesseg === undefined || Number.isNaN(kepesseg)) ? 0 : kepesseg) - hatar);\n}\n\nexport const szintlepes = (karakter: Karakter): Karakter => {\n    karakter.szint++;\n    const hm = karakter.kaszt.hm;\n    karakter.hm += hm.szabad;\n    karakter.hmHarcertek = osszead(karakter.hmHarcertek, hm.kotelezo);\n    karakter.maxFp += roll(karakter.kaszt.epfp.fpPerSzint).value;\n    karakter.fp = karakter.maxFp;\n    return karakter;\n}\n\nconst calculateKepessegHarcertek = (karakter: { kepessegek: KarakterKepesseg }, fegyver: Fegyver): Record<string, string | number> => {\n    return {\n        ke: folottiResz(karakter.kepessegek.gy) + folottiResz(karakter.kepessegek.ugy),\n        te: folottiResz(karakter.kepessegek.gy) + folottiResz(karakter.kepessegek.ugy) + folottiResz(karakter.kepessegek.ero),\n        ve: folottiResz(karakter.kepessegek.gy) + folottiResz(karakter.kepessegek.ugy),\n        ce: folottiResz(karakter.kepessegek.ugy),\n        sebzes: folottiResz(karakter.kepessegek.ero, 16)\n    }\n}\n\nconst calculateSebesulesHatrany = (karakter: HasEPFP): Harcertek | null => {\n    if (karakter.maxEp > 0 && karakter.ep <= karakter.maxEp * 0.25) {\n        return {\n            ke: -15,\n            te: -20,\n            ve: -25,\n            ce: -30\n        }\n    } else if ((karakter.maxEp > 0 && karakter.ep <= karakter.maxEp * 0.5) || (karakter.maxFp > 0 && karakter.fp < karakter.maxFp * 0.1)) {\n        return {\n            ke: -5,\n            te: -10,\n            ve: -10,\n            ce: -5\n        }\n    }\n    return null;\n}\n\nexport const calculateHarcertek = (karakter: { alapHarcertek: Harcertek, hmHarcertek: Harcertek, kepzettsegek?: Array<Kepzettseg>, kepessegek: KarakterKepesseg, szint?: number, kaszt?: { name: string } } & HasEPFP, fegyver: Fegyver, szituaciok?: Array<Harcertek & { name: string }>): DobasMatrix => {\n    const fegyvertelen = fegyver.name === FEGYVERTELEN.name;\n    const okol = fegyver.name === 'Puszta kz';\n    const lofegyver: boolean = fegyver.harcertek.ce > 0;\n    const fejvadasz = karakter.kaszt?.name === 'fejvadsz';\n    const kepzettseg: Kepzettseg | undefined = karakter.kepzettsegek?.find(k => okol ? (k.name === 'klharc') : (k.name === 'Fegyverhasznlat - ' + fegyver.name.toLowerCase()));\n    const ret: DobasMatrix = new DobasMatrix(fegyvertelen ? ['ke', 'te', 've', 'ce', 'sebzes'] : (lofegyver ? ['ke', 'ce', 've', 'sebzes'] : ['ke', 'te', 've', 'sebzes']));\n    ret.add('alap', karakter.alapHarcertek as unknown as Record<string, number>);\n    if (fejvadasz && karakter.szint) {\n        ret.add('spec', { ke: Math.floor(karakter.szint / 2), sebzes: Math.floor(karakter.szint / 2) });\n    }\n    ret.add('hm', karakter.hmHarcertek as unknown as Record<string, number>)\n    if (!fegyvertelen) {\n        ret.add(fegyver.name, { ...fegyver.harcertek, 'sebzes': fegyver.sebzes });\n    }\n    ret.add('kepessegek', calculateKepessegHarcertek(karakter, fegyver));\n    if (!kepzettseg) {\n        if (!fegyvertelen) {\n            ret.add('kpzetlen', { ...FEGYVER_KEPZETTSEG['kpzetlen'] });\n        }\n    } else if (!okol) {\n        ret.add('Kpzettsg ' + kepzettseg.szint, { ...FEGYVER_KEPZETTSEG[kepzettseg.szint] });\n    }\n\n    const sebesules = calculateSebesulesHatrany(karakter);\n    if (sebesules) {\n        ret.add('Sebesls', { ...sebesules });\n    }\n    szituaciok?.forEach(sz => ret.add(sz.name, { ...sz }));\n    return ret;\n}","import React from 'react';\nimport { Label } from 'semantic-ui-react';\nimport { DiceRollResult } from '../engine/roll';\n\nexport const DobasEredmeny: React.FC<{ pointing?: 'left' | 'right', result?: DiceRollResult }> = ({ result, pointing }) => {\n    return <>\n        <Label size='large' pointing={pointing} color='black'>{result?.value}</Label>\n        <Label basic><i>{result?.details}</i></Label>\n    </>;\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { DobasMatrix } from '../engine/dobasmatrix';\nimport { formatDiceRoll } from '../engine/roll';\nimport { DobasEredmeny } from './DobasEredmeny';\n\nconst NumberInput: any = require('semantic-ui-react-numberinput').default;\n\nexport const DobasMatrixDisplay: React.FC<{ matrix: DobasMatrix, keyMap: Record<string, string>, direction: 'horizontal' | 'vertical', title: string | React.ReactNode, setValue?: (name: string, key: string, value: string) => unknown, editable?: Array<string> }> = ({ matrix, keyMap, direction, title, editable, setValue }) => {\n    const displayCell = (name: string, key: string) => {\n        const value = matrix.values[name][key];\n        const constantRoll = (value?.roll?.die ?? 0) === 0;\n        const rollString = value?.roll ? formatDiceRoll(value.roll) : '';\n        if (!editable?.includes(name)) {\n            return <Table.Cell key={name + '-' + key}>\n                {rollString}{!constantRoll && value?.result && <> = <DobasEredmeny result={value?.result} /></>}\n            </Table.Cell>;\n        } else {\n            return <Table.Cell key={name + '-' + key}>\n                <NumberInput size='mini' allowEmptyValue value={value.roll.plus} stepAmount={1} minValue={0} maxValue={1000} onChange={(e: string) => setValue?.(name, key, e)} />\n            </Table.Cell>;\n        }\n    }\n\n    if (direction === 'horizontal') {\n        return <Table celled striped>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell key='title' disabled={false}>{title}</Table.HeaderCell>\n                    {matrix.keys.map(key => <Table.HeaderCell key={key}>{keyMap[key]}</Table.HeaderCell>)}\n                </Table.Row>\n            </Table.Header>\n            <Table.Body>\n                {Object.keys(matrix.values).map(name => {\n                    return <Table.Row key={name}>\n                        <Table.HeaderCell key={name}>{name}</Table.HeaderCell>\n                        {matrix.keys.map(key => displayCell(name, key))}\n                    </Table.Row>\n                })}\n                <tr key='footer'>\n                </tr>\n            </Table.Body>\n            <Table.Footer>\n                <Table.HeaderCell title='sum'>sszeg</Table.HeaderCell>\n                {matrix.keys.map(key => <Table.HeaderCell key={key}>{matrix.sum[key]}</Table.HeaderCell>)}\n            </Table.Footer>\n        </Table>\n    } else {\n        return <Table celled striped definition>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell key='title'>{title}</Table.HeaderCell>\n                    {Object.keys(matrix.values).map(name => <Table.HeaderCell key={name}>{name}</Table.HeaderCell>)}\n                    <Table.HeaderCell key='sum'>sszeg</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n            <Table.Body>\n                {matrix.keys.map(key => {\n                    return <Table.Row key={key}>\n                        <Table.HeaderCell key='title'>{keyMap[key]}</Table.HeaderCell>\n                        {Object.keys(matrix.values).map(name => displayCell(name, key))}\n                        <Table.HeaderCell key='sum'>{matrix.sum[key]}</Table.HeaderCell>\n                    </Table.Row>\n                })}\n            </Table.Body>\n        </Table>\n\n    }\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\n\nconst NumberInput: any = require('semantic-ui-react-numberinput').default;\n\nexport const EPFP: React.FC<{ maxEp: number, maxFp: number, ep: number, fp: number, onChange: (ep: number, fp: number) => unknown, maxChange?: boolean, title?: string }> = ({ maxEp, maxFp, ep, fp, onChange, maxChange, title }) => {\n    const aktChange = maxChange === undefined;\n    return <Table striped celled definition>\n        <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>{title ?? 'leter'}</Table.HeaderCell>\n                <Table.HeaderCell>P</Table.HeaderCell>\n                <Table.HeaderCell>FP</Table.HeaderCell>\n            </Table.Row>\n\n        </Table.Header>\n        <Table.Body>\n            <Table.Row>\n                <Table.HeaderCell>Max</Table.HeaderCell>\n                <Table.Cell>{maxChange ? <NumberInput maxLength={3} size='mini narrow' allowEmptyValue value={maxEp} stepAmount={1} minValue={0} maxValue={1000} onChange={(e: any) => onChange(Number(e), maxFp)} /> : maxEp}</Table.Cell>\n                <Table.Cell>{maxChange ? <NumberInput maxLength={3} size='mini narrow' allowEmptyValue value={maxFp} stepAmount={1} minValue={0} maxValue={1000} onChange={(e: any) => onChange(maxEp, Number(e))} /> : maxFp}</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n                <Table.HeaderCell>Akt</Table.HeaderCell>\n                <Table.Cell>{!aktChange ? ep : <NumberInput maxLength={3} size='mini narrow' allowEmptyValue value={ep} stepAmount={1} minValue={0} maxValue={maxEp} onChange={(e: any) => onChange(Math.min(maxEp, Number(e)), fp)} />}</Table.Cell>\n                <Table.Cell>{!aktChange ? fp : <NumberInput maxLength={3} size='mini narrow' allowEmptyValue value={fp} stepAmount={1} minValue={0} maxValue={maxFp} onChange={(e: any) => onChange(ep, Math.min(maxFp, Number(e)))} />}</Table.Cell>\n            </Table.Row>\n        </Table.Body>\n    </Table>\n\n}","import React from 'react';\nimport { Button, Label } from 'semantic-ui-react';\n\ninterface SelectionProps { label: JSX.Element | string, selected?: string, setSelected: (newValue: string | undefined) => unknown, options: Array<string>, structure?: Record<string, Array<string>> };\n\nexport const Selection: React.FC<SelectionProps> = ({ label, selected, setSelected, options, structure }) => {\n    if (!structure) {\n        return <Button labelPosition='left' as='div'>\n            <Label basic pointing='right'>\n                {label}\n            </Label>\n            {options.map(n => <Button active={selected === n} onClick={() => setSelected(n)}>{n}</Button>)}\n        </Button>\n    } else {\n        return <Button labelPosition='left' as='div'>\n            <Label basic pointing='right'>\n                {label}\n            </Label>\n            {Object.keys(structure).map(fk => <Button.Group as='div' vertical>\n                <Label tag color='yellow'>{fk}</Label>\n                {options.filter(o => structure[fk].includes(o)).map((n, i) => <Button compact active={selected === n} onClick={() => setSelected(n)}>{n}</Button>)}\n            </Button.Group>\n            )}\n        </Button>\n    }\n\n}","import React from 'react';\r\nimport { Input, Label } from 'semantic-ui-react';\r\nimport { KASZTOK, FOKASZTOK } from '../engine/kasztok';\r\nimport { BackgroundSelection } from '../pages/KarakterAlkotas';\r\nimport { Selection } from './Selection';\r\n\r\nexport const KarakterAlkotasBackground: React.FC<{ fajNevek: Array<string>, backgroundSelection: BackgroundSelection, setBackgroundSelection: (backgroundSelection: BackgroundSelection) => unknown }> = ({ fajNevek, backgroundSelection, setBackgroundSelection }) => {\r\n\r\n    const changeKasztSelection = (s: string | undefined) => {\r\n        setBackgroundSelection({ ...backgroundSelection, kaszt: s, manual: s === 'egyb' ? JSON.parse(JSON.stringify(KASZTOK['egyb'])) : undefined })\r\n    };\r\n\r\n\r\n    return <div>\r\n        <div>\r\n            <Input fluid labelPosition='left' placeholder='Karakter neve...' error={!backgroundSelection.name} value={backgroundSelection.name} onChange={e => setBackgroundSelection({ ...backgroundSelection, name: e.target.value })}>\r\n                <Label pointing='right' basic>Nv</Label>\r\n                <input />\r\n            </Input>\r\n        </div>\r\n        <div><Selection label='Kaszt' selected={backgroundSelection.kaszt} setSelected={changeKasztSelection} options={Object.keys(KASZTOK)} structure={FOKASZTOK} /></div>\r\n        <div><Selection label='Faj' selected={backgroundSelection.faj} setSelected={faj => setBackgroundSelection({ ...backgroundSelection, faj })} options={fajNevek} /></div>\r\n        <div><Input labelPosition='left' value={backgroundSelection.szint} onChange={e => {\r\n            const value = e.target.value ? Math.max(0, Math.floor(Number(e.target.value))) : undefined;\r\n            setBackgroundSelection({ ...backgroundSelection, szint: value });\r\n        }}>\r\n            <Label pointing='right' basic>Szint</Label>\r\n            <input />\r\n        </Input>\r\n        </div>\r\n        {backgroundSelection.manual && <div>\r\n            <Input labelPosition='left' error={!backgroundSelection.manual.name} value={backgroundSelection.manual.name} onChange={e => {\r\n                if (backgroundSelection.manual) {\r\n                    setBackgroundSelection({ ...backgroundSelection, manual: { ...backgroundSelection.manual, name: e.target.value } })\r\n                }\r\n            }}>\r\n                <Label pointing='right' basic>Kaszt neve</Label>\r\n                <input />\r\n            </Input>\r\n        </div>}\r\n    </div>\r\n\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport { Button, Grid, GridColumn, GridRow, Input, Label } from 'semantic-ui-react';\nimport { v4 } from 'uuid';\nimport { DobasMatrix } from '../engine/dobasmatrix';\nimport { FEGYVERTELEN, HARCERTEK_DISPLAY_NAMES } from '../engine/harc';\nimport { calculateHarcertek, folottiResz, Karakter, KarakterKepesseg, szintlepes } from '../engine/karakter';\nimport { Kaszt, KASZTOK, KepessegDobas, KEPESSEG_NEV } from '../engine/kasztok';\nimport { DobasMatrixDisplay } from '../components/DobasMatrixDisplay';\nimport { EPFP } from '../components/EPFP';\nimport { KarakterAlkotasBackground } from '../components/KarakterAlkotasBackground';\n\nconst NumberInput: any = require('semantic-ui-react-numberinput').default;\n\nexport interface BackgroundSelection {\n    name: string;\n    faj?: string;\n    kaszt?: string;\n    manual?: Kaszt;\n    szint?: number;\n}\n\n\nconst calculateKepessegek = (fajok: Record<string, KepessegDobas>, { kaszt, faj, manual }: { kaszt?: string, faj?: string, manual?: Kaszt }, roll?: boolean) => {\n    const newMatrix = new DobasMatrix(Object.keys(KEPESSEG_NEV));\n    if (manual) {\n        newMatrix.add('Kaszt: ' + kaszt, manual.kepesseg as unknown as Record<string, string>);\n    } else if (kaszt && KASZTOK[kaszt]) {\n        newMatrix.add('Kaszt: ' + kaszt, KASZTOK[kaszt].kepesseg as unknown as Record<string, string>);\n    }\n    if (faj && fajok[faj]) {\n        newMatrix.add('Faj: ' + faj, fajok[faj] as unknown as Record<string, string>);\n    }\n    if (roll || manual) {\n        newMatrix.roll();\n    }\n    return newMatrix;\n}\n\nconst createKarakter = ({ kaszt, faj, manual, szint, name }: BackgroundSelection, kepessegek: DobasMatrix) => {\n    const kasztOb = manual ?? KASZTOK[kaszt ?? ''];\n    if (!kasztOb || !kepessegek.sum || !faj) {\n        return null;\n    }\n    const epfp = kasztOb.epfp;\n    const ep = epfp.ep + folottiResz(kepessegek.sum.egs);\n    const fp = epfp.fp + folottiResz(kepessegek.sum.ae) + folottiResz(kepessegek.sum.ak);\n    const karakter: Karakter = {\n        id: v4(),\n        name,\n        faj,\n        categories: [],\n        kepessegek: kepessegek.sum as unknown as KarakterKepesseg,\n        kaszt: kasztOb,\n        szint: 0,\n        hm: 0,\n        maxEp: ep,\n        maxFp: fp,\n        ep,\n        fp,\n        hmHarcertek: { ke: 0, te: 0, ve: 0, ce: 0 },\n        kepzettsegek: [],\n        alapHarcertek: kasztOb.alapHarcertek,\n        fegyverek: [FEGYVERTELEN]\n    };\n    [...Array(szint).keys()].forEach(() => szintlepes(karakter));\n    return karakter;\n};\n\n\n\nexport const KarakterAlkotas: React.FC<{ save: (karakter: Karakter) => unknown, fajok: Record<string, KepessegDobas> }> = ({ save, fajok }) => {\n    const [backgroundSelection, setBackgroundSelection] = useState<BackgroundSelection>({ szint: 1, name: '' });\n    const [matrix, setMatrix] = useState<DobasMatrix>(new DobasMatrix(Object.keys(KEPESSEG_NEV)));\n\n    useEffect(() => {\n        setMatrix(calculateKepessegek(fajok, { kaszt: backgroundSelection.kaszt, faj: backgroundSelection.faj, manual: backgroundSelection.manual }));\n    }, [fajok, backgroundSelection.manual, backgroundSelection.faj, backgroundSelection.kaszt, setMatrix]);\n\n    const dob = () => {\n        setMatrix(calculateKepessegek(fajok, backgroundSelection, true));\n    };\n\n\n\n    const kaszt = backgroundSelection.manual ?? KASZTOK[backgroundSelection.kaszt ?? ''];\n    const karakter = kaszt ? {\n        kepessegek: matrix.sum as unknown as KarakterKepesseg,\n        alapHarcertek: kaszt.alapHarcertek,\n        hmHarcertek: kaszt.hm.kotelezo,\n        maxEp: kaszt.epfp.ep + folottiResz(matrix.sum.egs),\n        maxFp: kaszt.epfp.fp + folottiResz(matrix.sum.ae) + folottiResz(matrix.sum.ak),\n        ep: kaszt.epfp.ep + folottiResz(matrix.sum.egs),\n        fp: kaszt.epfp.fp + folottiResz(matrix.sum.ae) + folottiResz(matrix.sum.ak)\n    } : undefined;\n\n    const kezi = backgroundSelection.manual;\n\n    return <Grid relaxed>\n        <GridRow columns={2} divided>\n            <GridColumn>\n                <GridRow>\n                    <KarakterAlkotasBackground backgroundSelection={backgroundSelection} setBackgroundSelection={setBackgroundSelection} fajNevek={Object.keys(fajok)} />\n                </GridRow>\n                {karakter && <>\n                    <div>\n                        <Button as='div' basic floated='left'>\n                            <Label basic>Eloszthat HM:</Label>\n                            {backgroundSelection.manual ? <NumberInput size='mini' allowEmptyValue value={backgroundSelection.manual.hm.szabad} stepAmount={1} minValue={0} maxValue={1000} onChange={(e: string) => {\n                                if (backgroundSelection.manual) {\n                                    backgroundSelection.manual.hm.szabad = Number(e);\n                                    setBackgroundSelection({ ...backgroundSelection });\n                                }\n                            }} /> : <Label basic>{kaszt.hm.szabad}</Label>}\n                        </Button>\n                        <Button as='div' basic floated='right'>\n                            <Label basic>Szintenknti FP:</Label>\n                            {kezi && <Input value={kaszt.epfp.fpPerSzint} onChange={e => {\n                                kezi.epfp.fpPerSzint = e.target.value;\n                                setBackgroundSelection({ ...backgroundSelection, manual: kezi })\n                            }} />}\n                            {!kezi && <Label basic>{kaszt.epfp.fpPerSzint}</Label>}\n                        </Button>\n                    </div>\n                    <div><DobasMatrixDisplay\n                        title='Harcrtkek'\n                        editable={kezi ? ['alap', 'hm'] : []}\n                        setValue={(name, key, value) => {\n                            if (kezi) {\n                                if (name === 'alap') {\n                                    (kezi.alapHarcertek as any)[key] = value;\n                                } else if (name === 'hm') {\n                                    (kezi.hm.kotelezo as any)[key] = value;\n                                }\n                                setBackgroundSelection({ ...backgroundSelection, manual: kezi })\n                            }\n                        }}\n                        matrix={calculateHarcertek(karakter, FEGYVERTELEN).roll(['te', 've', 'ce', 'ke'])}\n                        direction='vertical'\n                        keyMap={HARCERTEK_DISPLAY_NAMES} />\n                    </div>\n                    <div>\n                        <EPFP\n                            title='leter 0. szinten'\n                            ep={karakter.ep}\n                            fp={karakter.fp}\n                            maxEp={karakter.maxEp}\n                            maxFp={karakter.maxFp}\n                            onChange={(ep, fp) => {\n                                if (kezi) {\n                                    kezi.epfp.ep = ep - folottiResz(matrix.sum.egs);\n                                    kezi.epfp.fp = fp - folottiResz(matrix.sum.ae) - folottiResz(matrix.sum.ak);\n                                    setBackgroundSelection({ ...backgroundSelection, manual: kezi })\n                                }\n                            }}\n                            maxChange={kezi !== undefined}\n                        />\n                    </div>\n                </>\n                }\n            </GridColumn>\n            <GridColumn>\n                <DobasMatrixDisplay\n                    title='Kpessgek'\n                    matrix={matrix}\n                    keyMap={KEPESSEG_NEV}\n                    direction='vertical'\n                    editable={kezi ? ['Kaszt: egyb'] : []}\n                    setValue={(name, key, value) => kezi && setBackgroundSelection({ ...backgroundSelection, manual: { ...kezi, kepesseg: { ...kezi.kepesseg, [key]: value } } })} />\n            </GridColumn>\n        </GridRow>\n        <GridRow columns={1} textAlign='center'>\n            <GridColumn>\n                <Button disabled={!!kezi} secondary onClick={dob}>Dob</Button>\n                <Button disabled={!backgroundSelection.name || backgroundSelection.szint === undefined || !matrix.sum} primary onClick={() => { const kar = createKarakter(backgroundSelection, matrix); if (kar) { save(kar) } }}>Ment</Button>\n            </GridColumn>\n        </GridRow>\n    </Grid>\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { Fegyver } from '../engine/karakter';\n\nexport const FegyverLista: React.FC<{ fegyverek: Array<Fegyver>, selected?: number, onSelectionChange?: (newSelection: number | undefined) => unknown }> = ({ fegyverek, selected, onSelectionChange }) => {\n    const fegyverLista: Array<Record<string, string | number>> = fegyverek.map(fegyver => {\n        const rec: Record<string, string | number> = {};\n        rec.name = fegyver.name;\n        rec.ke = fegyver.harcertek.ke;\n        rec.te = fegyver.harcertek.te || '-';\n        rec.ve = fegyver.harcertek.ve;\n        rec.ce = fegyver.harcertek.ce || '-';\n        rec.sebzes = fegyver.sebzes;\n        rec.tamPerKor = fegyver.lassu ? '1/' + fegyver.tamPerKor : fegyver.tamPerKor;\n        rec.lotav = fegyver.lotav ?? '-';\n        return rec;\n    });\n\n    return <Table celled striped definition selectable={onSelectionChange !== undefined}>\n        <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>Fegyver</Table.HeaderCell>\n                <Table.HeaderCell>K</Table.HeaderCell>\n                <Table.HeaderCell>T</Table.HeaderCell>\n                <Table.HeaderCell>V</Table.HeaderCell>\n                <Table.HeaderCell>C</Table.HeaderCell>\n                <Table.HeaderCell>Sebzs</Table.HeaderCell>\n                <Table.HeaderCell>Tm / kr</Table.HeaderCell>\n                <Table.HeaderCell>Ltv</Table.HeaderCell>\n            </Table.Row>\n        </Table.Header>\n        <Table.Body>\n            {fegyverLista.map((r, i) => {\n                return <Table.Row active={selected === i} onClick={() => onSelectionChange?.(selected === i ? undefined : i)}>\n                    <Table.Cell>{r.name}</Table.Cell>\n                    <Table.Cell>{r.ke}</Table.Cell>\n                    <Table.Cell>{r.te}</Table.Cell>\n                    <Table.Cell>{r.ve}</Table.Cell>\n                    <Table.Cell>{r.ce}</Table.Cell>\n                    <Table.Cell>{r.sebzes}</Table.Cell>\n                    <Table.Cell>{r.tamPerKor}</Table.Cell>\n                    <Table.Cell>{r.lotav}</Table.Cell>\n                </Table.Row>\n            })}\n        </Table.Body>\n    </Table>\n}","import React from 'react'\r\nimport { Input, Label } from 'semantic-ui-react';\r\n\r\ninterface IntegerInputProps {\r\n    value?: number,\r\n    onChange: (value?: number) => unknown,\r\n    label: string;\r\n}\r\n\r\n\r\nexport const IntegerInput: React.FC<IntegerInputProps> = ({ value, onChange, label }) => {\r\n    return <Input labelPosition='left' error={value === undefined} value={value ?? ''} onChange={e => {\r\n        const newValue = e.target.value ? Math.max(0, Math.floor(Number(e.target.value))) : undefined;\r\n        if (newValue === undefined || !Number.isNaN(newValue)) {\r\n            onChange(newValue);\r\n        }\r\n    }}>\r\n        <Label pointing='right' basic>{label}</Label>\r\n        <input />\r\n    </Input>;\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Button, Checkbox, Grid, GridColumn, GridRow, Input, Label } from 'semantic-ui-react';\r\nimport { Fegyver } from '../engine/karakter';\r\nimport { IntegerInput } from './IntegerInput';\r\n\r\ninterface FormValues {\r\n    name: string;\r\n    ke?: number;\r\n    te?: number;\r\n    ve?: number;\r\n    ce?: number;\r\n    lofegyver: boolean;\r\n    lotav?: number;\r\n    sebzes: string;\r\n    tamPerKor?: number;\r\n    lassu: boolean;\r\n}\r\n\r\nexport type FEGYVER_KEPZETTSEG = 'kpzetlen' | 'Af' | 'Mf';\r\n\r\nconst convertToFormValues = (fegyver?: Fegyver): FormValues => {\r\n    return {\r\n        name: fegyver?.name ?? '',\r\n        ke: fegyver?.harcertek.ke,\r\n        te: fegyver?.harcertek.te,\r\n        ve: fegyver?.harcertek.ve,\r\n        ce: fegyver?.harcertek.ce,\r\n        lofegyver: (fegyver?.harcertek.ce ?? 0) > 0,\r\n        lotav: fegyver?.lotav,\r\n        sebzes: fegyver?.sebzes ?? '',\r\n        tamPerKor: fegyver?.tamPerKor,\r\n        lassu: fegyver?.lassu ?? false\r\n    }\r\n}\r\n\r\nconst convertFromFormValues = (fegyver: FormValues): Fegyver => {\r\n    return {\r\n        name: fegyver.name,\r\n        harcertek: {\r\n            ke: fegyver.ke ?? 0,\r\n            te: fegyver.te ?? 0,\r\n            ve: fegyver.ve ?? 0,\r\n            ce: fegyver.ce ?? 0\r\n        },\r\n        lotav: fegyver.lotav,\r\n        sebzes: fegyver.sebzes,\r\n        tamPerKor: fegyver.tamPerKor ?? 1,\r\n        lassu: fegyver.lassu\r\n    }\r\n}\r\n\r\nexport const FegyverEditor: React.FC<{ kepzettseg?: boolean, fegyver?: Fegyver, submit: (fegyver: Fegyver, kepzettseg?: FEGYVER_KEPZETTSEG) => unknown, cancel: () => unknown }> = ({ fegyver, submit, cancel, kepzettseg }) => {\r\n\r\n    const [form, setForm] = useState<FormValues>(convertToFormValues(fegyver));\r\n\r\n    useEffect(() => {\r\n        setForm(convertToFormValues(fegyver));\r\n    }, [fegyver]);\r\n\r\n    return <Grid columns={1} relaxed>\r\n        <GridRow>\r\n            <GridColumn>\r\n                <div>\r\n                    <Input fluid labelPosition='left' placeholder='Fegyver neve...' error={!form.name} value={form.name} onChange={e => setForm({ ...form, name: e.target.value })}>\r\n                        <Label pointing='right' basic>Nv</Label>\r\n                        <input />\r\n                    </Input>\r\n                </div>\r\n                <div><IntegerInput value={form.ke} onChange={ke => setForm({ ...form, ke })} label='K' /></div>\r\n                <div>\r\n                    <Label pointing='right' basic>Lfegyver:</Label>\r\n                    <Checkbox fitted={true} toggle checked={form.lofegyver} onChange={() => setForm({ ...form, lofegyver: !form.lofegyver })}>\r\n                    </Checkbox>\r\n                </div>\r\n                {!form.lofegyver &&\r\n                    <div><IntegerInput value={form.te} onChange={te => setForm({ ...form, te })} label='T' /></div>\r\n                }\r\n                {form.lofegyver &&\r\n                    <div><IntegerInput value={form.ce} onChange={ce => setForm({ ...form, ce })} label='C' /></div>\r\n                }\r\n                <div><IntegerInput value={form.ve} onChange={ve => setForm({ ...form, ve })} label='V' /></div>\r\n                <div>\r\n                    <Input fluid labelPosition='left' placeholder='Fegyver sebzse...' error={!form.sebzes} value={form.sebzes} onChange={e => setForm({ ...form, sebzes: e.target.value })}>\r\n                        <Label pointing='right' basic>Sebzs</Label>\r\n                        <input />\r\n                    </Input>\r\n                </div>\r\n                {form.lofegyver &&\r\n                    <div><IntegerInput value={form.lotav} onChange={lotav => setForm({ ...form, lotav })} label='Ltv' /></div>\r\n                }\r\n                <div>\r\n                    <Label pointing='right' basic>Lass:</Label>\r\n                    <Checkbox fitted={true} toggle checked={form.lassu} onChange={() => setForm({ ...form, lassu: !form.lassu })}>\r\n                    </Checkbox>\r\n                </div>\r\n                <div><IntegerInput value={form.tamPerKor} onChange={tamPerKor => setForm({ ...form, tamPerKor })} label={`Tmads krnknt: ${form.lassu ? '1 / ' : ''}`} /></div>\r\n            </GridColumn>\r\n        </GridRow>\r\n        <GridRow textAlign='center'>\r\n            <GridColumn>\r\n                {!kepzettseg && <Button onClick={() => submit(convertFromFormValues(form))}>Ment</Button>}\r\n                {kepzettseg &&\r\n                    <Button as='div' labelPosition='left'>\r\n                        <Label pointing='right'>\r\n                            Hasznlat szintje\r\n                    </Label>\r\n                        <Button onClick={() => submit(convertFromFormValues(form), 'kpzetlen')}>Kpzetlen</Button>\r\n                        <Button secondary onClick={() => submit(convertFromFormValues(form), 'Af')}>Af</Button>\r\n                        <Button primary onClick={() => submit(convertFromFormValues(form), 'Mf')}>Mf</Button>\r\n                    </Button>\r\n                }\r\n                <Button secondary basic onClick={cancel}>Mgse</Button>\r\n            </GridColumn>\r\n        </GridRow>\r\n    </Grid>;\r\n}","import React, { useCallback, useState } from 'react';\nimport { Button, Grid, GridColumn, GridRow, Header, Label, Modal } from 'semantic-ui-react';\nimport { Fegyver, Karakter, Kepzettseg } from '../engine/karakter';\nimport { FegyverEditor } from './FegyverEditor';\nimport { FegyverLista } from './FegyverLista';\n\ninterface FegyverValasztoProps {\n    fegyverek: Array<Fegyver>,\n    karakter: Karakter,\n    save: (karakter: Karakter) => unknown,\n    saveFegyverek: (fegyverek: Array<Fegyver>) => unknown\n}\n\nexport const FegyverValaszto: React.FC<FegyverValasztoProps> = ({ karakter, save, fegyverek, saveFegyverek }) => {\n\n    const [selected, setSelected] = useState<number>();\n    const [selectedForDeletion, setSelectedForDeletion] = useState<number>();\n    const [editorOpen, setEditorOpen] = useState<boolean>(false);\n    const [listEditorOpen, setListEditorOpen] = useState<boolean>(false);\n\n    const saveSelection = useCallback((kepzettsegSzint: string) => {\n        const fegyver = selected !== undefined ? fegyverek[selected] : undefined;\n        if (fegyver) {\n            addFegyverAndKepzettseg(karakter, fegyver, kepzettsegSzint);\n            save(karakter);\n        }\n    }, [karakter, save, selected, fegyverek]);\n\n    const saveDeletion = useCallback(() => {\n        if (selectedForDeletion !== undefined) {\n            karakter.fegyverek = karakter.fegyverek.filter((f, i) => i !== selectedForDeletion);\n            karakter.valasztottFegyver = 0;\n            save(karakter);\n        }\n    }, [karakter, save, selectedForDeletion]);\n\n\n    return <Grid columns={3} relaxed>\n        <GridRow columns='equal'>\n            <GridColumn>\n                <Header size='large'>Vlaszthat\n                    <Modal trigger={<Button floated='right' primary>{selected !== undefined ? 'Mdost' : 'j'}</Button>}\n                        onOpen={() => setListEditorOpen(true)}\n                        onClose={() => setListEditorOpen(false)}\n                        open={listEditorOpen}>\n                        <Modal.Content>\n                            <FegyverEditor\n                                fegyver={selected !== undefined ? fegyverek[selected] : undefined}\n                                submit={f => {\n                                    if (selected === undefined) {\n                                        fegyverek.push(f);\n                                    } else {\n                                        fegyverek[selected] = f;\n                                    }\n                                    saveFegyverek(fegyverek);\n                                    setListEditorOpen(false);\n                                }}\n                                cancel={() => setListEditorOpen(false)} />\n                        </Modal.Content>\n                    </Modal>\n                    <Button floated='right' negative disabled={selected === undefined} onClick={() => {\n                        saveFegyverek(fegyverek.filter((f, i) => i !== selected));\n                    }}>Trl</Button>\n                    <Button floated='right' as='div' labelPosition='left'>\n                        <Label pointing='right'>\n                            Kpzettsg\n                        </Label>\n                        <Button disabled={selected === undefined} onClick={() => saveSelection('')}>Kpzetlen</Button>\n                        <Button secondary disabled={selected === undefined} onClick={() => saveSelection('Af')}>Af</Button>\n                        <Button primary disabled={selected === undefined} onClick={() => saveSelection('Mf')}>Mf</Button>\n                    </Button>\n                </Header>\n                <FegyverLista fegyverek={fegyverek.sort((a, b) => a.name.localeCompare(b.name))} selected={selected} onSelectionChange={setSelected}></FegyverLista>\n            </GridColumn>\n            <GridColumn>\n                <Header size='large'>Viselt\n                    <Modal trigger={<Button floated='right' primary>{selectedForDeletion !== undefined ? 'Mdost' : 'j'}</Button>} onOpen={() => setEditorOpen(true)} onClose={() => setEditorOpen(false)} open={editorOpen}>\n                        <Modal.Content>\n                            <FegyverEditor\n                                kepzettseg\n                                fegyver={selectedForDeletion !== undefined ? karakter.fegyverek[selectedForDeletion] : undefined}\n                                submit={(f, k) => { addFegyverAndKepzettseg(karakter, f, k ?? 'kpzetlen', selectedForDeletion); save(karakter); setEditorOpen(false) }}\n                                cancel={() => setEditorOpen(false)} />\n                        </Modal.Content>\n                    </Modal>\n                    <Button floated='right' negative disabled={selectedForDeletion === undefined} onClick={saveDeletion}>Trl</Button>\n                </Header>\n                <FegyverLista fegyverek={karakter.fegyverek} selected={selectedForDeletion} onSelectionChange={setSelectedForDeletion}></FegyverLista>\n            </GridColumn>\n        </GridRow>\n        <GridRow columns={1} textAlign='center'>\n            <GridColumn>\n                <div>\n                </div>\n            </GridColumn>\n        </GridRow>\n    </Grid>\n}\n\nfunction addFegyverAndKepzettseg(karakter: Karakter, fegyver: Fegyver, kepzettsegSzint: string, idx?: number) {\n    const fIdx = idx ?? karakter.fegyverek.findIndex(f => f.name === fegyver.name);\n    if (fIdx === -1) {\n        karakter.fegyverek.push({ ...fegyver });\n    } else {\n        karakter.fegyverek[fIdx] = fegyver;\n    }\n    karakter.valasztottFegyver = karakter.fegyverek.findIndex(f => f.name === fegyver.name);\n    const kepzettsegName = `Fegyverhasznlat - ${fegyver.name.toLowerCase()}`;\n    karakter.kepzettsegek = karakter.kepzettsegek.filter(k => k.name !== kepzettsegName);\n    if (kepzettsegSzint) {\n        const kepzettseg: Kepzettseg = {\n            name: kepzettsegName,\n            szint: kepzettsegSzint as any,\n            kp: 0\n        };\n        karakter.kepzettsegek.push(kepzettseg);\n    }\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Button, Table } from 'semantic-ui-react';\nimport { Harcertek, HARCERTEK_DISPLAY_NAMES } from '../engine/harc';\n\nconst NumberInput: any = require('semantic-ui-react-numberinput').default;\n\ninterface State {\n    harcertek: Harcertek,\n    hm: number\n};\n\nexport const HMEloszto: React.FC<{ harcertek: Harcertek, hm: number, complete: (harcertek: Harcertek, hm: number) => unknown }> = ({ harcertek, hm, complete }) => {\n    const [current, setCurrent] = useState<State>({ harcertek: { ...harcertek }, hm: hm } as State);\n\n    useEffect(() => {\n        setCurrent({ harcertek: { ...harcertek }, hm });\n    }, [harcertek, hm, setCurrent]);\n\n\n    const change = useCallback((he: ('ke' | 'te' | 've' | 'ce'), newValue: number) => {\n        const newCurrent: State = { ...current };\n        newCurrent.harcertek[he] = newValue;\n        newCurrent.hm = hm - (Object.keys(newCurrent.harcertek) as Array<any>).reduce((acc, curr: ('ke' | 'te' | 've' | 'ce')) => acc + (newCurrent.harcertek[curr] - harcertek[curr]), 0);\n        console.log('hmeloszto', newCurrent);\n        setCurrent(newCurrent);\n    }, [current, setCurrent, harcertek, hm]);\n\n    return <Table definition striped>\n        <Table.Row>\n            <Table.Cell>HM:</Table.Cell>\n            <Table.Cell colSpan={2}>{current.hm}</Table.Cell>\n        </Table.Row>\n        {(Object.keys(harcertek) as Array<any>).map((he: ('ke' | 'te' | 've' | 'ce')) => <Table.Row>\n            <Table.Cell>{HARCERTEK_DISPLAY_NAMES[he]}:</Table.Cell>\n            <Table.Cell><i>{harcertek[he]}</i></Table.Cell>\n            <Table.Cell><NumberInput className={he} allowEmptyValue size='mini' value={current.harcertek[he]} stepAmount={1} minValue={harcertek[he]} maxValue={(current.harcertek[he] ?? 0) + current.hm} onChange={(e: any) => change(he, Number(e ?? 0))} /></Table.Cell>\n        </Table.Row>)}\n        <Button onClick={() => complete(current.harcertek, current.hm)}>Eloszt</Button>\n    </Table>\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { Kepzettseg } from '../engine/karakter';\n\nexport const KepzettsegLista: React.FC<{ kepzettsegek: Array<Kepzettseg> }> = ({ kepzettsegek }) => {\n    return <Table striped celled>\n        <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>Kpzettsg</Table.HeaderCell>\n                <Table.HeaderCell>Szint</Table.HeaderCell>\n                <Table.HeaderCell>KP</Table.HeaderCell>\n            </Table.Row>\n        </Table.Header>\n        <Table.Body>\n            {kepzettsegek.map((r, i) => {\n                return <Table.Row>\n                    <Table.Cell>{r.name}</Table.Cell>\n                    <Table.Cell>{r.szint}</Table.Cell>\n                    <Table.Cell>-</Table.Cell>\n                </Table.Row>\n            })}\n        </Table.Body>\n    </Table>\n\n}","import React, { useState } from 'react';\nimport { Button, Confirm, Grid, GridColumn, GridRow, Input, Label, Modal, Table } from 'semantic-ui-react';\nimport { DobasMatrixDisplay } from '../components/DobasMatrixDisplay';\nimport { EPFP } from '../components/EPFP';\nimport { FegyverLista } from '../components/FegyverLista';\nimport { FegyverValaszto } from '../components/FegyverValaszto';\nimport { HMEloszto } from '../components/HMEloszto';\nimport { KepzettsegLista } from '../components/KepzettsegLista';\nimport { DobasMatrix } from '../engine/dobasmatrix';\nimport { FEGYVERTELEN, HARCERTEK_DISPLAY_NAMES } from '../engine/harc';\nimport { calculateHarcertek, Fegyver, Karakter, szintlepes } from '../engine/karakter';\nimport { KEPESSEG_NEV } from '../engine/kasztok';\nimport fileDownload from 'js-file-download';\n\ninterface KarakterlapProps {\n    categories: Array<string>,\n    karakter: Karakter,\n    fegyverek: Array<Fegyver>,\n    save: (karakter: Karakter) => unknown,\n    saveFegyverek: (fegyverek: Array<Fegyver>) => unknown,\n    remove: () => unknown\n}\n\nexport const Karakterlap: React.FC<KarakterlapProps> = ({ karakter, save, remove, categories, fegyverek, saveFegyverek }) => {\n    const [ujfegyver, setUjFegyver] = useState(false)\n    const [kategoriak, setKategoriak] = useState(false);\n    const [ujKategoria, setUjKategoria] = useState('');\n    const [torlesKerdes, setTorlesKerdes] = useState(false);\n\n    const exportKarakter = () => {\n        fileDownload(JSON.stringify(karakter), `${karakter.name}.json`, 'text/json');\n    }\n\n    return <Grid relaxed>\n        <GridRow columns={3}>\n            <GridColumn>\n                <Table striped definition>\n                    <Table.Row><Table.Cell>Nv:</Table.Cell><Table.Cell>{karakter.name}</Table.Cell></Table.Row>\n                    <Table.Row><Table.Cell>Faj:</Table.Cell><Table.Cell>{karakter.faj}</Table.Cell></Table.Row>\n                    <Table.Row><Table.Cell>Kaszt:</Table.Cell><Table.Cell>{karakter.kaszt.name}</Table.Cell></Table.Row>\n                    <Table.Row><Table.Cell>Szint:</Table.Cell>\n                        <Table.Cell>\n                            <Button as='div' labelPosition='left'>\n                                <Label pointing='right'>\n                                    {karakter.szint}\n                                </Label>\n                                <Button secondary onClick={() => { save(szintlepes(karakter)) }}>Szintlps</Button>\n                            </Button>\n                        </Table.Cell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.Cell>Kategrik\n                        <Modal trigger={<Button floated='right' size='tiny' circular color='orange'>+</Button>} onOpen={() => setKategoriak(true)} onClose={() => setKategoriak(false)} open={kategoriak} size='fullscreen' title='j kategria'>\n                                <Modal.Header>j kategria</Modal.Header>\n                                <Modal.Content>\n                                    <Input list='categories' value={ujKategoria} onChange={e => setUjKategoria(e.target.value)} />\n                                    <datalist id='categories'>\n                                        {categories.map(c => <option value={c}>{c}</option>)}\n                                    </datalist>\n                                    <Button onClick={() => { karakter.categories.push(ujKategoria); setKategoriak(false); save(karakter) }}>Hozzad</Button>\n                                </Modal.Content>\n                            </Modal>\n\n                        </Table.Cell>\n                        <Table.Cell>\n                            {karakter.categories.map(c => <Label tag>{c}</Label>)}\n                        </Table.Cell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.Cell colSpan={2}>\n                            <Button onClick={() => setTorlesKerdes(true)} color='red' circular>Karakter trlse</Button>\n                            <Confirm\n                                open={torlesKerdes}\n                                onCancel={() => setTorlesKerdes(false)}\n                                onConfirm={() => { setTorlesKerdes(false); remove() }}\n                                header='Karakter trlse'\n                                content='Tuti?'\n                                cancelButton='Nem'\n                                confirmButton='De' />\n                            <Button onClick={exportKarakter} color='green' circular>Export</Button>\n                        </Table.Cell>\n                    </Table.Row>\n                </Table>\n                {karakter.hm > 0 && <div><HMEloszto harcertek={karakter.hmHarcertek} hm={karakter.hm} complete={(he, hm) => {\n                    karakter.hmHarcertek = he;\n                    karakter.hm = hm;\n                    save(karakter);\n                }} /> </div>}\n                <EPFP {...karakter} onChange={(ep, fp) => { karakter.ep = ep; karakter.fp = fp; save(karakter) }} />\n            </GridColumn>\n            <GridColumn>\n                <div><DobasMatrixDisplay title='Harcrtkek' matrix={calculateHarcertek(karakter, karakter.valasztottFegyver !== undefined ? karakter.fegyverek[karakter.valasztottFegyver] : FEGYVERTELEN).roll(['te', 've', 'ce', 'ke'])} direction='vertical' keyMap={HARCERTEK_DISPLAY_NAMES} /></div>\n                <FegyverLista fegyverek={karakter.fegyverek} selected={karakter.valasztottFegyver} onSelectionChange={f => { karakter.valasztottFegyver = f; save(karakter) }} />\n                <Modal trigger={<Button primary>Fegyverlista mdostsa</Button>} onOpen={() => setUjFegyver(true)} onClose={() => setUjFegyver(false)} open={ujfegyver} size='fullscreen'>\n                    <Modal.Header>Fegyverlista mdostsa</Modal.Header>\n                    <Modal.Content>\n                        <FegyverValaszto saveFegyverek={saveFegyverek} fegyverek={fegyverek} karakter={karakter} save={k => { save(k); }} />\n                    </Modal.Content>\n                </Modal>\n            </GridColumn>\n            <GridColumn>\n                <div><DobasMatrixDisplay title='Kpessgek' matrix={new DobasMatrix(Object.keys(KEPESSEG_NEV)).add('alap', karakter.kepessegek as any).roll()} direction='vertical' keyMap={KEPESSEG_NEV} /></div>\n            </GridColumn>\n        </GridRow>\n        <GridRow>\n            <GridColumn>\n                <div><KepzettsegLista kepzettsegek={karakter.kepzettsegek} /></div>\n            </GridColumn>\n        </GridRow>\n    </Grid>\n}","import { useState } from \"react\";\nimport { FEGYVEREK } from \"../engine/harc\";\nimport { Fegyver, Karakter, KarakterInfo } from \"../engine/karakter\";\nimport { FAJ_KEPESSEG, KepessegDobas } from \"../engine/kasztok\";\n\nconst PREFIX = 'magus.';\nconst CONFIG_PREFIX = 'magus-config.';\n\ninterface DataConnector {\n    categories: () => Array<string>;\n    list: (category?: string) => Array<KarakterInfo>;\n    load: (info: KarakterInfo) => Karakter;\n    save: (karakter: Karakter) => void;\n    remove: (info: KarakterInfo) => void;\n    listFajok: () => Record<string, KepessegDobas>;\n    listFegyverek: () => Array<Fegyver>;\n    saveFegyverek: (fegyverek: Array<Fegyver>) => void;\n    key?: number;\n}\n\nexport function useDataConnector(): DataConnector {\n\n    const [operations, setOperations] = useState(0);\n\n    function fetch<T>(name: string): T {\n        const s = window.localStorage.getItem(name);\n        return s ? JSON.parse(s) : null;\n    };\n\n    function put(name: string, ob: any) {\n        window.localStorage.setItem(name, JSON.stringify(ob));\n        setOperations(operations + 1);\n    }\n\n    const categories = (): Array<string> => {\n        return [...new Set(list().flatMap(info => info.categories))];\n    }\n\n    const list = (category?: string): Array<KarakterInfo> => {\n        const all: Array<KarakterInfo> = [...Array(window.localStorage.length)].map((_, i) => window.localStorage.key(i) ?? '').filter(key => key.startsWith(PREFIX)).map(key => fetch(key));\n        if (!category) {\n            return all;\n        }\n        return all.filter(k => k.categories.some(cat => cat === category));\n    };\n\n    const load = (info: KarakterInfo): Karakter => {\n        return fetch(PREFIX + info.id);\n    };\n\n    const save = (karakter: Karakter): void => {\n        put(PREFIX + karakter.id, karakter);\n    };\n\n    const remove = (info: KarakterInfo) => {\n        window.localStorage.removeItem(PREFIX + info.id);\n    }\n\n    (window as any).exportMagus = () => {\n        const ret: Record<string, any> = {};\n        list('').forEach(key => {\n            ret[key.id] = load(key);\n        })\n        console.log('export', JSON.stringify(ret));\n    }\n\n    (window as any).importMagus = (content: string) => {\n        const all = JSON.parse(content);\n        Object.keys(all).forEach(key => save(all[key]));\n        console.log('import complete');\n    }\n\n\n    return {\n        categories,\n        list,\n        load,\n        save,\n        remove,\n        listFajok: () => FAJ_KEPESSEG,\n        listFegyverek: () => {\n            let ret = fetch<Array<Fegyver>>(CONFIG_PREFIX + 'fegyverek');\n            if (!ret) {\n                put(CONFIG_PREFIX + 'fegyverek', FEGYVEREK);\n                ret = FEGYVEREK;\n            }\n            return ret;\n        },\n        saveFegyverek: fegyverek => put(CONFIG_PREFIX + 'fegyverek', fegyverek),\n        key: operations\n    }\n}","import React from 'react';\r\nimport { Dropdown } from 'semantic-ui-react';\r\n\r\ninterface CategoriesDropdownProps {\r\n    categories: Array<string>;\r\n    currentCategory: string;\r\n    setCurrentCategory: (category: string) => unknown\r\n}\r\n\r\nexport const CategoriesDropdown: React.FC<CategoriesDropdownProps> = ({ currentCategory, setCurrentCategory, categories }) => {\r\n    return <Dropdown item text={`Karakterek: ${currentCategory || 'sszes'}`}>\r\n        <Dropdown.Menu>\r\n            <Dropdown.Item onClick={() => setCurrentCategory('')}>sszes</Dropdown.Item>\r\n            {categories.map(k => <Dropdown.Item onClick={() => setCurrentCategory(k)}>{k}</Dropdown.Item>)}\r\n        </Dropdown.Menu>\r\n    </Dropdown>\r\n}","import React, { Component, ReactNode } from 'react'\r\n\r\nexport interface DragAndDropProps {\r\n    handleDrop: (files: FileList) => unknown;\r\n    dragPlaceholder: ReactNode\r\n}\r\n\r\nclass DragAndDrop extends Component<DragAndDropProps, {}> {\r\n    state = {\r\n        drag: false\r\n    }\r\n    dropRef = React.createRef<HTMLDivElement>();\r\n    dragCounter = 0;\r\n\r\n    handleDrag = (e: Event) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n    }\r\n\r\n    handleDragIn = (e: DragEvent) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        this.dragCounter++\r\n        if (e.dataTransfer?.items && e.dataTransfer.items.length > 0) {\r\n            this.setState({ drag: true })\r\n        }\r\n    }\r\n    handleDragOut = (e: DragEvent) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        this.dragCounter--\r\n        if (this.dragCounter === 0) {\r\n            this.setState({ drag: false })\r\n        }\r\n    }\r\n    handleDrop = (e: DragEvent) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        this.setState({ drag: false })\r\n        if (e.dataTransfer?.files && e.dataTransfer.files.length > 0) {\r\n            this.props.handleDrop(e.dataTransfer.files)\r\n            e.dataTransfer.clearData()\r\n            this.dragCounter = 0\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let div = this.dropRef.current;\r\n        if (div) {\r\n            div.addEventListener('dragenter', this.handleDragIn)\r\n            div.addEventListener('dragleave', this.handleDragOut)\r\n            div.addEventListener('dragover', this.handleDrag)\r\n            div.addEventListener('drop', this.handleDrop)\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        let div = this.dropRef.current;\r\n        if (div) {\r\n            div.removeEventListener('dragenter', this.handleDragIn)\r\n            div.removeEventListener('dragleave', this.handleDragOut)\r\n            div.removeEventListener('dragover', this.handleDrag)\r\n            div.removeEventListener('drop', this.handleDrop)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{ display: 'inline-block', position: 'relative' }}\r\n                ref={this.dropRef}\r\n            >\r\n                {this.state.drag ? this.props.dragPlaceholder : this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default DragAndDrop","import React from 'react';\r\nimport { Button, Icon } from 'semantic-ui-react';\r\nimport { Karakter } from '../engine/karakter';\r\nimport DragAndDrop from './DragAndDrop';\r\n\r\nexport const KarakterImport: React.FC<{ save: (karakter: Karakter) => unknown }> = ({ save }) => {\r\n    return <DragAndDrop\r\n        dragPlaceholder={<Button circular as='div' color='green'><Icon name='upload' />Import</Button>}\r\n        handleDrop={async l => {\r\n            const text = await l.item(0)?.text();\r\n\r\n            if (text) {\r\n                save(JSON.parse(text));\r\n            }\r\n        }}>\r\n        <Button circular basic as='div' color='green'><Icon name='upload' />Import</Button>\r\n    </DragAndDrop>\r\n\r\n}","import React, { useCallback, useReducer, useState } from 'react';\nimport { DiceRollResult, formatDiceRoll, parseDiceRoll, roll } from '../engine/roll';\nimport { DobasEredmeny } from '../components/DobasEredmeny';\nimport { Button, Dropdown, Grid, GridColumn, GridRow, Header, Input, Label } from 'semantic-ui-react';\nimport { IntegerInput } from '../components/IntegerInput';\nconst { Slider } = require('react-semantic-ui-range');\n\nconst DICE_ROLLS = [2, 3, 5, 6, 10, 100];\nconst PLUS = [1, 2, 3, 5, 10];\nconst HISTORY_LENGTH = 10;\n\nconst MERETEK: Record<string, number> = {\n    'ris': -30,\n    'l': -15,\n    'ember': 0,\n    'kutya': 20,\n    'dinnya': 35,\n    'alma': 50,\n    'fmpnz': 65\n}\n\nconst MOZGASOK: Record<string, number> = {\n    'mozdulatlan': 0,\n    'kiszmthatan mozg': 20,\n    'kiszmthatatlanul mozg': 35,\n    'kitrsre sszpontost': 50\n\n}\n\nconst VISZONYOK: Record<string, number> = {\n    'napsts, szlcsend': 0,\n    'szemerkl es, szell': 10,\n    'gyenge es/szl': 30,\n    'gyenge kd, es, ers szl': 50,\n    'sr kd, zivatar, viharos szl': 70,\n    'egszen sr kd, felhszakads, orkn': 100,\n\n}\n\n\ninterface LofegyverVedo {\n    tavolsag: number,\n    meret: string;\n    mozgas: string;\n    viszonyok: string;\n}\n\nexport const Kockadobo: React.FC<{}> = () => {\n    const [input, setInput] = useState('');\n    const [result, setResult] = useState({} as DiceRollResult);\n    const [history, addToHistory] = useReducer((prev: Array<string>, elem: string) => {\n        if (prev[0] === elem) {\n            return prev;\n        }\n        return [elem, ...prev.slice(0, HISTORY_LENGTH - 1)];\n    }, []);\n    const [lofegyverVedo, setLofegyverVedo] = useState<LofegyverVedo>({ tavolsag: 0, meret: 'ember', mozgas: 'mozdulatlan', viszonyok: 'napsts, szlcsend' });\n\n    const dob = useCallback((ijasz?: boolean) => {\n        setResult(roll(input, ijasz));\n        addToHistory(input);\n    }, [input, setResult, addToHistory]);\n\n    const setKocka = useCallback((k: number) => {\n        const diceRoll = parseDiceRoll(input);\n        if (diceRoll.die === k) {\n            diceRoll.numDice++;\n        } else {\n            diceRoll.die = k;\n            diceRoll.numDice = 1;\n        }\n        setInput(formatDiceRoll(diceRoll));\n    }, [input, setInput]);\n\n    const setPlus = useCallback((k: number) => {\n        const diceRoll = parseDiceRoll(input);\n        if (k === 0) {\n            diceRoll.plus = 0;\n        } else {\n            diceRoll.plus += k;\n        }\n        setInput(formatDiceRoll(diceRoll));\n    }, [input, setInput]);\n\n\n    return <Grid columns={1} divided='vertically'>\n        <GridRow>\n            <GridColumn>\n                <Header>Kockadobs</Header>\n                <div>\n                    <Input labelPosition='right' value={input} onChange={e => setInput(e.target.value)}>\n                        <Label basic pointing='right'>Dobs</Label>\n                        <input />\n                        <DobasEredmeny pointing='left' result={result} />\n                        <Button.Group color='teal'>\n                            <Button primary disabled={!input} onClick={() => dob()}>Dob</Button>\n                            <Dropdown\n                                className='button icon'\n                                floating\n                                trigger={<></>}\n                            >\n                                <Dropdown.Menu>\n                                    <Button primary onClick={() => dob(true)}>jsz szabllyal</Button>\n                                </Dropdown.Menu>\n                            </Dropdown>\n                        </Button.Group>\n\n                    </Input>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Kocka</Label>\n                        {DICE_ROLLS.map(r => <Button onClick={() => setKocka(r)}>k{r}</Button>)}\n                    </Button>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Oszt</Label>\n                        {[1, 2, 3].map(r => <Button onClick={() => {\n                            const diceRoll = parseDiceRoll(input);\n                            diceRoll.div = r;\n                            setInput(formatDiceRoll(diceRoll))\n                        }}>/{r}</Button>)}\n                    </Button>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Plusz</Label>\n                        {[...PLUS].reverse().map(r => <Button onClick={() => setPlus(-r)}>-{r}</Button>)}\n                        <Button secondary onClick={() => setPlus(0)}>0</Button>\n                        {PLUS.map(r => <Button onClick={() => setPlus(r)}>+{r}</Button>)}\n                    </Button>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>, jra</Label>\n                        {history.map(h => <Button color='olive' onClick={() => setInput(h)}>{h}</Button>)}\n                    </Button>\n                </div>\n            </GridColumn>\n        </GridRow>\n        <GridRow>\n            <GridColumn>\n                <Header>Clzs vd rtk</Header>\n                <div>\n                    <Slider value={lofegyverVedo.tavolsag} settings={{ min: 0, max: 100, step: 1, onChange: (v: number) => setLofegyverVedo({ ...lofegyverVedo, tavolsag: v }) }} />\n                    <IntegerInput label='Tvolsg' value={lofegyverVedo.tavolsag} onChange={v => setLofegyverVedo({ ...lofegyverVedo, tavolsag: Math.min(v ?? 0, 100) })} />\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Mret</Label>\n                        {Object.keys(MERETEK).map(r => <Button active={lofegyverVedo.meret === r} onClick={() => setLofegyverVedo({ ...lofegyverVedo, meret: r })}>{r}</Button>)}\n                    </Button>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Mozgs</Label>\n                        {Object.keys(MOZGASOK).map(r => <Button active={lofegyverVedo.mozgas === r} onClick={() => setLofegyverVedo({ ...lofegyverVedo, mozgas: r })}>{r}</Button>)}\n                    </Button>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Viszonyok</Label>\n                        {Object.keys(VISZONYOK).map(r => <Button active={lofegyverVedo.viszonyok === r} onClick={() => setLofegyverVedo({ ...lofegyverVedo, viszonyok: r })}>{r}</Button>)}\n                    </Button>\n                </div>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label basic pointing='right'>Vd rtk</Label>\n                        <Label color='black' size='large'>{30 + lofegyverVedo.tavolsag + MERETEK[lofegyverVedo.meret] + MOZGASOK[lofegyverVedo.mozgas] + VISZONYOK[lofegyverVedo.viszonyok]}</Label>\n                    </Button>\n                </div>\n            </GridColumn>\n        </GridRow>\n    </Grid>\n}","import React, { useState } from 'react';\r\nimport { Modal, Button } from 'semantic-ui-react';\r\nimport { Kockadobo } from '../pages/Kocskadobo';\r\n\r\nexport const KockaModal: React.FC<{}> = () => {\r\n    const [kockaOpen, setKockaOpen] = useState(false);\r\n    return <Modal trigger={<Button primary>Kocka</Button>} onOpen={() => setKockaOpen(true)} onClose={() => setKockaOpen(false)} open={kockaOpen}>\r\n        <Modal.Content>\r\n            <Kockadobo />\r\n        </Modal.Content>\r\n    </Modal>\r\n}","export default __webpack_public_path__ + \"static/media/magus.810aa1ee.png\";","import React from 'react';\nimport { Icon, Menu, Image, Button } from 'semantic-ui-react';\nimport { Karakter, KarakterInfo } from '../engine/karakter';\nimport { CategoriesDropdown } from './CategoriesDropdown';\nimport { KarakterImport } from './KarakterImport';\nimport { KockaModal } from './KockaModal';\n\nimport logo from '../static/magus.png';\nimport { PageSelection } from '../App';\n\n\ninterface PageHeaderProps {\n    categories: Array<string>;\n    currentCategory: string;\n    setCurrentCategory: (category: string) => unknown;\n    karakter?: KarakterInfo;\n    karakterek: Array<KarakterInfo>;\n    page: PageSelection;\n    setPage: (pageSelection: PageSelection) => unknown;\n    save: (karakter: Karakter) => unknown;\n}\n\nexport const PageHeader: React.FC<PageHeaderProps> = ({ categories, currentCategory, setCurrentCategory, karakter, karakterek, page, setPage, save }) => {\n    return <Menu tabular>\n        <Menu.Item header>\n            <Image src={logo} size='mini' />\n        </Menu.Item>\n        <CategoriesDropdown categories={categories} currentCategory={currentCategory} setCurrentCategory={setCurrentCategory} />\n        {karakterek.map(k => <Menu.Item active={k.id === karakter?.id} name={k.name} onClick={() => setPage({ page: 'karakterlap', karakter: k })}>\n        </Menu.Item>)}\n        <Menu.Item active={page.page === 'karakteralkoto'} onClick={() => setPage({ page: 'karakteralkoto' })}>\n            <Icon name='plus' />\n        </Menu.Item>\n        <Menu.Item position='right'>\n            <KarakterImport save={save} />\n            <Button negative onClick={() => setPage({ page: 'kombat', category: currentCategory })}>Kombat</Button>\n            <KockaModal />\n        </Menu.Item>\n    </Menu>\n}","import React, { useState } from 'react';\r\nimport { Button, Card, Dropdown, DropdownItemProps, Grid, GridColumn, GridRow, Label, Table } from 'semantic-ui-react';\r\nimport { FEGYVERTELEN, HARCERTEK_DISPLAY_NAMES, SZITUACIOK } from '../engine/harc';\r\nimport { calculateHarcertek, Karakter } from '../engine/karakter';\r\nimport { DiceRollResult, formatDiceRoll, parseDiceRoll, roll, sumRolls } from '../engine/roll';\r\nimport { DobasEredmeny } from './DobasEredmeny';\r\nimport { EPFP } from './EPFP';\r\n\r\nexport const KombatCard: React.FC<{ karakter: Karakter, save: (karakter: Karakter) => unknown }> = ({ karakter, save }) => {\r\n    const [dobasEredmeny, setDobasEredmeny] = useState<DiceRollResult>();\r\n    const [szituaciok, setSzituaciok] = useState<Array<string>>([]);\r\n\r\n    const fegyver = karakter.valasztottFegyver !== undefined ? karakter.fegyverek[karakter.valasztottFegyver] : FEGYVERTELEN;\r\n    const harcertekMatrix = calculateHarcertek(karakter, fegyver, szituaciok.map(sz => ({ ...SZITUACIOK[sz], name: sz }))).roll(['ke', 'te', 'ce', 've']);\r\n    const sebzesRoll = sumRolls(harcertekMatrix.getRolls('sebzes')) ?? parseDiceRoll();\r\n\r\n    const fegyverCsere = (v?: number) => {\r\n        karakter.valasztottFegyver = v === undefined ? undefined : Number(v);\r\n        save(karakter);\r\n    };\r\n\r\n    const szituacioOptions: Array<DropdownItemProps> = Object.keys(SZITUACIOK).map(nev => ({\r\n        id: nev,\r\n        value: nev,\r\n        text: nev\r\n    }));\r\n\r\n    const options: Array<DropdownItemProps> = [\r\n        {\r\n            id: -1,\r\n            value: undefined,\r\n            text: 'fegyver nlkl'\r\n        }\r\n    ];\r\n    karakter.fegyverek.forEach((f, i) => options.push({ id: i, value: i, text: f.name }));\r\n\r\n    const cellContents = (name: string) => {\r\n        switch (name) {\r\n            case 'sebzes': return <Button circular color='orange' onClick={() => {\r\n                setDobasEredmeny(roll(sebzesRoll, fegyver.harcertek.ce > 0));\r\n            }}>{formatDiceRoll(sebzesRoll)}</Button>\r\n            case 'ke': return <Button circular color='olive' onClick={() => setDobasEredmeny(roll('1k10+' + harcertekMatrix.sum[name]))}>{harcertekMatrix.sum[name]}</Button>\r\n            case 'ce':\r\n            case 'te': return <Button circular color='purple' onClick={() => setDobasEredmeny(roll('1k100+' + harcertekMatrix.sum[name]))}>{harcertekMatrix.sum[name]}</Button>\r\n            case 've': return harcertekMatrix.sum[name];\r\n        }\r\n    }\r\n\r\n    return <Card>\r\n        <Card.Content>\r\n            <Card.Header>{karakter.name}</Card.Header>\r\n            <Card.Meta>\r\n                <EPFP ep={karakter.ep} fp={karakter.fp} maxEp={karakter.maxEp} maxFp={karakter.maxFp} onChange={(ep, fp) => {\r\n                    karakter.ep = ep;\r\n                    karakter.fp = fp;\r\n                    save(karakter);\r\n                }} />\r\n            </Card.Meta>\r\n            <Card.Description>\r\n                <Grid columns={2}>\r\n                    <GridColumn>\r\n                        <GridRow>\r\n                            <Table columns={2} singleLine>\r\n                                <Table.Header>\r\n                                    <Table.HeaderCell colspan={2}>\r\n                                        <Dropdown disabled={false} compact\r\n                                            text={fegyver.name}\r\n                                            onChange={(e, v) => fegyverCsere(v.value !== undefined ? Number(v.value) : undefined)}\r\n                                            options={options}\r\n                                            value={karakter.valasztottFegyver}>\r\n                                        </Dropdown>\r\n                                    </Table.HeaderCell>\r\n                                </Table.Header>\r\n                                {harcertekMatrix.keys.map(m => <Table.Row>\r\n                                    <Table.HeaderCell>{(HARCERTEK_DISPLAY_NAMES as any)[m]}</Table.HeaderCell>\r\n                                    <Table.Cell>{cellContents(m)}</Table.Cell>\r\n                                </Table.Row>\r\n                                )}\r\n                                {fegyver.name !== FEGYVERTELEN.name &&\r\n                                    <Table.Row>\r\n                                        <Table.HeaderCell>Tm/kr</Table.HeaderCell>\r\n                                        <Table.Cell>{`${fegyver.lassu ? '1/' : ''}${fegyver.tamPerKor}`}</Table.Cell>\r\n                                    </Table.Row>\r\n                                }\r\n                                <Table.Row>\r\n                                    <Table.HeaderCell>Dobs</Table.HeaderCell>\r\n                                    <Table.Cell><DobasEredmeny result={dobasEredmeny} /></Table.Cell>\r\n                                </Table.Row>\r\n                            </Table>\r\n                        </GridRow>\r\n                    </GridColumn>\r\n                    <GridColumn textAlign='center'>\r\n                        <GridRow>\r\n                            <Label pointing='below' fluid>Szituci</Label>\r\n                            <Dropdown disabled={false} multiple\r\n                                text='norml'\r\n                                onChange={(e, v) => { setSzituaciok([...v.value as Array<string>]) }}\r\n                                options={szituacioOptions}\r\n                                value={szituaciok}>\r\n                            </Dropdown>\r\n                        </GridRow>\r\n                    </GridColumn>\r\n                </Grid>\r\n            </Card.Description>\r\n        </Card.Content>\r\n    </Card >\r\n}","import React from 'react';\r\nimport { CardGroup } from 'semantic-ui-react';\r\nimport { KombatCard } from '../components/KombatCard';\r\nimport { Karakter } from '../engine/karakter';\r\n\r\nexport const Kombat: React.FC<{ karakterek: Array<Karakter>; save: (karakter: Karakter) => unknown }> = ({ karakterek, save }) => {\r\n    return <CardGroup itemsPerRow={5}>\r\n        {karakterek.map(k => <KombatCard karakter={k} save={save} />)}\r\n    </CardGroup>\r\n}\r\n\r\n","import React, { useCallback, useState } from 'react';\nimport { KarakterAlkotas } from './pages/KarakterAlkotas';\nimport { Karakterlap } from './pages/Karakterlap';\nimport { useDataConnector } from './hooks/dataconnector';\nimport { Karakter, KarakterInfo } from './engine/karakter';\nimport 'semantic-ui-css/semantic.min.css'\nimport { PageHeader } from './components/PageHeader';\nimport { Kombat } from './pages/Kombat';\n\n\nexport type PageSelection = { page: 'karakteralkoto' | 'home' } | { page: 'karakterlap', karakter: KarakterInfo } | { page: 'kombat', category: string }\n\n\nfunction App() {\n\n  const [page, setPage] = useState<PageSelection>({ page: 'home' });\n  const { save, list, categories, load, remove, listFajok, listFegyverek, saveFegyverek } = useDataConnector();\n  const [currentCategory, setCurrentCategory] = useState('');\n\n  const saveKarakter = useCallback((karakter: Karakter) => {\n    save(karakter);\n    setPage({ page: 'karakterlap', karakter });\n  }, [save, setPage]);\n\n  const removeKarakter = useCallback((karakter: Karakter) => {\n    if (karakter) {\n      remove(karakter);\n      setPage({ page: 'home' });\n    }\n  }, [setPage, remove]);\n\n  const renderPage = () => {\n    switch (page.page) {\n      case 'home': return <div>vakodj a rotoni lomhatasaktl</div>\n      case 'kombat': return <Kombat karakterek={list(page.category).map(i => load(i))} save={save} />\n      case 'karakteralkoto': return <KarakterAlkotas save={saveKarakter} fajok={listFajok()} />\n      case 'karakterlap': return <Karakterlap saveFegyverek={saveFegyverek} fegyverek={listFegyverek()} categories={categories()} karakter={load(page.karakter)} save={saveKarakter} remove={() => removeKarakter(page.karakter as Karakter)} />\n    }\n  };\n\n\n\n  return (\n    <div className=\"App\">\n      <PageHeader\n        categories={categories()}\n        currentCategory={currentCategory}\n        setCurrentCategory={setCurrentCategory}\n        karakter={page.page === 'karakterlap' ? page.karakter : undefined}\n        page={page}\n        setPage={ps => {\n          setPage(ps);\n          if (ps.page === 'kombat') {\n            setCurrentCategory(ps.category);\n          }\n        }}\n        save={saveKarakter}\n        karakterek={list(currentCategory)}\n      />\n      {renderPage()}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}