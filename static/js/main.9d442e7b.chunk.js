(this.webpackJsonpmagus=this.webpackJsonpmagus||[]).push([[0],{352:function(e,t,n){},373:function(e,t){},375:function(e,t){},480:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),i=n(69),l=n.n(i),s=(n(352),n(10)),o=n(60),d=n(8),j=n(27),u=n(326),b=n(202),v=n(81),h=n(87),k=n(139),m=n(528),f=n(536),O=n(113),x=n(333),g=Object(x.a)(/([0-9]+)?k([0-9]+)(?:\/([0-9]+))?([\+\x2D][0-9]+)?(?:\(([0-9]+)x\))?(?:\+kf())?/,{numDice:1,die:2,div:3,plus:4,tries:5,kf:6}),p=Math.random,z=function(e,t){return Object(j.a)(Array(e.numDice).keys()).map((function(n){return y(e,t)})).reduce((function(e,t){return{value:e.value+t,details:"".concat(e.details?e.details+"+":"").concat(t)}}),{value:0,details:""})},y=function(e,t){var n=0,r=0;do{r=1+Math.floor(p()*e.die),n+=Math.ceil(r/e.div)}while(t&&r===e.die);return n},C=function(e,t){var n=e.numDice*Math.floor(e.die/e.div)+e.plus;if(t.value===n){var r,a=S("k100").value;return r=a<=20?-S("k6").value:a<=50?-1:a<=75?0:a<=95?1:2,{value:t.value+r,details:"".concat(t.details," (kf: ").concat(a," / ").concat(r,")")}}return t},S=function(e,t){return function(e,t){var n=Object(j.a)(Array(e.tries).keys()).map((function(n){return z(e,t)})).reduce((function(e,t){return{value:Math.max(e.value,t.value),details:"".concat(e.details?e.details+" or ":"","(").concat(t.details,")")}}),{value:0,details:""});return n={value:n.value+e.plus,details:"".concat(n.details).concat(e.plus>0?" + "+e.plus:e.plus<0?" - "+Math.abs(e.plus):"")},e.kf?C(e,n):n}("string"===typeof e?w(e):e,!!t)},w=function(){var e,t,n,r,a,c,i,l,s,o,d,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(!Number.isNaN(Number(j)))return{numDice:0,die:0,plus:Number(j),tries:1,div:1,kf:!1};var u=j.replace(/\s/g,"").match(g);return{numDice:Number(null!==(e=null===u||void 0===u||null===(t=u.groups)||void 0===t?void 0:t.numDice)&&void 0!==e?e:1),die:Number(null!==(n=null===u||void 0===u||null===(r=u.groups)||void 0===r?void 0:r.die)&&void 0!==n?n:0),plus:Number(null!==(a=null===u||void 0===u||null===(c=u.groups)||void 0===c?void 0:c.plus)&&void 0!==a?a:0),tries:Number(null!==(i=null===u||void 0===u||null===(l=u.groups)||void 0===l?void 0:l.tries)&&void 0!==i?i:1),div:Number(null!==(s=null===u||void 0===u||null===(o=u.groups)||void 0===o?void 0:o.div)&&void 0!==s?s:1),kf:void 0!==(null===u||void 0===u||null===(d=u.groups)||void 0===d?void 0:d.kf)}},P=function(e){return 0===e.die?e.plus?"".concat(e.plus):"-":"".concat(1===e.numDice?"":e.numDice,"k").concat(e.die).concat(e.div>1?"/"+e.div:"").concat(e.plus?(e.plus>0?"+":"-")+Math.abs(e.plus):"").concat(e.tries>1?"("+e.tries+"x)":"").concat(e.kf?" + kf":"")},K=function e(t){var n=this;Object(O.a)(this,e),this.keys=t,this.values=void 0,this.sum=void 0,this.add=function(e,t){return n.values[e]={},t&&n.keys.forEach((function(r){var a;n.values[e][r]={roll:w(null===(a=t[r])||void 0===a?void 0:a.toString())}})),n},this.roll=function(e){return n.keys.filter((function(t){return!e||-1!==e.indexOf(t)})).forEach((function(e){Object.keys(n.values).forEach((function(t){var r,a=n.values[t][e];a.result=a?S(a.roll):{value:0,details:""},n.sum[e]=null!==(r=Object.values(n.values).map((function(t){var n;return null===(n=t[e].result)||void 0===n?void 0:n.value})).reduce((function(e,t){return(null!==e&&void 0!==e?e:0)+(null!==t&&void 0!==t?t:0)}),0))&&void 0!==r?r:0}))})),n},this.getRolls=function(e){return Object.values(n.values).map((function(t){return t[e].roll})).filter((function(e){return e&&(e.die>0||0!==e.plus)}))},this.clearRolls=function(){return n.keys.forEach((function(e){Object.keys(n.values).forEach((function(t){delete n.values[t][e].result}))})),n},this.values={},this.sum={}},F={ke:"K\xc9",te:"T\xc9",ve:"V\xc9",ce:"C\xc9",sebzes:"Sebz\xe9s"},H={"k\xe9pzetlen":{ke:-10,te:-25,ve:-20,ce:-30},"k\xe9pzetlen, fejvad\xe1sz":{ke:-5,te:-5,ve:-10,ce:-15},Af:{ke:0,te:0,ve:0,ce:0},Mf:{ke:5,te:10,ve:10,ce:10}},E={name:"fegyver n\xe9lk\xfcl",harcertek:{ke:0,te:0,ve:0,ce:0},tamPerKor:0,sebzes:"0"},M=[{name:"T\u0151r",harcertek:{ke:10,te:8,ve:2,ce:0},sebzes:"1k6",tamPerKor:2},{name:"T\u0151r, dob\xf3",harcertek:{ke:10,te:11,ve:2,ce:0},sebzes:"1k6",tamPerKor:2},{name:"T\xfcsk\xe9s buzog\xe1ny",harcertek:{ke:7,te:12,ve:13,ce:0},sebzes:"1k6+2",tamPerKor:1},{name:"Haj\xedt\xf3b\xe1rd",harcertek:{ke:9,te:10,ve:4,ce:0},sebzes:"1k6",tamPerKor:2},{name:"Dob\xf3h\xe1l\xf3",harcertek:{ke:1,te:8,ve:4,ce:0},sebzes:"0",tamPerKor:3,lassu:!0},{name:"Buzog\xe1ny, shadleki",harcertek:{ke:8,te:13,ve:14,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"Csatab\xe1rd, egykezes",harcertek:{ke:5,te:12,ve:11,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Csatab\xe1rd, k\xe9tkezes",harcertek:{ke:0,te:8,ve:6,ce:0},sebzes:"3k6",tamPerKor:2,lassu:!0},{name:"Csatacs\xe1k\xe1ny",harcertek:{ke:5,te:11,ve:8,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Kard, r\xf6vid",harcertek:{ke:9,te:12,ve:14,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"Kard, hossz\xfa",harcertek:{ke:6,te:14,ve:16,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Kard, m\xe1sf\xe9lkezes",harcertek:{ke:4,te:13,ve:12,ce:0},sebzes:"2k6",tamPerKor:1},{name:"Kard, lovagi",harcertek:{ke:2,te:10,ve:7,ce:0},sebzes:"2k6+2",tamPerKor:1},{name:"Kard, pallos",harcertek:{ke:0,te:6,ve:2,ce:0},sebzes:"3k6+2",tamPerKor:2,lassu:!0},{name:"Kard, szablya",harcertek:{ke:7,te:15,ve:17,ce:0},sebzes:"1k6+2",tamPerKor:1},{name:"Kard, dzsenn szablya",harcertek:{ke:9,te:20,ve:17,ce:0},sebzes:"1k6+3",tamPerKor:1},{name:"Kard, jatag\xe1n",harcertek:{ke:7,te:14,ve:14,ce:0},sebzes:"1k6+2",tamPerKor:1},{name:"Kard, handzs\xe1r",harcertek:{ke:6,te:14,ve:15,ce:0},sebzes:"1k6+3",tamPerKor:1},{name:"Kard, fejvad\xe1sz",harcertek:{ke:8,te:16,ve:16,ce:0},sebzes:"1k6+2",tamPerKor:1},{name:"Kard, Slan",harcertek:{ke:8,te:20,ve:12,ce:0},sebzes:"1k10+2",tamPerKor:1},{name:"Kard, k\xedgy\xf3",harcertek:{ke:6,te:14,ve:15,ce:0},sebzes:"1k10",tamPerKor:1},{name:"K\xe9s",harcertek:{ke:10,te:4,ve:0,ce:0},sebzes:"1k5",tamPerKor:1},{name:"Mara-sequor",harcertek:{ke:7,te:16,ve:14,ce:0},sebzes:"2k6+2",tamPerKor:1},{name:"Ramiera",harcertek:{ke:8,te:17,ve:14,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"Sequor",harcertek:{ke:8,te:16,ve:13,ce:0},sebzes:"1k6+2",tamPerKor:2},{name:"Slan csillag",harcertek:{ke:10,te:4,ve:0,ce:0},sebzes:"1k3",tamPerKor:3},{name:"T\u0151r, Slan",harcertek:{ke:9,te:14,ve:6,ce:0},sebzes:"1k6+2",tamPerKor:2},{name:"T\u0151rkard",harcertek:{ke:9,te:12,ve:14,ce:0},sebzes:"1k6+2",tamPerKor:2},{name:"Bot, hossz\xfa",harcertek:{ke:4,te:10,ve:16,ce:0},sebzes:"1k5",tamPerKor:1},{name:"Bot, r\xf6vid",harcertek:{ke:9,te:9,ve:17,ce:0},sebzes:"1k3",tamPerKor:1},{name:"Bot, furk\xf3s",harcertek:{ke:2,te:7,ve:14,ce:0},sebzes:"1k6",tamPerKor:1},{name:"Buzog\xe1ny, egykezes",harcertek:{ke:7,te:11,ve:12,ce:0},sebzes:"1k6",tamPerKor:1},{name:"Buzog\xe1ny, k\xe9tkezes",harcertek:{ke:0,te:7,ve:6,ce:0},sebzes:"3k6",tamPerKor:2,lassu:!0},{name:"Buzog\xe1ny, t\xfcsk\xe9s",harcertek:{ke:7,te:12,ve:13,ce:0},sebzes:"1k6+2",tamPerKor:1},{name:"Buzog\xe1ny, tollas",harcertek:{ke:7,te:12,ve:13,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"Buzog\xe1ny, l\xe1ncos",harcertek:{ke:4,te:13,ve:11,ce:0},sebzes:"1k6+3",tamPerKor:1},{name:"Cs\xe9phadar\xf3",harcertek:{ke:1,te:6,ve:5,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"Harcikalap\xe1cs",harcertek:{ke:5,te:8,ve:10,ce:0},sebzes:"1k6+2",tamPerKor:1},{name:"Alab\xe1rd",harcertek:{ke:1,te:14,ve:15,ce:0},sebzes:"2k6+2",tamPerKor:2,lassu:!0},{name:"D\xe1rda",harcertek:{ke:8,te:13,ve:5,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"Kopja, k\xf6nny\u0171",harcertek:{ke:2,te:11,ve:12,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Kopja, lovas",harcertek:{ke:1,te:15,ve:0,ce:0},sebzes:"1k6",tamPerKor:2,lassu:!0},{name:"Kopja, neh\xe9zlovas",harcertek:{ke:0,te:16,ve:0,ce:0},sebzes:"2k10",tamPerKor:3,lassu:!0},{name:"L\xe1ndzsa",harcertek:{ke:4,te:12,ve:12,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Szigony",harcertek:{ke:4,te:15,ve:10,ce:0},sebzes:"1k10+1",tamPerKor:1},{name:"F\xfav\xf3cs\u0151",harcertek:{ke:8,te:0,ve:0,ce:7},lotav:30,sebzes:"0",tamPerKor:3},{name:"\xcdj, r\xf6vid",harcertek:{ke:5,te:0,ve:0,ce:4},lotav:90,sebzes:"1k6",tamPerKor:2},{name:"\xcdj, hossz\xfa",harcertek:{ke:4,te:0,ve:0,ce:6},lotav:110,sebzes:"1k6+1",tamPerKor:2},{name:"\xcdj, visszacsap\xf3",harcertek:{ke:3,te:0,ve:0,ce:8},lotav:180,sebzes:"1k10",tamPerKor:2},{name:"\xcdj, elf",harcertek:{ke:6,te:0,ve:0,ce:10},lotav:120,sebzes:"2k6",tamPerKor:2},{name:"Ny\xedlpuska, aquir",harcertek:{ke:5,te:0,ve:0,ce:18},lotav:35,sebzes:"1k10/2",tamPerKor:2},{name:"Ny\xedlpuska, k\xe9zi",harcertek:{ke:3,te:0,ve:0,ce:14},lotav:30,sebzes:"1k6/2",tamPerKor:2},{name:"Ny\xedlpuska, kahrei",harcertek:{ke:9,te:0,ve:0,ce:13},lotav:30,sebzes:"1k6/2",tamPerKor:3},{name:"Ny\xedlpuska, k\xf6nny\u0171",harcertek:{ke:2,te:0,ve:0,ce:16},lotav:50,sebzes:"1k6+1",tamPerKor:1},{name:"Ny\xedlpuska, neh\xe9z",harcertek:{ke:0,te:0,ve:0,ce:15},lotav:60,sebzes:"1k6+1",tamPerKor:3,lassu:!0},{name:"Ny\xedlpuska, shadoni p\xe1nc\xe9lt\xf6r\u0151",harcertek:{ke:0,te:0,ve:0,ce:17},lotav:80,sebzes:"2k10",tamPerKor:5,lassu:!0},{name:"Parittya",harcertek:{ke:2,te:0,ve:0,ce:1},lotav:100,sebzes:"1k10/2",tamPerKor:2},{name:"Bola",harcertek:{ke:2,te:10,ve:2,ce:0},sebzes:"1k5",tamPerKor:1},{name:"Dob\xf3h\xe1l\xf3",harcertek:{ke:1,te:8,ve:4,ce:0},sebzes:"0",tamPerKor:3,lassu:!0},{name:"Garott",harcertek:{ke:0,te:5,ve:-20,ce:0},sebzes:"1k10",tamPerKor:1},{name:"H\xe1r\xedt\xf3t\u0151r",harcertek:{ke:8,te:4,ve:19,ce:0},sebzes:"1k6",tamPerKor:2},{name:"Korb\xe1cs",harcertek:{ke:4,te:0,ve:6,ce:0},sebzes:"1k3",tamPerKor:2},{name:"Lassz\xf3",harcertek:{ke:0,te:1,ve:0,ce:0},sebzes:"0",tamPerKor:3,lassu:!0},{name:"Ostor",harcertek:{ke:3,te:6,ve:0,ce:0},sebzes:"1k2",tamPerKor:2},{name:"Vas\xf6k\xf6l",harcertek:{ke:9,te:2,ve:5,ce:0},sebzes:"1k3",tamPerKor:2},{name:"Dzsambia",harcertek:{ke:10,te:8,ve:4,ce:0},sebzes:"1k6",tamPerKor:2},{name:"Mesterkard",harcertek:{ke:7,te:16,ve:14,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Predoci egyeneskard",harcertek:{ke:7,te:16,ve:15,ce:0},sebzes:"1k10",tamPerKor:1},{name:"Tahdzsi",harcertek:{ke:9,te:11,ve:14,ce:0},sebzes:"1k6+1",tamPerKor:1},{name:"B\xe9lt\xe9p\u0151",harcertek:{ke:10,te:8,ve:2,ce:0},sebzes:"1k6+2",tamPerKor:2},{name:"Lagoss",harcertek:{ke:8,te:14,ve:14,ce:0},sebzes:"1k6+4",tamPerKor:2},{name:"Pugoss",harcertek:{ke:12,te:6,ve:4,ce:0},sebzes:"1k6",tamPerKor:2}],T={"h\xe1tulr\xf3l":{ke:5,te:10,ve:0,ce:0},"f\xe9lh\xe1tulr\xf3l":{ke:2,te:5,ve:0,ce:0},"magasabbr\xf3l":{ke:2,te:5,ve:0,ce:5},"alacsonyabbr\xf3l":{ke:-2,te:-10,ve:0,ce:-5},"meglepet\xe9sb\u0151l":{ke:100,te:30,ve:0,ce:10},"mozg\xf3 l\xf3r\xf3l":{ke:5,te:10,ve:20,ce:-20},vakon:{ke:-20,te:-60,ve:-70,ce:-150},"f\xe9lhom\xe1lyban":{ke:-10,te:-30,ve:-35,ce:-70},"helyhez k\xf6tve":{ke:-20,te:-15,ve:-5,ce:0},"k\xe1bultan":{ke:-15,te:-20,ve:-25,ce:-30},"b\xe9nultan":{ke:-30,te:-40,ve:-35,ce:-15},"f\xe9lelemmel":{ke:-10,te:-15,ve:5,ce:-20},"gy\u0171l\xf6lettel":{ke:3,te:10,ve:-20,ce:-20},roham:{ke:0,te:20,ve:-25,ce:-30},"v\xe9dharc h\xe1tr\xe1lva":{ke:0,te:0,ve:40,ce:0},"v\xe9dharc \xe1llva":{ke:0,te:0,ve:25,ce:0},"r\xe9szleges v\xe9dharc":{ke:0,te:0,ve:15,ce:0},"foglyul ejt\xe9s\xe9rt":{ke:-5,te:-5,ve:-15,ce:0}},N=function(e){if(e&&e.name!==E.name)return e.harcertek.ce>0?"lofegyver":"\xf6k\xf6l"===e.name.toLowerCase()?"\xf6k\xf6l":e.pajzs?"pajzs":"kozelharc"},B=function(e,t){return"\xf6k\xf6l"===e.name.toLowerCase()?"\xd6k\xf6lharc":t?"Fegyverdob\xe1s - "+e.name.toLowerCase():"Fegyverhaszn\xe1lat - "+e.name.toLowerCase()},R={ero:"Er\u0151",gy:"Gyorsas\xe1g",ugy:"\xdcgyess\xe9g",ak:"\xc1ll\xf3k\xe9pess\xe9g",egs:"Eg\xe9szs\xe9g",sz:"Sz\xe9ps\xe9g",int:"Intelligencia",ae:"Akarater\u0151",asz:"Asztr\xe1l",erz:"\xc9rz\xe9kel\xe9s"},D={ember:{ero:"0",gy:"0",ugy:"0",ak:"0",egs:"0",sz:"0",int:"0",ae:"0",asz:"0",erz:"0"},elf:{ero:"-2",gy:"1",ugy:"1",ak:"-1",egs:"0",sz:"1",int:"0",ae:"0",asz:"0",erz:"2"},"f\xe9lelf":{ero:"-1",gy:"1",ugy:"0",ak:"0",egs:"0",sz:"0",int:"0",ae:"0",asz:"0",erz:"1"},"t\xf6rp":{ero:"1",gy:"1",ugy:"0",ak:"1",egs:"1",sz:"-2",int:"-1",ae:"0",asz:"-1",erz:"0"},"udvari ork":{ero:"2",gy:"0",ugy:"0",ak:"1",egs:"2",sz:"-3",int:"-1",ae:"0",asz:"-3",erz:"1"},amund:{ero:"1",gy:"0",ugy:"0",ak:"1",egs:"0",sz:"3",int:"0",ae:"0",asz:"-1",erz:"0"},dzsenn:{ero:"0",gy:"0",ugy:"0",ak:"0",egs:"0",sz:"0",int:"2",ae:"0",asz:"0",erz:"0"},"kh\xe1l":{ero:"3",gy:"2",ugy:"1",ak:"2",egs:"3",sz:"0",int:"-1",ae:"0",asz:"-5",erz:"3"},"gn\xf3m":{ero:"-1",gy:"0",ugy:"1",ak:"0",egs:"0",sz:"0",int:"1",ae:"0",asz:"0",erz:"2"},goblin:{ero:"-2",gy:"0",ugy:"0",ak:"1",egs:"1",sz:"-2",int:"-1",ae:"0",asz:"-2",erz:"2"}},L={harcos:["harcos","gladi\xe1tor","fejvad\xe1sz","lovag"],"szerencsevad\xe1sz":["tolvaj","b\xe1rd"],pap:["pap","paplovag"],"harcm\u0171v\xe9sz":["harcm\u0171v\xe9sz","kardm\u0171v\xe9sz"],"var\xe1zsl\xf3":["boszork\xe1nymester","t\u0171zvar\xe1zsl\xf3","var\xe1zsl\xf3"],"egy\xe9b":["egy\xe9b"]},A={"egy\xe9b":{name:"egy\xe9b",kepesseg:{ero:"10",gy:"10",ugy:"10",ak:"10",egs:"10",sz:"10",int:"10",ae:"10",asz:"10",erz:"10"},alapHarcertek:{ke:0,te:0,ve:0,ce:0},hm:{kotelezo:{ke:0,te:0,ve:0,ce:0},szabad:0},epfp:{ep:0,fp:0,fpPerSzint:"k6"}},harcos:{name:"harcos",kepesseg:{ero:"k6 + 12 + kf",gy:"2k6 + 6 + kf",ugy:"2k6 + 6 + kf",ak:"k10 + 8 + kf",egs:"k10+10",sz:"3k6(2x)",int:"3k6(2x)",ae:"2k6+6",asz:"3k6(2x)",erz:"2k6+6"},alapHarcertek:{ke:9,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:3,ve:3,ce:0},szabad:5},epfp:{ep:7,fp:6,fpPerSzint:"k6+4"}},lovag:{name:"lovag",kepesseg:{ero:"k6 + 12 + kf",gy:"3k6(2x)",ugy:"3k6(2x)",ak:"k10 + 8 + kf",egs:"k10+10",sz:"2k6+6+kf",int:"2k6+6",ae:"k10+8",asz:"3k6(2x)",erz:"2k6+6"},alapHarcertek:{ke:5,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:5,ve:5,ce:0},szabad:2},epfp:{ep:7,fp:6,fpPerSzint:"k6+5"}},"gladi\xe1tor":{name:"gladi\xe1tor",kepesseg:{ero:"k6 + 12 + kf",gy:"2k6 + 6 + kf",ugy:"2k6 + 6 + kf",ak:"k6 + 12 + kf",egs:"k10+10",sz:"2k6+6",int:"3k6",ae:"3k6",asz:"3k6",erz:"2k6+6"},alapHarcertek:{ke:9,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:4,ve:4,ce:0},szabad:4},epfp:{ep:8,fp:7,fpPerSzint:"k6+5"}},"fejvad\xe1sz":{name:"fejvad\xe1sz",kepesseg:{ero:"2k6+6",gy:"k6+12+kf",ugy:"k10+8",ak:"k6 + 12 + kf",egs:"k10+10",sz:"3k6",int:"3k6(2x)",ae:"k10+8",asz:"2k6+6",erz:"k6+12"},alapHarcertek:{ke:10,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:4,ve:4,ce:0},szabad:3},epfp:{ep:6,fp:7,fpPerSzint:"k6+5"}},tolvaj:{name:"tolvaj",kepesseg:{ero:"3k6(2x)",gy:"k10 + 8 + kf",ugy:"k6 + 12 + kf",ak:"3k6(2x)",egs:"3k6(2x)",sz:"2k6 + 6",int:"2k6 + 6",ae:"3k6",asz:"3k6(2x)",erz:"k6+12"},alapHarcertek:{ke:8,te:17,ve:72,ce:10},hm:{kotelezo:{ke:1,te:1,ve:1,ce:0},szabad:4},epfp:{ep:4,fp:5,fpPerSzint:"k6+3"}},"b\xe1rd":{name:"b\xe1rd",kepesseg:{ero:"k10+8",gy:"k10+8+kf",ugy:"k10 + 8",ak:"2k6+6",egs:"2k6+6",sz:"k6+12+kf",int:"k10+8(2x)",ae:"2k6+6",asz:"k10+8",erz:"k10+8"},alapHarcertek:{ke:10,te:20,ve:75,ce:10},hm:{kotelezo:{ke:0,te:2,ve:2,ce:0},szabad:5},epfp:{ep:5,fp:6,fpPerSzint:"k6+3"}},pap:{name:"pap",kepesseg:{ero:"2k6+6",gy:"3k6(2x)",ugy:"3k6(2x)",ak:"2k6+6",egs:"k10+8",sz:"k10+10",int:"k10+8",ae:"k10+8+kf",asz:"k6+12",erz:"k10+8"},alapHarcertek:{ke:5,te:17,ve:72,ce:0},hm:{kotelezo:{ke:0,te:3,ve:3,ce:0},szabad:2},epfp:{ep:6,fp:6,fpPerSzint:"k6+2"}},paplovag:{name:"paplovag",kepesseg:{ero:"k10+8+kf",gy:"3k6(2x)",ugy:"3k6(2x)",ak:"k10+8",egs:"k10+10",sz:"k10+8",int:"2k6 + 6",ae:"k10+8",asz:"k10+8+kf",erz:"k10+8"},alapHarcertek:{ke:5,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:3,ve:3,ce:0},szabad:3},epfp:{ep:8,fp:7,fpPerSzint:"k6+5"}},"harcm\u0171v\xe9sz":{name:"harcm\u0171v\xe9sz",kepesseg:{ero:"k10+8",gy:"k6+14",ugy:"k6+12",ak:"k6+12",egs:"k10+10",sz:"3k6(2x)",int:"3k6(2x)",ae:"k6+12",asz:"k10+8",erz:"k6+12"},alapHarcertek:{ke:10,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:3,ve:3,ce:0},szabad:2},epfp:{ep:4,fp:8,fpPerSzint:"k6+5"}},"kardm\u0171v\xe9sz":{name:"kardm\u0171v\xe9sz",kepesseg:{ero:"k10+8",gy:"k6+12+kf",ugy:"k6+14",ak:"k10+8",egs:"k10+8",sz:"3k6(2x)",int:"2k6 + 6",ae:"k6+12",asz:"k10+8",erz:"k6+12"},alapHarcertek:{ke:10,te:20,ve:75,ce:0},hm:{kotelezo:{ke:0,te:3,ve:3,ce:0},szabad:2},epfp:{ep:4,fp:8,fpPerSzint:"k6+5"}},"boszork\xe1nymester":{name:"boszork\xe1nymester",kepesseg:{ero:"3k6(2x)",gy:"k10+8",ugy:"k6+12+kf",ak:"3k6(2x)",egs:"2k6+6",sz:"3k6",int:"2k6 + 6",ae:"2k6+6",asz:"2k6+6",erz:"2k6+6"},alapHarcertek:{ke:7,te:17,ve:72,ce:5},hm:{kotelezo:{ke:0,te:1,ve:1,ce:0},szabad:5},epfp:{ep:3,fp:4,fpPerSzint:"k6+1"}},"t\u0171zvar\xe1zsl\xf3":{name:"t\u0171zvar\xe1zsl\xf3",kepesseg:{ero:"2k6+6",gy:"3k6(2x)",ugy:"3k6(2x)",ak:"2k6+6",egs:"2k6+6",sz:"3k6",int:"2k6 + 6",ae:"2k6+6",asz:"2k6+6",erz:"2k6+6"},alapHarcertek:{ke:6,te:17,ve:72,ce:0},hm:{kotelezo:{ke:0,te:3,ve:3,ce:0},szabad:2},epfp:{ep:5,fp:4,fpPerSzint:"k6+1"}},"var\xe1zsl\xf3":{name:"var\xe1zsl\xf3",kepesseg:{ero:"3k6",gy:"3k6(2x)",ugy:"3k6(2x)",ak:"3k6",egs:"3k6(2x)",sz:"3k6",int:"k6+12+kf",ae:"k6+12+kf",asz:"k6+12+kf",erz:"2k6+6"},alapHarcertek:{ke:2,te:15,ve:70,ce:0},hm:{kotelezo:{ke:0,te:1,ve:1,ce:0},szabad:2},epfp:{ep:3,fp:2,fpPerSzint:"k6"}}};var I=function(e,t){var n=e.kepzettsegek;return null===n||void 0===n?void 0:n.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.max(0,(void 0===e||Number.isNaN(e)?0:e)-t)},V=function(e){e.szint++;var t,n,r=e.kaszt.hm;return e.hm+=r.szabad,e.hmHarcertek=(t=e.hmHarcertek,n=r.kotelezo,Object(j.a)(new Set([].concat(Object(j.a)(Object.keys(t)),Object(j.a)(Object.keys(n))))).reduce((function(e,r){return e[r]=t[r]+n[r],e}),{})),e.fp.max+=S(e.kaszt.epfp.fpPerSzint).value,e.fp.akt=e.fp.max,e},_=function(e){return e.ep.max>0&&e.ep.akt<=.25*e.ep.max?{ke:-15,te:-20,ve:-25,ce:-30}:e.ep.max>0&&e.ep.akt<=.5*e.ep.max||e.fp.akt>0&&e.fp.akt<.1*e.fp.max?{ke:-5,te:-10,ve:-10,ce:-5}:null},q=function(e){var t,n,r=void 0!==e.valasztottPancel?null===(t=e.pancelok)||void 0===t?void 0:t[e.valasztottPancel]:void 0;if(!r)return[0];switch(null===(n=I(e,"Neh\xe9zv\xe9rtviselet"))||void 0===n?void 0:n.szint){case"Mf":return[0];case"Af":return[r.nehez?r.mgt:0];default:return[r.mgt,r.nehez]}},J=function(e,t,n){var r,a=function(e,t){var n,r=t?e.masodlagosFegyver:e.valasztottFegyver;return void 0===r?E:null!==(n=e.fegyverek[r])&&void 0!==n?n:E}(e,n),c=N(a),i=new K(c?"lofegyver"===c?["ke","ce","ve","sebzes"]:["ke","te","ve","sebzes"]:["ke","te","ve","ce","sebzes"]);i.add("alap",e.alapHarcertek),"fejvad\xe1sz"===(null===(r=e.kaszt)||void 0===r?void 0:r.name)&&e.szint&&i.add("spec",{ke:Math.floor(e.szint/2),sebzes:Math.floor(e.szint/2)}),i.add("hm",e.hmHarcertek),c&&i.add(a.name,Object(d.a)(Object(d.a)({},a.harcertek),{},{sebzes:a.sebzes})),i.add("kepessegek",function(e,t){var n,r=q(e),a=$(e.kepessegek.ugy-r[0]),c=$(e.kepessegek.gy-r[0]),i=null!==(n=t.erobonusz)&&void 0!==n?n:16;return{ke:c+a,te:c+a+$(e.kepessegek.ero),ve:c+a,ce:a,sebzes:0!==i?$(e.kepessegek.ero,i):0}}(e,a)),function(e,t,n){var r,a,c=N(n),i="fejvad\xe1sz"===(null===(r=t.kaszt)||void 0===r?void 0:r.name),l=null===(a=t.kepzettsegek)||void 0===a?void 0:a.find((function(e){return e.name===B(n)})),s=I(t,"Pajzshaszn\xe1lat");q(t)[1]?e.add("Neh\xe9zv\xe9rt",Object(d.a)({},H["k\xe9pzetlen"])):l?"\xf6k\xf6l"!==c&&e.add("K\xe9pzetts\xe9g "+l.szint,Object(d.a)({},H[l.szint])):!c||"pajzs"===c&&(null===s||void 0===s?void 0:s.szint)||(i?e.add("k\xe9pzetlen",Object(d.a)({},H["k\xe9pzetlen, fejvad\xe1sz"])):e.add("k\xe9pzetlen",Object(d.a)({},H["k\xe9pzetlen"])))}(i,e,a),function(e,t,n){if(void 0!==t.valasztottFegyver&&void 0!==t.masodlagosFegyver){var r=I(t,"Pajzshaszn\xe1lat"),a=I(t,"K\xe9tkezes harc"),c=t.fegyverek[t.masodlagosFegyver];if((null===c||void 0===c?void 0:c.pajzs)&&r)n||e.add("Pajzs",{ve:c.harcertek.ve});else switch(null===a||void 0===a?void 0:a.szint){case"Mf":return;case"Af":return void(n&&e.add("k\xe9tkezes harc",{ke:-2,te:-5,ve:-5}));default:n?e.add("k\xe9tkezes harc",Object(d.a)({},H["k\xe9pzetlen"])):e.add("k\xe9tkezes harc",{ke:-5,te:-10,ve:-10})}}}(i,e,n);var l=_(e);return l&&i.add("Sebes\xfcl\xe9s",Object(d.a)({},l)),null===t||void 0===t||t.forEach((function(e){return i.add(e.name,Object(d.a)({},e))})),i},G=n(527),W=function(e){var t=e.result,n=e.pointing;return Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(k.a,{size:"large",pointing:n,color:"black",children:null===t||void 0===t?void 0:t.value}),t&&Object(r.jsx)(k.a,{basic:!0,children:Object(r.jsx)("i",{children:null===t||void 0===t?void 0:t.details})})]})},U=n(194),X=function(e){var t=e.value,n=e.onChange,a=function(e){t.die===e?t.numDice++:(t.die=e,t.numDice=1),n(t)},c=function(e){t.plus+=e,n(t)};return Object(r.jsxs)(U.a,{fluid:!0,size:"tiny",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,children:P(t)}),Object(r.jsx)(h.a,{color:"olive",onClick:function(){return a(0)},children:"-"}),Object(r.jsx)(h.a,{color:"olive",onClick:function(){return a(6)},children:"k6"}),Object(r.jsx)(h.a,{color:"olive",onClick:function(){return a(10)},children:"k10"}),Object(r.jsx)(h.a,{onClick:function(){return c(-1)},children:"-1"}),Object(r.jsx)(h.a,{onClick:function(){return c(1)},children:"+1"}),Object(r.jsx)(h.a,{color:"orange",onClick:function(){return t.kf=!t.kf,void n(t)},children:"+kf"}),Object(r.jsx)(h.a,{color:"blue",onClick:function(){return t.tries=t.tries>1?1:2,void n(t)},children:"2x"})]})},Y=n(47),Q=function(e){var t=e.value,n=e.onChange,a=e.min,c=e.max,i=e.icons;return Object(r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[i&&Object(r.jsx)("button",{onClick:function(){n(Math.max(a,t-1))},children:Object(r.jsx)(Y.a,{compact:!0,name:"arrow down",style:{margin:"0"}})}),Object(r.jsx)("input",{style:{width:"3rem"},value:t,onChange:function(e){var r=e.target.value;if(/^-?\d+$/.test(r)||""===r){var i=""!==r?parseInt(r):0;void 0!==a&&i<a&&(i=a),void 0!==c&&i>c&&(i=c),n(i)}else n(t)}}),i&&Object(r.jsx)("button",{onClick:function(){n(Math.min(c,t+1))},children:Object(r.jsx)(Y.a,{compact:!0,name:"arrow up",style:{margin:"0"}})})]})},Z=function(e){var t=e.matrix,n=e.keyMap,a=e.direction,c=e.title,i=e.editable,l=e.setValue,s=e.numberOnly,o=e.color,d=function(e,n){var a,c,o,d,j=t.values[e][n],u=0===(null!==(a=null===j||void 0===j||null===(c=j.roll)||void 0===c?void 0:c.die)&&void 0!==a?a:0),b=(null===j||void 0===j?void 0:j.roll)?P(j.roll):"";return(null===i||void 0===i?void 0:i.includes(e))?Object(r.jsx)(G.a.Cell,{collapsing:!0,children:s?Object(r.jsx)(Q,{value:null!==(o=null===j||void 0===j?void 0:j.roll.plus)&&void 0!==o?o:0,onChange:function(t){return null===l||void 0===l?void 0:l(e,n,String(t))},min:0,max:1e5}):Object(r.jsx)(X,{value:null!==(d=null===j||void 0===j?void 0:j.roll)&&void 0!==d?d:w(""),onChange:function(t){return null===l||void 0===l?void 0:l(e,n,P(t))}})},e+"-"+n):Object(r.jsxs)(G.a.Cell,{collapsing:!0,children:[b,!u&&(null===j||void 0===j?void 0:j.result)&&Object(r.jsxs)(r.Fragment,{children:[" = ",Object(r.jsx)(W,{result:null===j||void 0===j?void 0:j.result})]})]},e+"-"+n)};return"horizontal"===a?Object(r.jsxs)(G.a,{celled:!0,striped:!0,compact:!0,color:o,children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{disabled:!1,children:c},"title"),t.keys.map((function(e){return Object(r.jsx)(G.a.HeaderCell,{children:n[e]},e)}))]})}),Object(r.jsxs)(G.a.Body,{children:[Object.keys(t.values).map((function(e){return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:e},e),t.keys.map((function(t){return d(e,t)}))]},e)})),Object(r.jsx)("tr",{},"footer")]}),Object(r.jsxs)(G.a.Footer,{children:[Object(r.jsx)(G.a.HeaderCell,{title:"sum",children:"\xd6sszeg"}),t.keys.map((function(e){return Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:t.sum[e]},e)}))]})]}):Object(r.jsxs)(G.a,{celled:!0,striped:!0,definition:!0,compact:!0,color:o,children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:c},"title"),Object.keys(t.values).map((function(e){return Object(r.jsx)(G.a.HeaderCell,{children:e},e)})),Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:"\xd6sszeg"},"sum")]})}),Object(r.jsx)(G.a.Body,{children:t.keys.map((function(e){return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:n[e]},"title"),Object.keys(t.values).map((function(t){return d(t,e)})),Object(r.jsx)(G.a.HeaderCell,{children:t.sum[e]},"sum")]},e)}))})]})},ee=function(e){var t=e.points,n=e.onChange,a=e.title,c=e.color;return Object(r.jsxs)(G.a,{striped:!0,celled:!0,definition:!0,fluid:!0,compact:!0,color:c,children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:null!==a&&void 0!==a?a:"Pontok"}),t.map((function(e){return Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:e.label})}))]})}),Object(r.jsxs)(G.a.Body,{children:[Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Max"}),t.map((function(e){return Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:e.max,min:0,max:1e3,onChange:function(t){return n(e.name,!0,t)}})})}))]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Akt"}),t.map((function(e){return Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:e.akt,min:0,max:e.max,onChange:function(t){return n(e.name,!1,Math.min(e.max,t))}})})}))]})]})]})},te=function(e){var t=e.label,n=e.selected,a=e.setSelected,c=e.options,i=e.structure;return i?Object(r.jsxs)(h.a,{labelPosition:"left",as:"div",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:t}),Object.keys(i).map((function(e){return Object(r.jsxs)(h.a.Group,{as:"div",vertical:!0,children:[Object(r.jsx)(k.a,{tag:!0,color:"yellow",children:e}),c.filter((function(t){return i[e].includes(t)})).map((function(e,t){return Object(r.jsx)(h.a,{compact:!0,active:n===e,onClick:function(){return a(e)},children:e})}))]})}))]}):Object(r.jsxs)(h.a,{labelPosition:"left",as:"div",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:t}),c.map((function(e){return Object(r.jsx)(h.a,{active:n===e,onClick:function(){return a(e)},children:e})}))]})},ne=function(e){var t,n,a,c=e.fajNevek,i=e.backgroundSelection,l=e.setBackgroundSelection;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{fluid:!0,labelPosition:"left",placeholder:"Karakter neve...",error:!i.name,value:i.name,onChange:function(e){return l(Object(d.a)(Object(d.a)({},i),{},{name:e.target.value}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"N\xe9v"}),Object(r.jsx)("input",{})]})}),Object(r.jsx)("div",{children:Object(r.jsx)(te,{label:"Kaszt",selected:null===(t=i.kaszt)||void 0===t?void 0:t.name,setSelected:function(e){var t=!!e&&A[e]||A["egy\xe9b"];l(Object(d.a)(Object(d.a)({},i),{},{kaszt:JSON.parse(JSON.stringify(t))}))},options:Object.keys(A),structure:L})}),Object(r.jsx)("div",{children:Object(r.jsx)(te,{label:"Faj",selected:i.faj,setSelected:function(e){return l(Object(d.a)(Object(d.a)({},i),{},{faj:e}))},options:c})}),Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{labelPosition:"left",value:i.szint,onChange:function(e){var t=e.target.value?Math.max(0,Math.floor(Number(e.target.value))):void 0;l(Object(d.a)(Object(d.a)({},i),{},{szint:t}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Szint"}),Object(r.jsx)("input",{})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{labelPosition:"left",error:!(null===(n=i.kaszt)||void 0===n?void 0:n.name),value:null===(a=i.kaszt)||void 0===a?void 0:a.name,onChange:function(e){i.kaszt&&l(Object(d.a)(Object(d.a)({},i),{},{kaszt:Object(d.a)(Object(d.a)({},i.kaszt),{},{name:e.target.value})}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Kaszt neve"}),Object(r.jsx)("input",{})]})})]})},re=n(358).default,ae=function(e,t,n){var r=t.kaszt,a=t.faj,c=new K(Object.keys(R));return r&&c.add("Kaszt: "+r.name,r.kepesseg),a&&e[a]&&c.add("Faj: "+a,e[a]),n&&c.roll(),c},ce=function(e){var t,n=e.save,c=e.fajok,i=Object(a.useState)({szint:1,name:""}),l=Object(s.a)(i,2),O=l[0],x=l[1],g=Object(a.useState)(new K(Object.keys(R))),p=Object(s.a)(g,2),z=p[0],y=p[1];Object(a.useEffect)((function(){y(ae(c,{kaszt:O.kaszt,faj:O.faj}))}),[c,O.faj,O.kaszt,y]);var C=O.kaszt,S=C?{kepessegek:z.sum,alapHarcertek:C.alapHarcertek,hmHarcertek:C.hm.kotelezo,ep:{max:C.epfp.ep+$(z.sum.egs),akt:C.epfp.ep+$(z.sum.egs)},fp:{max:C.epfp.fp+$(z.sum.ae)+$(z.sum.ak),akt:C.epfp.fp+$(z.sum.ae)+$(z.sum.ak)}}:void 0;return Object(r.jsxs)(u.a,{relaxed:!0,children:[Object(r.jsxs)(b.a,{columns:2,divided:!0,children:[Object(r.jsxs)(v.a,{children:[Object(r.jsx)(b.a,{children:Object(r.jsx)(ne,{backgroundSelection:O,setBackgroundSelection:x,fajNevek:Object.keys(c)})}),S&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)(h.a,{as:"div",basic:!0,floated:"left",children:[Object(r.jsx)(k.a,{basic:!0,children:"Eloszthat\xf3 HM:"}),Object(r.jsx)(re,{size:"mini",allowEmptyValue:!0,value:null===(t=O.kaszt)||void 0===t?void 0:t.hm.szabad,stepAmount:1,minValue:0,maxValue:1e3,onChange:function(e){O.kaszt&&(O.kaszt.hm.szabad=Number(e),x(Object(d.a)({},O)))}})]}),Object(r.jsxs)(h.a,{as:"div",basic:!0,floated:"right",children:[Object(r.jsx)(k.a,{basic:!0,children:"Szintenk\xe9nti FP:"}),Object(r.jsx)(m.a,{disabled:!C,value:null===C||void 0===C?void 0:C.epfp.fpPerSzint,onChange:function(e){C&&(C.epfp.fpPerSzint=e.target.value,x(Object(d.a)(Object(d.a)({},O),{},{kaszt:C})))}})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)(Z,{title:"Harc\xe9rt\xe9kek",editable:C?["alap","hm"]:[],numberOnly:!0,setValue:function(e,t,n){var r=Number(n);C&&!isNaN(r)&&("alap"===e?C.alapHarcertek[t]=n:"hm"===e&&(C.hm.kotelezo[t]=n),x(Object(d.a)(Object(d.a)({},O),{},{kaszt:C})))},matrix:J(S).roll(["te","ve","ce","ke"]),direction:"vertical",keyMap:F})}),Object(r.jsx)("div",{children:Object(r.jsx)(ee,{title:"\xc9leter\u0151 0. szinten",points:[Object(d.a)({name:"ep",label:"\xc9P"},S.ep),Object(d.a)({name:"fp",label:"FP"},S.fp)],onChange:function(e,t,n){C&&t&&("ep"===e&&(C.epfp.ep=n-$(z.sum.egs)),"fp"===e&&(C.epfp.fp=n-$(z.sum.ae)-$(z.sum.ak)),x(Object(d.a)(Object(d.a)({},O),{},{kaszt:C})))}})})]})]}),Object(r.jsx)(v.a,{children:Object(r.jsx)(Z,{title:"K\xe9pess\xe9gek",matrix:z,keyMap:R,direction:"vertical",editable:(null===C||void 0===C?void 0:C.name)?["Kaszt: "+C.name]:[],setValue:function(e,t,n){return C&&x(Object(d.a)(Object(d.a)({},O),{},{kaszt:Object(d.a)(Object(d.a)({},C),{},{kepesseg:Object(d.a)(Object(d.a)({},C.kepesseg),{},Object(o.a)({},t,n))})}))}})})]}),Object(r.jsx)(b.a,{columns:1,textAlign:"center",children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)(h.a,{disabled:!C,secondary:!0,onClick:function(){y(ae(c,O,!0))},children:"Dob"}),Object(r.jsx)(h.a,{disabled:!O.name||void 0===O.szint||!z.sum,primary:!0,onClick:function(){var e=function(e,t){var n=e.kaszt,r=e.faj,a=e.szint,c=e.name;if(!n||!t.sum||!r)return null;var i=n.epfp,l=i.ep+$(t.sum.egs),s=i.fp+$(t.sum.ae)+$(t.sum.ak),o={version:2,id:Object(f.a)(),name:c,faj:r,categories:[],kepessegek:t.sum,kaszt:n,szint:0,hm:0,ep:{max:l,akt:l},fp:{max:s,akt:s},hmHarcertek:{ke:0,te:0,ve:0,ce:0},kepzettsegek:[],alapHarcertek:n.alapHarcertek,fegyverek:[]};return Object(j.a)(Array(a).keys()).forEach((function(){return V(o)})),o}(O,z);e&&n(e)},children:"Ment"})]})})]})},ie=n(240),le=function(e){var t=e.fegyverek,n=e.selected,a=e.onSelectionChange,c=e.title,i=e.extraButton,l=e.color,s=t.map((function(e){var t,n={};return n.name=e.name,n.ke=e.harcertek.ke,n.te=e.harcertek.te||"-",n.ve=e.harcertek.ve,n.ce=e.harcertek.ce||"-",n.sebzes=e.sebzes,n.tamPerKor=e.lassu?"1/"+e.tamPerKor:e.tamPerKor,n.lotav=null!==(t=e.lotav)&&void 0!==t?t:"-",n}));return Object(r.jsxs)(G.a,{compact:!0,celled:!0,striped:!0,definition:!0,selectable:void 0!==a,color:l,children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:null!==c&&void 0!==c?c:"Fegyver"}),Object(r.jsx)(G.a.HeaderCell,{children:"K\xc9"}),Object(r.jsx)(G.a.HeaderCell,{children:"T\xc9"}),Object(r.jsx)(G.a.HeaderCell,{children:"V\xc9"}),Object(r.jsx)(G.a.HeaderCell,{children:"C\xc9"}),Object(r.jsx)(G.a.HeaderCell,{children:"Sebz\xe9s"}),Object(r.jsx)(G.a.HeaderCell,{children:"T\xe1m / k\xf6r"}),Object(r.jsx)(G.a.HeaderCell,{children:"L\u0151t\xe1v"})]})}),Object(r.jsxs)(G.a.Body,{children:[s.map((function(e,t){return Object(r.jsxs)(G.a.Row,{active:n===t,onClick:function(){return null===a||void 0===a?void 0:a(n===t?void 0:t)},children:[Object(r.jsx)(G.a.Cell,{children:e.name}),Object(r.jsx)(G.a.Cell,{children:e.ke}),Object(r.jsx)(G.a.Cell,{children:e.te}),Object(r.jsx)(G.a.Cell,{children:e.ve}),Object(r.jsx)(G.a.Cell,{children:e.ce}),Object(r.jsx)(G.a.Cell,{children:e.sebzes}),Object(r.jsx)(G.a.Cell,{children:e.tamPerKor}),Object(r.jsx)(G.a.Cell,{children:e.lotav})]},t)})),i&&Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{colspan:8,children:i})},"__extra")]})]})},se=n(530),oe=n(537),de=function(e){var t=e.value,n=e.onChange,a=e.label,c=e.labelPosition,i=void 0===c?"left":c,l=e.mandatory,s=e.disabled;return Object(r.jsxs)(m.a,{disabled:s,labelPosition:i,error:l&&void 0===t,value:null!==t&&void 0!==t?t:"",onChange:function(e){var t=e.target.value?Math.max(0,Math.floor(Number(e.target.value))):void 0;void 0!==t&&Number.isNaN(t)||n(t)},children:[a&&"left"===i&&Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:a}),Object(r.jsx)("input",{style:{width:"5rem"}}),a&&"right"===i&&Object(r.jsx)(k.a,{pointing:"left",basic:!0,children:a})]})},je=function(e){var t,n,r,a,c,i;return{name:null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"",ke:null===e||void 0===e?void 0:e.harcertek.ke,te:null===e||void 0===e?void 0:e.harcertek.te,ve:null===e||void 0===e?void 0:e.harcertek.ve,ce:null===e||void 0===e?void 0:e.harcertek.ce,lofegyver:(null!==(n=null===e||void 0===e?void 0:e.harcertek.ce)&&void 0!==n?n:0)>0,lotav:null===e||void 0===e?void 0:e.lotav,sebzes:null!==(r=null===e||void 0===e?void 0:e.sebzes)&&void 0!==r?r:"",tamPerKor:null===e||void 0===e?void 0:e.tamPerKor,erobonusz:null===e||void 0===e?void 0:e.erobonusz,lassu:null!==(a=null===e||void 0===e?void 0:e.lassu)&&void 0!==a&&a,pajzs:null!==(c=null===e||void 0===e?void 0:e.pajzs)&&void 0!==c&&c,mgt:null!==(i=null===e||void 0===e?void 0:e.mgt)&&void 0!==i?i:0}},ue=function(e){var t,n,r,a,c;return{name:e.name,harcertek:{ke:null!==(t=e.ke)&&void 0!==t?t:0,te:null!==(n=e.te)&&void 0!==n?n:0,ve:null!==(r=e.ve)&&void 0!==r?r:0,ce:null!==(a=e.ce)&&void 0!==a?a:0},lotav:e.lotav,sebzes:e.sebzes,tamPerKor:null!==(c=e.tamPerKor)&&void 0!==c?c:1,erobonusz:e.erobonusz,lassu:e.lassu,pajzs:e.pajzs,mgt:e.mgt}},be=function(e){var t=e.fegyver,n=e.submit,c=e.cancel,i=e.kepzettseg,l=Object(a.useState)(je(t)),o=Object(s.a)(l,2),j=o[0],f=o[1];return Object(a.useEffect)((function(){f(je(t))}),[t]),Object(r.jsxs)(u.a,{columns:1,relaxed:!0,children:[Object(r.jsx)(b.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{fluid:!0,labelPosition:"left",placeholder:"Fegyver neve...",error:!j.name,value:j.name,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{name:e.target.value}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"N\xe9v"}),Object(r.jsx)("input",{})]})}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.ke,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{ke:e}))},label:"K\xc9"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"L\u0151fegyver:"}),Object(r.jsx)(oe.a,{fitted:!0,toggle:!0,checked:j.lofegyver,onChange:function(){return f(Object(d.a)(Object(d.a)({},j),{},{lofegyver:!j.lofegyver}))}})]}),!j.lofegyver&&Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.te,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{te:e}))},label:"T\xc9"})}),j.lofegyver&&Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.ce,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{ce:e}))},label:"C\xc9"})}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.ve,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{ve:e}))},label:"V\xc9"})}),Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{fluid:!0,labelPosition:"left",placeholder:"Fegyver sebz\xe9se...",error:!j.sebzes,value:j.sebzes,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{sebzes:e.target.value}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Sebz\xe9s"}),Object(r.jsx)("input",{})]})}),j.lofegyver&&Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.lotav,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{lotav:e}))},label:"L\u0151t\xe1v"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Lass\xfa:"}),Object(r.jsx)(oe.a,{fitted:!0,toggle:!0,checked:j.lassu,onChange:function(){return f(Object(d.a)(Object(d.a)({},j),{},{lassu:!j.lassu}))}})]}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.tamPerKor,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{tamPerKor:e}))},label:"T\xe1mad\xe1s k\xf6r\xf6nk\xe9nt: ".concat(j.lassu?"1 / ":"")})}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:j.erobonusz,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{erobonusz:e}))},label:"Minimum er\u0151 b\xf3nuszhoz:"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Pajzs:"}),Object(r.jsx)(oe.a,{fitted:!0,toggle:!0,checked:j.pajzs,onChange:function(){return f(Object(d.a)(Object(d.a)({},j),{},{pajzs:!j.pajzs}))}})]}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{disabled:!j.pajzs,value:j.mgt,onChange:function(e){return f(Object(d.a)(Object(d.a)({},j),{},{mgt:e}))},label:"MGT"})})]})}),Object(r.jsx)(b.a,{textAlign:"center",children:Object(r.jsxs)(v.a,{children:[!i&&Object(r.jsx)(h.a,{onClick:function(){return n(ue(j))},children:"Ment"}),i&&Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{pointing:"right",children:"Haszn\xe1lat szintje"}),Object(r.jsx)(h.a,{onClick:function(){return n(ue(j),"k\xe9pzetlen")},children:"K\xe9pzetlen"}),Object(r.jsx)(h.a,{secondary:!0,onClick:function(){return n(ue(j),"Af")},children:"Af"}),Object(r.jsx)(h.a,{primary:!0,onClick:function(){return n(ue(j),"Mf")},children:"Mf"})]}),Object(r.jsx)(h.a,{secondary:!0,basic:!0,onClick:c,children:"M\xe9gse"})]})})]})},ve=function(e){var t=e.karakter,n=e.save,c=e.fegyverek,i=e.saveFegyverek,l=Object(a.useState)(),o=Object(s.a)(l,2),d=o[0],j=o[1],m=Object(a.useState)(),f=Object(s.a)(m,2),O=f[0],x=f[1],g=Object(a.useState)(!1),p=Object(s.a)(g,2),z=p[0],y=p[1],C=Object(a.useState)(!1),S=Object(s.a)(C,2),w=S[0],P=S[1],K=Object(a.useCallback)((function(e){var r=void 0!==d?c[d]:void 0;r&&(he(t,r,e),n(t))}),[t,n,d,c]),F=Object(a.useCallback)((function(){void 0!==O&&(t.fegyverek=t.fegyverek.filter((function(e,t){return t!==O})),t.valasztottFegyver=0,n(t))}),[t,n,O]);return Object(r.jsxs)(u.a,{columns:3,relaxed:!0,children:[Object(r.jsxs)(b.a,{columns:"equal",children:[Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(se.a,{size:"large",children:["V\xe1laszthat\xf3",Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(h.a,{floated:"right",primary:!0,children:void 0!==d?"M\xf3dos\xedt":"\xdaj"}),onOpen:function(){return P(!0)},onClose:function(){return P(!1)},open:w,children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(be,{fegyver:void 0!==d?c[d]:void 0,submit:function(e){void 0===d?c.push(e):c[d]=e,i(c),P(!1)},cancel:function(){return P(!1)}})})}),Object(r.jsx)(h.a,{floated:"right",negative:!0,disabled:void 0===d,onClick:function(){i(c.filter((function(e,t){return t!==d})))},children:"T\xf6r\xf6l"}),Object(r.jsxs)(h.a,{floated:"right",as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{pointing:"right",children:"K\xe9pzetts\xe9g"}),Object(r.jsx)(h.a,{disabled:void 0===d,onClick:function(){return K("k\xe9pzetlen")},children:"K\xe9pzetlen"}),Object(r.jsx)(h.a,{secondary:!0,disabled:void 0===d,onClick:function(){return K("Af")},children:"Af"}),Object(r.jsx)(h.a,{primary:!0,disabled:void 0===d,onClick:function(){return K("Mf")},children:"Mf"})]})]}),Object(r.jsx)(le,{fegyverek:c.sort((function(e,t){return e.name.localeCompare(t.name)})),selected:d,onSelectionChange:j})]}),Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(se.a,{size:"large",children:["Viselt",Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(h.a,{floated:"right",primary:!0,children:void 0!==O?"M\xf3dos\xedt":"\xdaj"}),onOpen:function(){return y(!0)},onClose:function(){return y(!1)},open:z,children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(be,{kepzettseg:!0,fegyver:void 0!==O?t.fegyverek[O]:void 0,submit:function(e,r){he(t,e,null!==r&&void 0!==r?r:"k\xe9pzetlen",O),n(t),y(!1)},cancel:function(){return y(!1)}})})}),Object(r.jsx)(h.a,{floated:"right",negative:!0,disabled:void 0===O,onClick:F,children:"T\xf6r\xf6l"})]}),Object(r.jsx)(le,{fegyverek:t.fegyverek,selected:O,onSelectionChange:x})]})]}),Object(r.jsx)(b.a,{columns:1,textAlign:"center",children:Object(r.jsx)(v.a,{children:Object(r.jsx)("div",{})})})]})};function he(e,t,n,r){var a,c=null!==r&&void 0!==r?r:e.fegyverek.findIndex((function(e){return e.name===t.name}));-1===c?e.fegyverek.push(Object(d.a)({},t)):e.fegyverek[c]=t,e.valasztottFegyver=e.fegyverek.findIndex((function(e){return e.name===t.name}));var i="Fegyverhaszn\xe1lat - ".concat(t.name.toLowerCase());if(e.kepzettsegek=(null!==(a=e.kepzettsegek)&&void 0!==a?a:[]).filter((function(e){return e.name!==i})),"k\xe9pzetlen"!==n){var l={name:i,szint:n,kp:0};e.kepzettsegek.push(l)}}var ke=function(e){var t=e.harcertek,n=e.hm,c=e.complete,i=Object(a.useState)({harcertek:Object(d.a)({},t),hm:n}),l=Object(s.a)(i,2),o=l[0],j=l[1];Object(a.useEffect)((function(){j({harcertek:Object(d.a)({},t),hm:n})}),[t,n,j]);var u=Object(a.useCallback)((function(e,r){var a=Object(d.a)({},o);a.harcertek[e]=r,a.hm=n-Object.keys(a.harcertek).reduce((function(e,n){return e+(a.harcertek[n]-t[n])}),0),j(a)}),[o,j,t,n]);return Object(r.jsxs)(G.a,{definition:!0,striped:!0,compact:!0,color:"orange",children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"HM:"}),Object(r.jsx)(G.a.Cell,{colSpan:2,style:o.hm?{}:{padding:"0"},textAlign:o.hm?"left":"center",children:o.hm?o.hm:Object(r.jsx)(h.a,{compact:!0,color:"green",circular:!0,icon:"check",content:"Eloszt",onClick:function(){return c(o.harcertek,o.hm)}})})]})}),Object(r.jsx)(G.a.Body,{children:Object.keys(t).map((function(e){var n;return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsxs)(G.a.Cell,{children:[F[e],":"]}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)("i",{children:t[e]})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:o.harcertek[e],min:t[e],max:(null!==(n=o.harcertek[e])&&void 0!==n?n:0)+o.hm,onChange:function(t){return u(e,null!==t&&void 0!==t?t:0)}})})]})}))})]})},me=function(e){var t=e.karakter,n=e.save,c=Object(a.useState)(!1),i=Object(s.a)(c,2),l=i[0],o=i[1],d=Object(a.useState)(),j=Object(s.a)(d,2),b=j[0],f=j[1],O=Object(a.useState)(),x=Object(s.a)(O,2),g=x[0],p=x[1],z=Object(a.useState)(),y=Object(s.a)(z,2),C=y[0],S=y[1];return Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(h.a,{fluid:!0,circular:!0,icon:"plus",content:"Hozz\xe1ad"}),onOpen:function(){return o(!0)},onClose:function(){return o(!1)},open:l,children:Object(r.jsxs)(ie.a.Content,{children:[Object(r.jsx)("div",{style:{marginBottom:"0.5rem"},children:Object(r.jsxs)(m.a,{fluid:!0,labelPosition:"left",placeholder:"K\xe9pzetts\xe9g...",error:!b,value:b,onChange:function(e){return f(e.target.value)},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"K\xe9pzetts\xe9g"}),Object(r.jsx)("input",{}),Object(r.jsx)(h.a,{circular:!0,color:"olive",style:{marginLeft:"1rem"},onClick:function(){return f("Neh\xe9zv\xe9rtviselet")},children:"Neh\xe9zv\xe9rtviselet"}),Object(r.jsx)(h.a,{circular:!0,color:"olive",style:{marginLeft:"1rem"},onClick:function(){return f("K\xe9tkezes harc")},children:"K\xe9tkezes harc"}),Object(r.jsx)(h.a,{circular:!0,color:"olive",style:{marginLeft:"1rem"},onClick:function(){return f("Pajzshaszn\xe1lat")},children:"Pajzshaszn\xe1lat"})]})}),Object(r.jsx)("div",{style:{marginBottom:"0.5rem"},children:Object(r.jsxs)(u.a,{columns:4,children:[Object(r.jsx)(v.a,{width:3,children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{pointing:"right",children:"Szint"}),Object(r.jsx)(h.a,{color:"Af"===g?"black":"olive",onClick:function(){return p("Af")},children:"Af"}),Object(r.jsx)(h.a,{color:"Mf"===g?"black":"olive",onClick:function(){return p("Mf")},children:"Mf"})]})}),Object(r.jsx)(v.a,{width:6,textAlign:"center",children:["1","2","3","4","5"].map((function(e){return Object(r.jsx)(h.a,{color:g===e?"black":"olive",circular:!0,onClick:function(){return p(e)},children:e})}))}),Object(r.jsx)(v.a,{width:3,textAlign:"left",children:Object(r.jsx)(de,{labelPosition:"right",label:"Sz\xe1zal\xe9k",value:"number"===typeof g?g:void 0,onChange:function(e){return p(e)}})}),Object(r.jsx)(v.a,{width:4,textAlign:"right",children:Object(r.jsx)(de,{labelPosition:"right",label:"Elk\xf6lt\xf6tt KP",value:C,onChange:function(e){return S(e)}})})]})}),Object(r.jsx)("div",{style:{marginBottom:"0.5rem"},children:Object(r.jsx)(h.a,{disabled:!b||void 0===g,onClick:function(){var e;if(t.kepzettsegek=null!==(e=t.kepzettsegek)&&void 0!==e?e:[],b&&void 0!==g){var r=t.kepzettsegek.findIndex((function(e){return e.name===b})),a={name:b,szint:g,kp:null!==C&&void 0!==C?C:0};-1!==r?t.kepzettsegek[r]=a:t.kepzettsegek.push(a),n(),p(void 0),S(void 0),f("")}},children:"Ment"})})]})})},fe=function(e,t){return"number"===typeof e.szint&&"number"!==typeof t.szint?1:"number"===typeof t.szint&&"number"!==typeof e.szint?-1:e.name.localeCompare(t.name)},Oe=function(e){var t,n=e.karakter,a=e.save;return Object(r.jsxs)(G.a,{striped:!0,celled:!0,compact:!0,color:"pink",children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"K\xe9pzetts\xe9g"}),Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:"Szint"}),Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:"KP"}),Object(r.jsx)(G.a.HeaderCell,{collapsing:!0})]})}),Object(r.jsxs)(G.a.Body,{children:[null===(t=n.kepzettsegek)||void 0===t?void 0:t.sort(fe).map((function(e,t){return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{children:e.name}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:e.szint}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:e.kp?e.kp:"-"}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Y.a,{name:"delete",onClick:function(){var e;null===(e=n.kepzettsegek)||void 0===e||e.splice(t,1),a()}})})]})})),Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{colspan:4,children:Object(r.jsx)(me,{karakter:n,save:a})})},"__new")]})]})},xe=function(e){var t=e.pancelok,n=e.selected,a=e.onSelectionChange,c=e.extraButton,i=e.color;return Object(r.jsxs)(G.a,{compact:!0,celled:!0,striped:!0,definition:!0,selectable:void 0!==a,color:i,children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"P\xe1nc\xe9l"}),Object(r.jsx)(G.a.HeaderCell,{children:"SF\xc9"}),Object(r.jsx)(G.a.HeaderCell,{children:"MGT"}),Object(r.jsx)(G.a.HeaderCell,{children:"Neh\xe9z"})]})}),Object(r.jsxs)(G.a.Body,{children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(r.jsxs)(G.a.Row,{active:n===t,onClick:function(){return null===a||void 0===a?void 0:a(n===t?void 0:t)},children:[Object(r.jsx)(G.a.Cell,{children:e.name}),Object(r.jsx)(G.a.Cell,{children:e.sfe}),Object(r.jsx)(G.a.Cell,{children:e.mgt}),Object(r.jsx)(G.a.Cell,{children:e.nehez&&Object(r.jsx)(Y.a,{compact:!0,color:"green",name:"check"})})]},t)})),c&&Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{colspan:4,children:c})},"__extra")]})]})},ge=function(e){var t=e.pancel,n=e.submit,c=e.cancel,i=Object(a.useState)(null!==t&&void 0!==t?t:{name:"",mgt:0,sfe:0,nehez:!1}),l=Object(s.a)(i,2),o=l[0],j=l[1];return Object(a.useEffect)((function(){j(null!==t&&void 0!==t?t:{name:"",mgt:0,sfe:0,nehez:!1})}),[t]),Object(r.jsxs)(u.a,{columns:1,relaxed:!0,children:[Object(r.jsx)(b.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{fluid:!0,labelPosition:"left",placeholder:"Fegyver neve...",error:!o.name,value:o.name,onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{name:e.target.value}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"N\xe9v"}),Object(r.jsx)("input",{})]})}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:o.sfe,onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{sfe:null!==e&&void 0!==e?e:0}))},label:"SF\xc9"})}),Object(r.jsx)("div",{children:Object(r.jsx)(de,{value:o.mgt,onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{mgt:null!==e&&void 0!==e?e:0}))},label:"MGT"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Neh\xe9z:"}),Object(r.jsx)(oe.a,{fitted:!0,toggle:!0,checked:o.nehez,onChange:function(){return j(Object(d.a)(Object(d.a)({},o),{},{nehez:!o.nehez}))}})]})]})}),Object(r.jsx)(b.a,{textAlign:"center",children:Object(r.jsxs)(v.a,{children:[!!o.name&&Object(r.jsx)(h.a,{onClick:function(){return n(o)},children:"Ment"}),Object(r.jsx)(h.a,{secondary:!0,basic:!0,onClick:c,children:"M\xe9gse"})]})})]})},pe=function(e){var t,n,c=e.karakter,i=e.save,l=e.pancelok,o=e.savePancelok,d=Object(a.useState)(),j=Object(s.a)(d,2),k=j[0],m=j[1],f=Object(a.useState)(),O=Object(s.a)(f,2),x=O[0],g=O[1],p=Object(a.useState)(!1),z=Object(s.a)(p,2),y=z[0],C=z[1],S=Object(a.useState)(!1),w=Object(s.a)(S,2),P=w[0],K=w[1],F=Object(a.useCallback)((function(){var e;void 0!==x&&(c.pancelok=null===(e=c.pancelok)||void 0===e?void 0:e.filter((function(e,t){return t!==x})),c.valasztottPancel=void 0,i(c))}),[c,i,x]);return Object(r.jsxs)(u.a,{columns:3,relaxed:!0,children:[Object(r.jsxs)(b.a,{columns:"equal",children:[Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(se.a,{size:"large",children:["V\xe1laszthat\xf3",Object(r.jsx)(h.a,{floated:"right",secondary:!0,disabled:void 0===k||(null!==(t=c.pancelok)&&void 0!==t?t:[]).some((function(e){return e.name===l[k].name})),onClick:function(){var e;c.pancelok=null!==(e=c.pancelok)&&void 0!==e?e:[],k&&c.pancelok.every((function(e){return e.name!==l[k].name}))&&(c.pancelok.push(l[k]),i(c))},children:"V\xe1laszt"}),Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(h.a,{floated:"right",primary:!0,children:void 0!==k?"M\xf3dos\xedt":"\xdaj"}),onOpen:function(){return K(!0)},onClose:function(){return K(!1)},open:P,children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(ge,{pancel:void 0!==k?l[k]:void 0,submit:function(e){void 0===k?l.push(e):l[k]=e,o(l),K(!1)},cancel:function(){return K(!1)}})})}),Object(r.jsx)(h.a,{floated:"right",negative:!0,disabled:void 0===k,onClick:function(){o(l.filter((function(e,t){return t!==k})))},children:"T\xf6r\xf6l"})]}),Object(r.jsx)(xe,{pancelok:l.sort((function(e,t){return e.name.localeCompare(t.name)})),selected:k,onSelectionChange:m})]}),Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(se.a,{size:"large",children:["Viselt",Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(h.a,{floated:"right",primary:!0,children:void 0!==x?"M\xf3dos\xedt":"\xdaj"}),onOpen:function(){return C(!0)},onClose:function(){return C(!1)},open:y,children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(ge,{pancel:void 0!==x?null===(n=c.pancelok)||void 0===n?void 0:n[x]:void 0,submit:function(e){var t;c.pancelok=null!==(t=c.pancelok)&&void 0!==t?t:[],void 0!==x?c.pancelok[x]=e:c.pancelok.push(e),i(c),C(!1)},cancel:function(){return C(!1)}})})}),Object(r.jsx)(h.a,{floated:"right",negative:!0,disabled:void 0===x,onClick:F,children:"T\xf6r\xf6l"})]}),Object(r.jsx)(xe,{pancelok:c.pancelok,selected:x,onSelectionChange:g})]})]}),Object(r.jsx)(b.a,{columns:1,textAlign:"center",children:Object(r.jsx)(v.a,{children:Object(r.jsx)("div",{})})})]})},ze=function(e){var t=e.pajzs,n=e.onChange;return Object(r.jsxs)(G.a,{striped:!0,celled:!0,definition:!0,fluid:!0,compact:!0,color:"red",children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Pajzsok"}),Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:"Asztr\xe1l"}),Object(r.jsx)(G.a.HeaderCell,{collapsing:!0,children:"Ment\xe1l"})]})}),Object(r.jsxs)(G.a.Body,{children:[Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Term\xe9szetes"}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:t.asztral.termeszetes,min:0,max:1e3,onChange:function(e){t.asztral.termeszetes=e,n(t)}})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:t.mental.termeszetes,min:0,max:1e3,onChange:function(e){t.mental.termeszetes=e,n(t)}})})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Statikus"}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:t.asztral.statikus,min:0,max:1e3,onChange:function(e){t.asztral.statikus=e,n(t)}})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:t.mental.statikus,min:0,max:1e3,onChange:function(e){t.mental.statikus=e,n(t)}})})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Dinamikus"}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:t.asztral.dinamikus,min:0,max:1e3,onChange:function(e){t.asztral.dinamikus=e,n(t)}})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{icons:!0,value:t.mental.dinamikus,min:0,max:1e3,onChange:function(e){t.mental.dinamikus=e,n(t)}})})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"\xd6sszeg"}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)("b",{children:t.asztral.termeszetes+t.asztral.statikus+t.asztral.dinamikus})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)("b",{children:t.mental.termeszetes+t.mental.statikus+t.mental.dinamikus})})]})]})]})},ye=function(e){var t,n=e.karakter,a=e.save;return Object(r.jsxs)(G.a,{celled:!0,fluid:!0,compact:!0,color:"yellow",children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.HeaderCell,{children:"Jegyzetek"})})}),Object(r.jsx)(G.a.Body,{children:Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{style:{padding:"0"},children:Object(r.jsx)("textarea",{style:{borderRadius:"0.25em",height:"10em",width:"100%"},value:null!==(t=n.jegyzetek)&&void 0!==t?t:"",onChange:function(e){n.jegyzetek=e.target.value,a()}})})})})]})},Ce=Object(a.forwardRef)((function(e,t){var n=e.text,c=e.onChange,i=Object(a.useState)(""),l=Object(s.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)(!1),u=Object(s.a)(j,2),b=u[0],v=u[1];return Object(a.useImperativeHandle)(t,(function(){return{edit:function(){return v(!0)}}})),Object(a.useEffect)((function(){d(null!==n&&void 0!==n?n:"")}),[n]),b?Object(r.jsx)("form",{onSubmit:function(){v(!1),c(o)},children:Object(r.jsx)(m.a,{transparent:!0,autoFocus:!0,value:o,onChange:function(e,t){var n=t.value;d(n)},onBlur:function(){v(!1),c(o)}})}):Object(r.jsx)("span",{onClick:function(){return v(!0)},children:null!==n&&void 0!==n?n:""})})),Se=function(e){var t,n=e.karakter,a=e.save,c={};return Object(r.jsxs)(G.a,{celled:!0,fluid:!0,compact:!0,color:"blue",children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Felszerel\xe9s"}),Object(r.jsx)(G.a.HeaderCell,{children:"Mennyis\xe9g"}),Object(r.jsx)(G.a.HeaderCell,{})]})}),Object(r.jsxs)(G.a.Body,{children:[null===(t=n.felszereles)||void 0===t?void 0:t.map((function(e,t){return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{onClick:function(){return c[e.name].current.edit()},children:Object(r.jsx)(Ce,{ref:function(t){return c[e.name]={current:t}},text:e.name,onChange:function(t){e.name=t,a()}})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Q,{min:0,max:1e4,value:e.qty,onChange:function(t){e.qty=t,a()},icons:!0})}),Object(r.jsx)(G.a.Cell,{collapsing:!0,children:Object(r.jsx)(Y.a,{name:"delete",onClick:function(){var e;null===(e=n.felszereles)||void 0===e||e.splice(t,1),a()}})})]},e.name)})),Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{colSpan:3,children:Object(r.jsx)(h.a,{fluid:!0,circular:!0,icon:"plus",content:"Hozz\xe1ad",onClick:function(){var e;n.felszereles=[].concat(Object(j.a)(null!==(e=n.felszereles)&&void 0!==e?e:[]),[{name:"",qty:1}]),a()}})})})]})]})},we=n(235),Pe=n.n(we),Ke=n(529),Fe=function(e){var t=e.categories,n=e.save,c=Object(a.useState)(!1),i=Object(s.a)(c,2),l=i[0],o=i[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),b=j[0],k=j[1];return Object(r.jsxs)(ie.a,{trigger:Object(r.jsx)(h.a,{floated:"right",size:"tiny",circular:!0,compact:!0,color:"orange",children:"+"}),onOpen:function(){return o(!0)},onClose:function(){return o(!1)},open:l,size:"mini",title:"\xdaj kateg\xf3ria",children:[Object(r.jsx)(ie.a.Header,{children:"\xdaj kateg\xf3ria"}),Object(r.jsx)(ie.a.Content,{children:Object(r.jsxs)(u.a,{columns:2,fluid:!0,relaxed:!0,children:[Object(r.jsxs)(v.a,{children:[Object(r.jsx)(m.a,{list:"categories",value:b,onChange:function(e){return k(e.target.value)}}),Object(r.jsx)("datalist",{id:"categories",children:t.map((function(e){return Object(r.jsx)("option",{value:e,children:e})}))})]}),Object(r.jsx)(v.a,{children:Object(r.jsx)(h.a,{fluid:!0,primary:!0,onClick:function(){n(b),o(!1)},children:"Hozz\xe1ad"})})]})})]})},He=function(e){var t=e.karakter,n=e.save,c=e.categories,i=e.clone,l=e.remove,o=Object(a.useState)(!1),d=Object(s.a)(o,2),u=d[0],b=d[1];return Object(r.jsxs)(G.a,{striped:!0,definition:!0,compact:!0,children:[Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{children:"N\xe9v:"}),Object(r.jsxs)(G.a.Cell,{children:[Object(r.jsx)(Ce,{text:t.name,onChange:function(e){t.name=e,n(t)}})," "]})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{children:"Faj:"}),Object(r.jsx)(G.a.Cell,{children:t.faj})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{children:"Kaszt:"}),Object(r.jsx)(G.a.Cell,{children:t.kaszt.name})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{children:"Szint:"}),Object(r.jsx)(G.a.Cell,{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{pointing:"right",children:t.szint}),Object(r.jsx)(h.a,{secondary:!0,compact:!0,onClick:function(){n(V(t))},children:"Szintl\xe9p\xe9s"})]})})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsxs)(G.a.Cell,{children:["Kateg\xf3ri\xe1k",Object(r.jsx)(Fe,{categories:c,save:function(e){t.categories=Object(j.a)(new Set([].concat(Object(j.a)(t.categories),[e]))),n(t)}})]}),Object(r.jsx)(G.a.Cell,{children:t.categories.map((function(e){return Object(r.jsxs)(k.a,{tag:!0,children:[e," ",Object(r.jsx)(Y.a,{name:"delete",onClick:function(){t.categories=t.categories.filter((function(t){return t!==e})),n(t)}})]})}))})]}),Object(r.jsx)(G.a.Row,{children:Object(r.jsxs)(G.a.Cell,{colSpan:2,children:[Object(r.jsx)(h.a,{onClick:function(){return b(!0)},color:"red",compact:!0,circular:!0,children:"Karakter t\xf6rl\xe9se"}),Object(r.jsx)(Ke.a,{open:u,onCancel:function(){return b(!1)},onConfirm:function(){b(!1),l()},header:"Karakter t\xf6rl\xe9se",content:"Tuti?",cancelButton:"Nem",confirmButton:"De"}),Object(r.jsx)(h.a,{onClick:function(){Pe()(JSON.stringify(t),"".concat(t.name,".json"),"text/json")},color:"green",circular:!0,compact:!0,children:"Export"}),Object(r.jsx)(h.a,{onClick:function(){return i(t)},color:"green",circular:!0,compact:!0,children:"Kl\xf3n"})]})})]})},Ee=function(e){var t,n,a,c=e.karakter,i=e.save,l=e.remove,s=e.categories,o=e.fegyverek,j=e.saveFegyverek,k=e.pancelok,m=e.savePancelok,f=e.clone,O=[Object(d.a)({name:"ep",label:"\xc9P"},c.ep),Object(d.a)({name:"fp",label:"FP"},c.fp)];c.pszi&&O.push(Object(d.a)({name:"pszi",label:"\u03a8P"},c.pszi)),c.mp&&O.push(Object(d.a)({name:"mp",label:"MP"},c.mp));var x=q(c),g=new K(Object.keys(R)).add("alap",c.kepessegek);return x[0]>0&&g.add("mgt",{gy:-x[0],ugy:-x[0]}),g.roll(),Object(r.jsxs)(u.a,{relaxed:!0,children:[Object(r.jsxs)(v.a,{width:4,children:[Object(r.jsx)(He,{karakter:c,categories:s,save:i,clone:f,remove:l}),c.hm>0&&Object(r.jsxs)("div",{children:[Object(r.jsx)(ke,{harcertek:c.hmHarcertek,hm:c.hm,complete:function(e,t){c.hmHarcertek=e,c.hm=t,i(c)}})," "]}),Object(r.jsx)(ee,{color:"olive",points:O,onChange:function(e,t,n){c[e][t?"max":"akt"]=n,i(c)}}),Object(r.jsx)(ze,{pajzs:null!==(t=c.pajzs)&&void 0!==t?t:{asztral:{termeszetes:$(c.kepessegek.asz,10),statikus:0,dinamikus:0},mental:{termeszetes:$(c.kepessegek.ae,10),statikus:0,dinamikus:0}},onChange:function(e){c.pajzs=e,i(c)}}),Object(r.jsx)(Z,{color:"purple",title:"K\xe9pess\xe9gek",matrix:g,direction:"vertical",editable:["alap"],numberOnly:!0,keyMap:R,setValue:function(e,t,n){c.kepessegek[t]=Number(n),i(c)}})]}),Object(r.jsx)(v.a,{width:12,children:Object(r.jsx)(u.a,{columns:2,children:Object(r.jsxs)(b.a,{children:[Object(r.jsxs)(v.a,{children:[Object(r.jsx)(Z,{color:"orange",title:"Harc\xe9rt\xe9kek",matrix:J(c).roll(["te","ve","ce","ke"]),direction:"vertical",keyMap:F}),Object(r.jsx)(le,{color:"green",fegyverek:c.fegyverek,selected:c.valasztottFegyver,onSelectionChange:function(e){c.valasztottFegyver=e,i(c)},extraButton:Object(r.jsxs)(ie.a,{trigger:Object(r.jsx)(h.a,{fluid:!0,circular:!0,icon:"edit",content:"Fegyverlista szerkeszt\xe9se"}),size:"fullscreen",children:[Object(r.jsx)(ie.a.Header,{children:"Fegyverek"}),Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(ve,{saveFegyverek:j,fegyverek:o,karakter:c,save:function(e){i(e)}})})]})}),Object(r.jsx)(xe,{color:"teal",pancelok:c.pancelok,selected:c.valasztottPancel,onSelectionChange:function(e){c.valasztottPancel=e,i(c)},extraButton:Object(r.jsxs)(ie.a,{trigger:Object(r.jsx)(h.a,{fluid:!0,circular:!0,icon:"edit",content:"P\xe1nc\xe9llista szerkeszt\xe9se"}),size:"fullscreen",children:[Object(r.jsx)(ie.a.Header,{children:"P\xe1nc\xe9lok"}),Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(pe,{savePancelok:m,pancelok:k,karakter:c,save:i})})]})}),Object(r.jsx)(Oe,{karakter:c,save:function(){return i(c)}})]}),Object(r.jsxs)(v.a,{children:[(null===(n=c.masodlagosFegyverMutat)||void 0===n||n)&&Object(r.jsxs)(r.Fragment,{children:[void 0!==c.masodlagosFegyver&&Object(r.jsx)("div",{children:Object(r.jsx)(Z,{color:"orange",title:"M\xe1sodlagos harc\xe9rt\xe9kek",matrix:J(c,void 0,!0).roll(["te","ve","ce","ke"]),direction:"vertical",keyMap:F})}),Object(r.jsx)(le,{color:"green",title:"M\xe1sodlagos fegyver",fegyverek:c.fegyverek,selected:c.masodlagosFegyver,onSelectionChange:function(e){c.masodlagosFegyver=e,i(c)},extraButton:Object(r.jsxs)(ie.a,{trigger:Object(r.jsx)(h.a,{fluid:!0,circular:!0,icon:"edit",content:"Fegyverlista szerkeszt\xe9se"}),size:"fullscreen",children:[Object(r.jsx)(ie.a.Header,{children:"Fegyverek"}),Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(ve,{saveFegyverek:j,fegyverek:o,karakter:c,save:function(e){i(e)}})})]})})]}),Object(r.jsx)(h.a,{fluid:!0,circular:!0,icon:null===(a=c.masodlagosFegyverMutat)||void 0===a||a?"eye slash":"eye",content:"M\xe1sodlagos fegyver",onClick:function(){var e;c.masodlagosFegyverMutat=!(null===(e=c.masodlagosFegyverMutat)||void 0===e||e),i(c)}}),Object(r.jsx)(Se,{karakter:c,save:function(){return i(c)}}),Object(r.jsx)(ye,{karakter:c,save:function(){return i(c)}})]})]})})})]})},Me=[{name:"poszt\xf3",sfe:1,mgt:0},{name:"kivert b\u0151r",sfe:1,mgt:0},{name:"kem\xe9ny\xedtett b\u0151r",sfe:2,mgt:2},{name:"gy\u0171r\u0171s",sfe:1,mgt:1},{name:"brigantin",sfe:3,mgt:2},{name:"l\xe1ncing",sfe:2,mgt:1},{name:"sodronying",sfe:3,mgt:1},{name:"pikkelyv\xe9rt",sfe:3,mgt:2},{name:"lemezv\xe9rtezet",sfe:3,mgt:3,nehez:!0},{name:"mellv\xe9rt",sfe:4,mgt:4,nehez:!0},{name:"f\xe9lv\xe9rtezet",sfe:5,mgt:6,nehez:!0},{name:"teljes v\xe9rtezet",sfe:6,mgt:8,nehez:!0}],Te="magus.",Ne="magus-story";n(364);var Be=n(325),Re=n(144),De=n(534),Le=function(e){var t=e.currentCategory,n=e.setCurrentCategory,a=e.categories;return Object(r.jsx)(De.a,{item:!0,text:"Karakterek: ".concat(t||"\xd6sszes"),children:Object(r.jsxs)(De.a.Menu,{children:[Object(r.jsx)(De.a.Item,{onClick:function(){return n("")},children:"\xd6sszes"},"__all"),a.map((function(e){return Object(r.jsx)(De.a.Item,{onClick:function(){return n(e)},children:e},e)}))]})})},Ae=n(267),Ie=n.n(Ae),$e=n(329),Ve=n(330),_e=n(214),qe=n(331),Je=function(e){Object(_e.a)(n,e);var t=Object(qe.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={drag:!1},e.dropRef=c.a.createRef(),e.dragCounter=0,e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDragIn=function(t){var n;t.preventDefault(),t.stopPropagation(),e.dragCounter++,(null===(n=t.dataTransfer)||void 0===n?void 0:n.items)&&t.dataTransfer.items.length>0&&e.setState({drag:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter--,0===e.dragCounter&&e.setState({drag:!1})},e.handleDrop=function(t){var n;t.preventDefault(),t.stopPropagation(),e.setState({drag:!1}),(null===(n=t.dataTransfer)||void 0===n?void 0:n.files)&&t.dataTransfer.files.length>0&&(e.props.handleDrop(t.dataTransfer.files),t.dataTransfer.clearData(),e.dragCounter=0)},e}return Object(Ve.a)(n,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e&&(e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop))}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e&&(e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop))}},{key:"render",value:function(){return Object(r.jsx)("div",{style:{display:"inline-block",position:"relative"},ref:this.dropRef,children:this.state.drag?this.props.dragPlaceholder:this.props.children})}}]),n}(a.Component),Ge=function(e){var t=e.save,n=e.saveMese;return Object(r.jsx)(Je,{dragPlaceholder:Object(r.jsxs)(h.a,{circular:!0,as:"div",color:"green",children:[Object(r.jsx)(Y.a,{name:"upload"}),"Import"]}),handleDrop:function(){var e=Object($e.a)(Ie.a.mark((function e(r){var a,c,i,l;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=r.item(0))||void 0===a?void 0:a.text();case 2:i=e.sent,l=null===(c=r.item(0))||void 0===c?void 0:c.name.endsWith(".xml"),i&&(l?n(i):t(JSON.parse(i)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(r.jsxs)(h.a,{circular:!0,basic:!0,as:"div",color:"green",children:[Object(r.jsx)(Y.a,{name:"upload"}),"Import"]})})},We=n(366).Slider,Ue=[2,3,5,6,10,100],Xe=[1,2,3,5,10],Ye={"\xf3ri\xe1s":-30,"l\xf3":-15,ember:0,kutya:20,dinnya:35,alma:50,"f\xe9mp\xe9nz":65},Qe={mozdulatlan:0,"kisz\xe1m\xedthat\xf3an mozg\xf3":20,"kisz\xe1m\xedthatatlanul mozg\xf3":35,"kit\xe9r\xe9sre \xf6sszpontos\xedt\xf3":50},Ze={"naps\xfct\xe9s, sz\xe9lcsend":0,"szemerk\xe9l\u0151 es\u0151, szell\u0151":10,"gyenge es\u0151/sz\xe9l":30,"gyenge k\xf6d, es\u0151, er\u0151s sz\xe9l":50,"s\u0171r\u0171 k\xf6d, zivatar, viharos sz\xe9l":70,"eg\xe9szen s\u0171r\u0171 k\xf6d, felh\u0151szakad\xe1s, ork\xe1n":100},et=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({}),l=Object(s.a)(i,2),o=l[0],f=l[1],O=Object(a.useReducer)((function(e,t){return e[0]===t?e:[t].concat(Object(j.a)(e.slice(0,9)))}),[]),x=Object(s.a)(O,2),g=x[0],p=x[1],z=Object(a.useState)({tavolsag:0,meret:"ember",mozgas:"mozdulatlan",viszonyok:"naps\xfct\xe9s, sz\xe9lcsend"}),y=Object(s.a)(z,2),C=y[0],K=y[1],F=Object(a.useCallback)((function(e){f(S(n,e)),p(n)}),[n,f,p]),H=Object(a.useCallback)((function(e){var t=w(n);t.die===e?t.numDice++:(t.die=e,t.numDice=1),c(P(t))}),[n,c]),E=Object(a.useCallback)((function(e){var t=w(n);0===e?t.plus=0:t.plus+=e,c(P(t))}),[n,c]);return Object(r.jsxs)(u.a,{columns:1,divided:"vertically",children:[Object(r.jsx)(b.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)(se.a,{children:"Kockadob\xe1s"}),Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{labelPosition:"right",value:n,onChange:function(e){return c(e.target.value)},children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"Dob\xe1s"}),Object(r.jsx)("input",{}),Object(r.jsx)(W,{pointing:"left",result:o}),Object(r.jsxs)(h.a.Group,{color:"teal",children:[Object(r.jsx)(h.a,{primary:!0,disabled:!n,onClick:function(){return F()},children:"Dob"}),Object(r.jsx)(De.a,{className:"button icon",floating:!0,trigger:Object(r.jsx)(r.Fragment,{}),children:Object(r.jsx)(De.a.Menu,{children:Object(r.jsx)(h.a,{primary:!0,onClick:function(){return F(!0)},children:"\xcdj\xe1sz szab\xe1llyal"})})})]})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"Kocka"}),Ue.map((function(e){return Object(r.jsxs)(h.a,{onClick:function(){return H(e)},children:["k",e]})}))]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"Oszt\xf3"}),[1,2,3].map((function(e){return Object(r.jsxs)(h.a,{onClick:function(){var t=w(n);t.div=e,c(P(t))},children:["/",e]})}))]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"Plusz"}),[].concat(Xe).reverse().map((function(e){return Object(r.jsxs)(h.a,{onClick:function(){return E(-e)},children:["-",e]})})),Object(r.jsx)(h.a,{secondary:!0,onClick:function(){return E(0)},children:"0"}),Xe.map((function(e){return Object(r.jsxs)(h.a,{onClick:function(){return E(e)},children:["+",e]})}))]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"\xd3, \xfajra"}),g.map((function(e){return Object(r.jsx)(h.a,{color:"olive",onClick:function(){return c(e)},children:e})}))]})})]})}),Object(r.jsx)(b.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)(se.a,{children:"C\xe9lz\xe1s v\xe9d\u0151 \xe9rt\xe9k"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(We,{value:C.tavolsag,settings:{min:0,max:100,step:1,onChange:function(e){return K(Object(d.a)(Object(d.a)({},C),{},{tavolsag:e}))}}}),Object(r.jsx)(de,{label:"T\xe1vols\xe1g",value:C.tavolsag,onChange:function(e){return K(Object(d.a)(Object(d.a)({},C),{},{tavolsag:Math.min(null!==e&&void 0!==e?e:0,100)}))}})]}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"M\xe9ret"}),Object.keys(Ye).map((function(e){return Object(r.jsx)(h.a,{active:C.meret===e,onClick:function(){return K(Object(d.a)(Object(d.a)({},C),{},{meret:e}))},children:e})}))]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"Mozg\xe1s"}),Object.keys(Qe).map((function(e){return Object(r.jsx)(h.a,{active:C.mozgas===e,onClick:function(){return K(Object(d.a)(Object(d.a)({},C),{},{mozgas:e}))},children:e})}))]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"Viszonyok"}),Object.keys(Ze).map((function(e){return Object(r.jsx)(h.a,{active:C.viszonyok===e,onClick:function(){return K(Object(d.a)(Object(d.a)({},C),{},{viszonyok:e}))},children:e})}))]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{as:"div",labelPosition:"left",children:[Object(r.jsx)(k.a,{basic:!0,pointing:"right",children:"V\xe9d\u0151 \xe9rt\xe9k"}),Object(r.jsx)(k.a,{color:"black",size:"large",children:30+C.tavolsag+Ye[C.meret]+Qe[C.mozgas]+Ze[C.viszonyok]})]})})]})})]})},tt=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(h.a,{primary:!0,children:"Kocka"}),onOpen:function(){return c(!0)},onClose:function(){return c(!1)},open:n,children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)(et,{})})})},nt=n.p+"static/media/magus.810aa1ee.png",rt=10,at=function(e){var t=e.categories,n=e.currentCategory,c=e.setCurrentCategory,i=e.karakter,l=e.karakterek,o=e.page,d=e.setPage,j=e.save,u=e.saveMese,b=Object(a.useState)(0),v=Object(s.a)(b,2),k=v[0],m=v[1],f=l.findIndex((function(e){return e.id===(null===i||void 0===i?void 0:i.id)}));Object(a.useEffect)((function(){f>-1&&(f<k&&m(f),f>=k+rt&&m(f-rt+1))}),[f,k,m]);var O=l.length>rt,x=k>0&&(-1===f||f<k+rt-1),g=k+rt<l.length&&(-1===f||f>k),p=l.slice(k,k+rt);return Object(r.jsxs)(Be.a,{tabular:!0,children:[Object(r.jsx)(Be.a.Item,{header:!0,children:Object(r.jsx)(Re.a,{src:nt,size:"mini",onClick:function(){return d({page:"story"===o.page?"home":"story"})}})},"header"),Object(r.jsx)(Le,{categories:t,currentCategory:n,setCurrentCategory:c}),O&&Object(r.jsx)(Be.a.Item,{disabled:!x,onClick:function(){return m(k-1)},children:Object(r.jsx)(Y.a,{name:"triangle left"})},"scroll_left"),p.map((function(e){return Object(r.jsx)(Be.a.Item,{style:{flexGrow:1},active:e.id===(null===i||void 0===i?void 0:i.id),name:e.name,onClick:function(){return e.id===(null===i||void 0===i?void 0:i.id)?d({page:"home"}):d({page:"karakterlap",karakter:e})}},e.id)})),Object(r.jsx)(Be.a.Item,{active:"karakteralkoto"===o.page,onClick:function(){return d({page:"karakteralkoto"})},children:Object(r.jsx)(Y.a,{name:"plus"})},"new"),O&&Object(r.jsx)(Be.a.Item,{disabled:!g,onClick:function(){return m(k+1)},children:Object(r.jsx)(Y.a,{name:"triangle right"})},"scroll_right"),Object(r.jsxs)(Be.a.Item,{position:"right",children:[Object(r.jsx)(Ge,{save:j,saveMese:u}),Object(r.jsx)(h.a,{negative:!0,onClick:function(){return d({page:"kombat",category:n})},children:"Kombat"}),Object(r.jsx)(tt,{})]},"floated")]})},ct=n(207),it=function(e){var t=e.szituaciok,n=e.setSzituaciok,a=Object.keys(T).sort().map((function(e){return{id:e,key:e,value:e,text:e}}));return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(De.a,{multiple:!0,simple:!0,className:"icon",icon:"",renderLabel:function(e){return{color:"blue",content:"".concat(e.text)}},text:"Harci szitu\xe1ci\xf3",onChange:function(e,t){n(Object(j.a)(t.value))},options:a,value:t})})},lt=Object(a.forwardRef)((function(e,t){var n,c,i=e.karakter,l=e.save,j=e.dobasEredmeny,u=e.setDobasEredmeny,b=Object(a.useState)([]),v=Object(s.a)(b,2),k=v[0],m=v[1],f=void 0!==i.valasztottFegyver?i.fegyverek[i.valasztottFegyver]:E,O=J(i,k.map((function(e){return Object(d.a)(Object(d.a)({},T[e]),{},{name:e})}))).roll(["ke","te","ce","ve"]),x=null!==(n=function(e){try{var t=w();return e.forEach((function(e){if(e.tries>1||e.kf)throw new Error("can't sum rolls with multiple tries or kf");if(0!==t.die&&0!==e.die&&e.die!==t.die)throw new Error("can't sum rolls with different dies");if(1!==t.div&&1!==e.div&&t.div!==e.div)throw new Error("can't sum rolls with different divisors");0!==e.die&&(t.die=e.die,t.numDice+=e.numDice),0!==e.plus&&(t.plus+=e.plus),e.div>1&&(t.div=e.div)})),t}catch(n){}return null}(O.getRolls("sebzes")))&&void 0!==n?n:w();Object(a.useImperativeHandle)(t,(function(){return{rollKe:function(){return S("1k10+"+O.sum.ke)},rollTe:function(){return S("1k100+"+O.sum.te)},rollCe:function(){return S("1k100+"+O.sum.ce)},rollSebzes:function(){return S(x,"lofegyver"===N(f))}}}),[O,x,f]);var g=[{id:-1,value:void 0,text:"fegyver n\xe9lk\xfcl"}];i.fegyverek.forEach((function(e,t){return g.push({id:t,value:t,text:e.name})}));var p=function(e){switch(e){case"sebzes":return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{compact:!0,circular:!0,color:"orange",onClick:function(){u(Object(d.a)(Object(d.a)({},j),{},{sebzes:S(x,"lofegyver"===N(f))}))},children:P(x)}),Object(r.jsx)(W,{result:j.sebzes})]});case"ke":return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{compact:!0,circular:!0,color:"olive",onClick:function(){return u(Object(d.a)(Object(d.a)({},j),{},{ke:S("1k10+"+O.sum[e])}))},children:O.sum[e]}),Object(r.jsx)(W,{result:j.ke})]});case"ce":case"te":return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{compact:!0,circular:!0,color:"purple",onClick:function(){return u(Object(d.a)(Object(d.a)({},j),{},Object(o.a)({},e,S("1k100+"+O.sum[e]))))},children:O.sum[e]}),Object(r.jsx)(W,{result:j[e]})]});case"ve":return O.sum[e]}};return Object(r.jsxs)(ct.a,{fluid:!0,style:{backgroundColor:function(){if(i.ep.akt<=0||i.fp.akt<=0)return"darkgrey";var e=_(i);return e?-10===e.te?"bisque":-20===e.te?"coral":void 0:"white"}(),filter:"drop-shadow(5px 5px 3px #333)"},children:[Object(r.jsxs)(ct.a.Content,{children:[Object(r.jsx)(ct.a.Header,{children:i.name}),Object(r.jsxs)(ct.a.Description,{children:[Object(r.jsx)(ee,{points:[Object(d.a)({name:"ep",label:"\xc9P"},i.ep),Object(d.a)({name:"fp",label:"FP"},i.fp)],onChange:function(e,t,n){i[e][t?"max":"akt"]=n,l(i)}}),Object(r.jsxs)(G.a,{columns:2,singleLine:!0,compact:!0,children:[Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"SF\xc9"}),Object(r.jsx)(G.a.Cell,{children:i.valasztottPancel?null===(c=i.pancelok)||void 0===c?void 0:c[i.valasztottPancel].sfe:"-"})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Asztr\xe1l ME"}),Object(r.jsx)(G.a.Cell,{children:i.pajzs?i.pajzs.asztral.termeszetes+i.pajzs.asztral.statikus+i.pajzs.asztral.dinamikus:"-"})]}),Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"Ment\xe1l ME"}),Object(r.jsx)(G.a.Cell,{children:i.pajzs?i.pajzs.mental.termeszetes+i.pajzs.mental.statikus+i.pajzs.mental.dinamikus:"-"})]})]}),Object(r.jsxs)(G.a,{columns:2,singleLine:!0,compact:!0,children:[Object(r.jsx)(G.a.Header,{children:Object(r.jsx)(G.a.HeaderCell,{colSpan:2,children:Object(r.jsx)(De.a,{disabled:!1,compact:!0,text:f.name,onChange:function(e,t){return function(e){i.valasztottFegyver=void 0===e?void 0:Number(e),l(i)}(void 0!==t.value?Number(t.value):void 0)},options:g,value:i.valasztottFegyver})})}),O.keys.map((function(e){return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:F[e]}),Object(r.jsx)(G.a.Cell,{children:p(e)})]})})),f.name!==E.name&&Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.HeaderCell,{children:"T\xe1m/k\xf6r"}),Object(r.jsx)(G.a.Cell,{children:"".concat(f.lassu?"1/":"").concat(f.tamPerKor)})]})]})]})]}),Object(r.jsx)(ct.a.Content,{extra:!0,textAlign:"center",children:Object(r.jsx)(it,{szituaciok:k,setSzituaciok:m})})]})})),st=function(e){var t=e.karakterek,n=e.save,c=Object(a.useState)(t.reduce((function(e,t){return e[t.id]={},e}),{})),i=Object(s.a)(c,2),l=i[0],j=i[1],u=Object(a.useState)({}),b=Object(s.a)(u,1)[0],v=function(e){var t=e.color,n=e.label,a=e.rollFn,c=e.value;return Object(r.jsx)(h.a,{color:t,onClick:function(){var e=Object(d.a)({},l);Object.keys(b).forEach((function(t){var n,r;e[t][c]=null===(n=b[t])||void 0===n||null===(r=n.current)||void 0===r?void 0:r[a]()})),j(e)},children:n})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:{textAlign:"center"},children:Object(r.jsxs)(U.a,{children:[Object(r.jsx)(v,{color:"olive",label:"Kezdem\xe9ny",rollFn:"rollKe",value:"ke"}),Object(r.jsx)(v,{color:"purple",label:"T\xe1mad\xf3",rollFn:"rollTe",value:"te"}),Object(r.jsx)(v,{color:"purple",label:"C\xe9lz\xf3",rollFn:"rollCe",value:"ce"}),Object(r.jsx)(v,{color:"orange",label:"Sebz\xe9s",rollFn:"rollSebzes",value:"sebzes"}),Object(r.jsx)(h.a,{color:"red",onClick:function(){j(t.reduce((function(e,t){return e[t.id]={},e}),{}))},children:"Dob\xe1sok t\xf6rl\xe9se"})]})}),Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch"},children:t.sort((function(e,t){var n,r,a,c,i=null!==(n=null===(r=l[e.id].ke)||void 0===r?void 0:r.value)&&void 0!==n?n:0;return(null!==(a=null===(c=l[t.id].ke)||void 0===c?void 0:c.value)&&void 0!==a?a:0)-i})).reverse().map((function(e,a){return Object(r.jsx)("div",{style:{order:t.length-a,margin:"1em"},children:Object(r.jsx)(lt,{ref:function(t){return b[e.id]={current:t}},karakter:e,save:n,dobasEredmeny:l[e.id],setDobasEredmeny:function(t){return j(Object(d.a)(Object(d.a)({},l),{},Object(o.a)({},e.id,t)))}},e.id)})}))})]})},ot=n(532),dt=n(533);function jt(e){var t=e.clientX,n=e.clientY,r=t+1,a=n+1;return{getBoundingClientRect:function(){return{left:t,top:n,right:r,bottom:a,height:0,width:0}}}}var ut=function(e){var t=e.children,n=e.items,a=e.onClicked,i=e.onClose,l=e.event,o=c.a.useRef(null),d=c.a.useState(!1),j=Object(s.a)(d,2),u=j[0],b=j[1],v=function(){b(!1),i()};return Object(r.jsxs)(r.Fragment,{children:[!l&&Object(r.jsx)("div",{onContextMenu:function(e){e.preventDefault(),o.current=jt(e),b(!0)},children:t}),Object(r.jsx)(dt.a,{basic:!0,context:l?{current:jt(l)}:o,onClose:v,open:u||!!l,children:Object(r.jsx)(Be.a,{items:n,onItemClick:function(e,t){v(),a(t)},secondary:!0,vertical:!0})})]})},bt=function(e){var t=e.onSelected,n=e.children;return Object(r.jsx)(ut,{onClose:function(){},items:[{name:"insertBefore",content:"\xdaj elem",icon:"left arrow"},{name:"delete",content:"T\xf6r\xf6l",icon:"delete"},{name:"insertAfter",content:"\xdaj elem",icon:"right arrow"}],onClicked:function(e){t(e.name)},children:n})},vt=n(268),ht=function e(t,n){var r,a=[];n(t)&&a.push(t);var c=null===(r=t.elements)||void 0===r?void 0:r.map((function(t){return e(t,n)}));return null===c||void 0===c||c.forEach((function(e){a=a.concat(e)})),a},kt=function(e,t){var n,r;return null!==(n=null===(r=e.elements)||void 0===r?void 0:r.filter((function(e){return e.name===t})))&&void 0!==n?n:[]},mt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"after",a={type:"element",name:t,$parent:e};return ft(e,a,n,r)},ft=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"after";e.elements=null!==(r=e.elements)&&void 0!==r?r:[];var c=0;if(n){var i=e.elements.indexOf(n);c="after"===a?i+1:i}else c="after"===a?e.elements.length:0;return e.elements.splice(c,0,t),t.$parent=e,t},Ot=function(e,t){var n;e.elements=null!==(n=e.elements)&&void 0!==n?n:[];var r=e.elements.indexOf(t);-1!==r&&e.elements.splice(r,1)},xt=function(e,t){var n=kt(e,t);return n.length>0?n[0]:null},gt=function(e,t,n){var r,a,c;void 0!==n&&(e.attributes=null!==(c=e.attributes)&&void 0!==c?c:{},null!==n?e.attributes[t]=n:delete e.attributes[t]);return(null!==(r=null===(a=e.attributes)||void 0===a?void 0:a[t])&&void 0!==r?r:"").toString()},pt=function(e){var t,n;return null!==(t=null===e||void 0===e||null===(n=e.elements)||void 0===n?void 0:n.map((function(e){return e.text})).join(" "))&&void 0!==t?t:""},zt={addChild:mt,addChildElement:ft,addText:function(e,t,n){var r;e.elements=null!==(r=e.elements)&&void 0!==r?r:[];var a=n?e.elements.indexOf(n)+1:0,c={type:"text",text:t,$parent:e};return e.elements.splice(a,0,c),c},attr:gt,text:pt,child:xt,childText:function(e,t){var n,r=null===(n=e.elements)||void 0===n?void 0:n.find((function(e){return e.name===t}));return pt(r)},children:kt,deleteChild:Ot,findById:function(e,t,n){var r=ht(e,(function(e){return e.name===t&&zt.attr(e,"id")===n}));return r.length>0?r[0]:null},findElementsByName:function(e,t){return ht(e,(function(e){return e.name===t}))},findReferences:function(e,t){var n=zt.attr(t,"id");return n?ht(e,(function(e){return zt.attr(e,"ref")===n})):[]},findElements:ht,parse:function(e){return Object(vt.xml2js)(e,{compact:!1,nativeType:!0,trim:!1,addParent:!0,parentKey:"$parent"})},convertLegacyLinks:function e(t){var n;if("link"===t.name){var r=zt.attr(t,"target").split(":"),a=Object(s.a)(r,2),c=a[0],i=a[1];t.name=c,t.attributes={ref:i}}if("setting"===t.name&&"scene"===t.$parent.name){var l=xt(t.$parent,"events")||mt(t.$parent,"events"),o=mt(l,"event",void 0,"before");gt(o,"role","background"),Ot(t.$parent,t),ft(o,t)}null===(n=t.elements)||void 0===n||n.forEach((function(t){return e(t)}))},print:function(e){return Object(vt.js2xml)(e,{compact:!1,parentKey:"$parent"})}},yt=function(e){var t=e.addComment,n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],l=c[1],o=Object(a.useState)(""),d=Object(s.a)(o,2),j=d[0],u=d[1];return Object(r.jsx)(ie.a,{trigger:Object(r.jsx)(Y.a,{name:"comment"}),onOpen:function(){return l(!0)},onClose:function(){return l(!1)},open:i,children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsxs)(m.a,{fluid:!0,labelPosition:"left",placeholder:"Komment...",error:!j,value:j,onChange:function(e){return u(e.target.value)},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Komment"}),Object(r.jsx)("input",{}),Object(r.jsx)(h.a,{floated:"right",disabled:!j,onClick:function(){t(j),u(""),l(!1)},children:"Ment"})]})})})},Ct=n(531),St=function(e){var t=e.comments,n=e.deleteComment,a=e.renderer;return Object(r.jsx)(r.Fragment,{children:t&&t.length?Object(r.jsx)(dt.a,{hoverable:!0,trigger:Object(r.jsxs)(Ct.a.Description,{children:[t.length,"\xa0komment"]}),wide:!0,children:Object(r.jsx)(Ct.a,{children:t.map((function(e){return Object(r.jsxs)(Ct.a.Item,{children:[Object(r.jsx)(Ct.a.Icon,{name:"delete",onClick:function(){return n(e)}}),Object(r.jsx)(Ct.a.Content,{children:a.renderElement(e)})]})}))})}):""})},wt={normal:"angle right",entrance:"sign-in",exit:"sign-out",info:"info circle",background:"film",speech:"comment alternate outline",warning:"warning"},Pt=function(e){var t;return null!==(t=wt[e])&&void 0!==t?t:"square full"},Kt=function(e){var t=e.event,n=e.renderer,c=e.onClick,i=e.commentUtils,l=e.onChange,o=e.onContextMenu,d=e.onEdit,j=zt.attr(t,"role").toString()||"normal",u=zt.attr(t,"status"),b=Object(a.useState)(!1),v=Object(s.a)(b,2),h=v[0],k=v[1];return Object(r.jsxs)("div",{onContextMenu:function(e){o(e),e.preventDefault()},style:{backgroundColor:"completed"===u?"#eefeee":void 0,display:"flex",alignItems:"start",width:"100%",justifyContent:"space-between",padding:"1em",borderTop:"1px solid #444",borderBottom:"1px solid #444"},onMouseEnter:function(){return!h&&k(!0)},onMouseLeave:function(){return h&&k(!1)},children:[Object(r.jsx)("div",{children:Object(r.jsxs)("ul",{style:{listStyle:"none",margin:"0"},children:[Object(r.jsx)("li",{children:Object(r.jsx)(Y.a,{name:Pt(j)})}),h&&Object(r.jsx)("li",{style:{cursor:"pointer"},children:Object(r.jsx)(Y.a,{name:"edit",onClick:d})})]})}),Object(r.jsx)("div",{style:{flexGrow:1},children:n.renderElement(t)}),Object(r.jsxs)("div",{style:{textAlign:"right"},children:[Object(r.jsx)(yt,{addComment:function(e){i.add(e),l()}}),Object(r.jsx)(Y.a,{name:"checkmark",color:"completed"===u?"green":void 0,onClick:c}),Object(r.jsx)(St,{comments:i.list(),deleteComment:function(e){i.remove(e),l()},renderer:n})]})]})},Ft=n(34),Ht=(n(479),n(266)),Et=function(e,t,n){return Ft.SelectionState.createEmpty(e.getLastBlock().getKey()).merge({anchorOffset:t,focusOffset:n})},Mt=function(e,t,n,r){console.log("adding entity",t,n,r);var a=e,c=(a=a.createEntity(t,"MUTABLE",n)).getLastCreatedEntityKey();return console.log(c),a=Ft.Modifier.applyEntity(a,r,c)},Tt=function(e,t,n,r,a){return Mt(e,t,n,Et(e,r,a))},Nt=function(e){console.log("creating new block");var t=new Ft.ContentBlock({key:Object(Ft.genKey)(),type:"paragraph",text:""}),n=e.getBlockMap().merge(Object(o.a)({},t.getKey(),t)).toOrderedMap();return e.merge({blockMap:n})},Bt=function e(t,n,r,a){console.log("processing",t,r,a);var c=n;return"text"===t.type?(console.log("adding text",t.text),a||(c=Nt(c)),Ft.Modifier.insertText(c,function(e){var t=e.getLastBlock().getLength();return Et(e,t,t)}(c),t.text)):t.elements?("p"!==t.name&&a||r||(c=Nt(c)),t.elements.forEach((function(n){var r,a;console.log("adding",n,t);var i=null!==(r=null===(a=c.getLastBlock())||void 0===a?void 0:a.getLength())&&void 0!==r?r:0,l=(c=e(n,c,!1,c.getLastBlock())).getLastBlock().getLength();n.name&&"p"!==n.name&&(c=Tt(c,n.name,n.attributes,i,l))})),c):c},Rt=function(e,t){var n,r=e.getBlocksAsArray().map((function(n){return function(e,t,n){var r={type:"element",name:"p",$parent:e,elements:[]},a=n.getText();return n.findEntityRanges((function(){return!0}),(function(c,i){var l=n.getEntityAt(c),s={type:"text",text:a.substring(c,i),$parent:e};if(l){var o,d=t.getEntity(l);null===(o=r.elements)||void 0===o||o.push({type:"element",name:d.getType(),attributes:d.getData(),elements:[s],$parent:r})}else{var j;null===(j=r.elements)||void 0===j||j.push(s)}})),r}(t,e,n)}));return 1===r.length?null!==(n=r[0].elements)&&void 0!==n?n:[]:r},Dt=Mt,Lt=function(e){var t,n,c,i,l=e.editorState,o=e.setEditorState,j=e.root,u=Object(a.useState)(),b=Object(s.a)(u,2),v=b[0],f=b[1],O=Object(a.useState)({}),x=Object(s.a)(O,2),g=x[0],p=x[1];function z(e,t){var n=l.getSelection(),r=Dt(l.getCurrentContent(),e,t,n);o(Ft.EditorState.push(l,r,"apply-entity"))}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie.a,{open:void 0!==v,onClose:function(){return f(void 0)},children:Object(r.jsxs)(ie.a.Content,{children:["roll"===v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(m.a,{labelPosition:"left",value:null!==(t=g.details)&&void 0!==t?t:"",onChange:function(e){return p({details:e.target.value})},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Dob\xe1s"}),Object(r.jsx)("input",{})]}),Object(r.jsx)(h.a,{primary:!0,onClick:function(){z("roll",g),p({}),f(void 0)},children:"OK"})]}),("character"===v||"item"===v)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(De.a,{fluid:!0,search:!0,selection:!0,value:g.ref,options:(i=v,zt.findElementsByName(j,i).filter((function(e){return zt.attr(e,"id")})).map((function(e){return{key:zt.attr(e,"id"),value:zt.attr(e,"id"),text:zt.childText(e,"name")}}))),onChange:function(e,t){var n,r;return p({ref:null!==(n=null===(r=t.value)||void 0===r?void 0:r.toString())&&void 0!==n?n:""})}}),Object(r.jsx)(h.a,{primary:!0,onClick:function(){z(v,g),p({}),f(void 0)},children:"OK"})]}),"jump"===v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(De.a,{fluid:!0,search:!0,selection:!0,value:g.ref,options:zt.findElementsByName(j,"scene").map((function(e){return{key:zt.attr(e,"id"),value:zt.attr(e,"id"),text:zt.attr(e,"title")}})),onChange:function(e,t){var n,r;return p({scene:null!==(n=null===(r=t.value)||void 0===r?void 0:r.toString())&&void 0!==n?n:""})}}),Object(r.jsx)(h.a,{primary:!0,onClick:function(){z(v,g),p({}),f(void 0)},children:"OK"})]}),"setting"===v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{labelPosition:"left",value:null!==(n=g.map)&&void 0!==n?n:"",onChange:function(e){return p(Object(d.a)(Object(d.a)({},g),{},{map:e.target.value}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"T\xe9rk\xe9p link"}),Object(r.jsx)("input",{})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(m.a,{labelPosition:"left",value:null!==(c=g.description)&&void 0!==c?c:"",onChange:function(e){return p(Object(d.a)(Object(d.a)({},g),{},{description:e.target.value}))},children:[Object(r.jsx)(k.a,{pointing:"right",basic:!0,children:"Le\xedr\xe1s link"}),Object(r.jsx)("input",{})]})}),Object(r.jsx)(h.a,{primary:!0,onClick:function(){z("setting",g),p({}),f(void 0)},children:"OK"})]})]})}),Object(r.jsx)(h.a,{onClick:function(){return z("reward")},icon:"trophy"}),Object(r.jsx)(h.a,{onClick:function(){return f("roll")},icon:"cube"}),Object(r.jsx)(h.a,{onClick:function(){return f("setting")},icon:"map marker alternate"}),Object(r.jsx)(h.a,{onClick:function(){return f("character")},icon:"user outline"}),Object(r.jsx)(h.a,{onClick:function(){return f("item")},icon:"gift"}),Object(r.jsx)(h.a,{onClick:function(){return f("jump")},icon:"paper plane outline"}),Object(r.jsx)(h.a,{floated:"right",onClick:function(){var e=Ft.Modifier.applyEntity(l.getCurrentContent(),l.getSelection(),null);o(Ft.EditorState.push(l,e,"apply-entity"))},icon:"remove circle"})]})},At=n(332),It=n(208),$t=function(e){var t=e.elem,n=e.root,c=e.onChange,i=e.children,l=e.create,o=e.readOnly,d=Object(a.useState)(!1),j=Object(s.a)(d,2),u=j[0],b=j[1];if(!o){if(!t)return Object(r.jsx)(h.a,{size:"mini",onClick:function(){l(),setTimeout((function(){return b(!0)}),0)},children:"Create"});if(!u&&!zt.text(t))return Object(r.jsx)(h.a,{size:"mini",onClick:function(){return b(!0)},children:"Edit"});if(u)return Object(r.jsx)(dn,{elem:t,root:n,onFinished:function(e){e&&c(t),b(!1)}})}return Object(r.jsx)("div",{onClick:function(){return b(!0)},children:i})},Vt=function(e){var t=e.children,n=e.elem,a=(e.switchToScene,zt.attr(n,"role").toString()||"normal");return"background"===a?Object(r.jsx)("i",{children:t}):"speech"===a?Object(r.jsx)("blockquote",{children:t}):Object(r.jsx)(r.Fragment,{children:t})},_t=function(e){var t=e.children,n=e.elem,a=e.switchToScene;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y.a,{name:"paper plane outline",fitted:!0})," ",Object(r.jsx)("em",{style:{cursor:"pointer"},onClick:function(){return a(zt.attr(n,"scene"))},children:t})]})},qt=function(e){var t=e.children,n=e.elem,a=zt.attr(n,"level");return Object(r.jsxs)(r.Fragment,{children:[t," ",a?Object(r.jsxs)("em",{children:["(",a,")"]}):""]})},Jt=function(e){var t=e.children;return Object(r.jsx)("p",{children:t})},Gt=function(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y.a,{name:"trophy",fitted:!0})," ",Object(r.jsx)("strong",{children:t})]})},Wt=function(e){var t=e.children,n=e.elem,a=zt.attr(n,"details");return a?Object(r.jsx)(dt.a,{hoverable:!0,trigger:Object(r.jsxs)("span",{children:[Object(r.jsx)(Y.a,{name:"cube",fitted:!0})," ",Object(r.jsx)("strong",{children:t})]}),wide:!0,children:Object(r.jsx)(dt.a.Content,{children:a})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y.a,{name:"cube",fitted:!0})," ",Object(r.jsx)("strong",{children:t})]})},Ut=function(e){var t=e.children,n=e.elem,a=zt.attr(n,"map"),c=zt.attr(n,"description");return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y.a,{title:a?"T\xe9rk\xe9p":void 0,style:a?{cursor:"pointer"}:{},name:"map marker alternate",onClick:function(){return a&&window.open(a,"_blank")}}),Object(r.jsx)("strong",{title:c?"Le\xedr\xe1s":void 0,style:c?{cursor:"pointer"}:{},onClick:function(){return c&&window.open(c,"_blank")},children:t})]})},Xt={setting:"map marker alternate",roll:"cube",reward:"trophy",character:"user outline",item:"gift",jump:"paper plane outline","":"question"},Yt=function e(t){var n,a=t.elem,c=t.root,i=t.switchToScene;if(!a)return Object(r.jsx)(r.Fragment,{});if("text"===a.type)return Object(r.jsx)(r.Fragment,{children:a.text});var l=Object(r.jsx)(r.Fragment,{children:null===(n=a.elements)||void 0===n?void 0:n.map((function(t){return Object(r.jsx)(e,{elem:t,root:c,switchToScene:i})}))});switch(a.name){case"p":return Object(r.jsx)(Jt,{switchToScene:i,elem:a,children:l});case"setting":return Object(r.jsx)(Ut,{switchToScene:i,elem:a,children:l});case"roll":return Object(r.jsx)(Wt,{switchToScene:i,elem:a,children:l});case"reward":return Object(r.jsx)(Gt,{switchToScene:i,elem:a,children:l});case"jump":return Object(r.jsx)(_t,{switchToScene:i,elem:a,children:l});case"langauge":return Object(r.jsx)(qt,{switchToScene:i,elem:a,children:l});case"event":return Object(r.jsx)(Vt,{switchToScene:i,elem:a,children:l});case"character":case"item":var s=zt.attr(a,"ref").toString(),o=zt.findById(c,a.name,s);if(o){var d="character"===o.name?"user outline":"gift";return Object(r.jsx)(dt.a,{hoverable:!0,trigger:Object(r.jsxs)("span",{children:[Object(r.jsx)(Y.a,{name:d,fitted:!0})," ",Object(r.jsx)("strong",{children:l})]}),wide:!0,children:Object(r.jsx)(dt.a.Content,{children:Object(r.jsx)(Qt,{tag:o,root:c,switchToScene:i,readOnly:!0,save:function(){throw new Error("edit not implemented")}})})})}return l;case"language":var j=zt.attr(a,"level");return Object(r.jsxs)(r.Fragment,{children:[l," ",j?Object(r.jsxs)("em",{children:["(",j,")"]}):""]});default:return l}},Qt=function(e){var t=e.tag,n=e.root,a=e.switchToScene,c=e.save,i=e.readOnly;return"character"===t.name?Object(r.jsx)(en,{save:c,elem:t,root:n,switchToScene:a,readOnly:i}):"item"===t.name?Object(r.jsx)(tn,{save:c,elem:t,root:n,switchToScene:a,readOnly:i}):null},Zt=function(e){var t=e.label,n=e.elem,a=e.root,c=e.switchToScene,i=e.save,l=e.create,s=e.readOnly;return Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{children:t}),Object(r.jsxs)(G.a.Cell,{children:[Object(r.jsx)($t,{readOnly:s,elem:n,root:a,onChange:i,create:l,children:Object(r.jsx)(Yt,{elem:n,root:a,switchToScene:c})})," "]})]})},en=function(e){var t=e.elem,n=e.root,a=e.switchToScene,c=e.save,i=e.readOnly,l=function(e){var t=e.name,l=e.parent,s=e.label,o=zt.findElementsByName(l,t),d=Object(At.a)(o),j=d[0],u=d.slice(1);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(G.a.Row,{children:[Object(r.jsx)(G.a.Cell,{rowSpan:o.length+1,children:s}),Object(r.jsx)(G.a.Cell,{children:Object(r.jsxs)($t,{readOnly:i,elem:j,root:n,onChange:c,create:function(){zt.addChild(l,t),c()},children:[Object(r.jsx)(h.a,{size:"tiny",basic:!0,floated:"right",icon:"delete",onClick:function(){zt.deleteChild(l,j),c()}}),Object(r.jsx)(Yt,{elem:j,root:n,switchToScene:a})]})})]},"".concat(t,"-first")),u.map((function(e,s){return Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{children:Object(r.jsxs)($t,{readOnly:i,elem:e,root:n,onChange:c,create:function(){throw new Error("not applicable")},children:[!i&&Object(r.jsx)(h.a,{size:"tiny",basic:!0,floated:"right",icon:"delete",onClick:function(){zt.deleteChild(l,e),c()}}),Object(r.jsx)(Yt,{elem:e,root:n,switchToScene:a})]})})},"".concat(t,"-").concat(s))})),j&&!i&&Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{children:Object(r.jsx)(h.a,{basic:!0,size:"tiny",onClick:function(){zt.addChild(l,t),c()},icon:"plus"})})},"".concat(t,"-plus"))]})},s=function(e){var l=e.label,s=e.name;return Object(r.jsx)(Zt,{save:c,label:l,readOnly:i,elem:zt.child(t,s),create:function(){zt.addChild(t,s),c()},root:n,switchToScene:a},s)};return Object(r.jsx)(G.a,{definition:!0,striped:!0,columns:2,structured:!0,children:Object(r.jsxs)(G.a.Body,{children:[Object(r.jsx)(s,{label:"N\xe9v",name:"name"}),Object(r.jsx)(s,{label:"Faj",name:"race"}),Object(r.jsx)(s,{label:"Jellem",name:"alignment"}),Object(r.jsx)(s,{label:"Kaszt",name:"class"}),Object(r.jsx)(s,{label:"Sz\xfcl\u0151f\xf6ld",name:"origin"}),Object(r.jsx)(l,{parent:t,name:"language",label:"Nyelvek"}),Object(r.jsx)(s,{label:"Kin\xe9zet",name:"looks"}),Object(r.jsx)(s,{label:"Viselked\xe9s",name:"behaviour"}),Object(r.jsx)(l,{parent:t,name:"loot",label:"Felszerel\xe9s"})]})})},tn=function(e){var t=e.elem,n=e.root,a=e.switchToScene,c=e.save,i=e.readOnly,l=function(e){var l=e.label,s=e.name;return Object(r.jsx)(Zt,{save:c,label:l,readOnly:i,elem:zt.child(t,s),create:function(){zt.addChild(t,s),c()},root:n,switchToScene:a},s)};return Object(r.jsx)(G.a,{definition:!0,striped:!0,columns:2,children:Object(r.jsxs)(G.a.Body,{children:[Object(r.jsx)(l,{label:"N\xe9v",name:"name"}),Object(r.jsx)(l,{label:"\xc9rt\xe9k",name:"value"}),Object(r.jsx)(G.a.Row,{children:Object(r.jsx)(G.a.Cell,{colSpan:2,children:Object(r.jsx)($t,{readOnly:i,elem:zt.child(t,"description"),root:n,onChange:c,create:function(){zt.addChild(t,"description"),c()},children:Object(r.jsx)(Yt,{elem:zt.child(t,"description"),root:n,switchToScene:a})})})})]})})},nn=function(e){var t=e.root,n=e.name,a=e.switchToScene,c=e.save,i=zt.findElementsByName(t,n).filter((function(e){var t;return!(null===(t=e.attributes)||void 0===t?void 0:t.ref)}));return Object(r.jsx)(It.a,{itemsPerRow:5,children:i.map((function(e){return Object(r.jsx)(ct.a,{raised:!0,children:Object(r.jsxs)(ct.a.Content,{children:[Object(r.jsxs)(ct.a.Header,{children:[zt.childText(e,"name"),Object(r.jsx)(h.a,{floated:"right",icon:"delete",color:"red",disabled:zt.findReferences(t,e).length>0,onClick:function(){zt.deleteChild(e.$parent,e),c()}})]}),Object(r.jsx)(ct.a.Meta,{children:Object(r.jsx)(Qt,{readOnly:!1,save:c,tag:e,root:t,switchToScene:a})})]})},zt.attr(e,"id"))}))})},rn=function(e,t){return{renderElement:function(n){return Object(r.jsx)(Yt,{elem:n,root:e,switchToScene:t})},renderCards:function(n,a){return Object(r.jsx)(nn,{save:a,root:e,name:n,switchToScene:t})}}},an=function(e){var t,n=e.offsetKey,a=e.children,c=e.contentState,i=e.entityKey,l=i?c.getEntity(i):null,s=Xt[null!==(t=null===l||void 0===l?void 0:l.getType())&&void 0!==t?t:""];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{style:{fontWeight:"bold"},"data-offset-key":n,children:[Object(r.jsx)(Y.a,{name:s,fitted:!0}),a]})})},cn=Object.keys(wt).map((function(e){return{key:e,value:e,text:e,icon:wt[e]}})),ln=function(e){var t=e.role,n=e.onRoleSelected;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k.a,{pointing:"right",children:"Event role:"}),Object(r.jsx)(De.a,{placeholder:"Select Role",labeled:!0,selection:!0,value:t,onChange:function(e,t){var r=t.value;n(r)},options:cn})]})},sn=Bt,on=Rt,dn=function(e){var t=e.elem,n=e.onFinished,c=e.root,i=e.eventEdited,l=Object(a.useState)((function(){return Ft.EditorState.createEmpty()})),o=Object(s.a)(l,2),d=o[0],j=o[1],u=Object(a.useState)(i?zt.attr(t,"role"):void 0),b=Object(s.a)(u,2),v=b[0],m=b[1],f=Object(a.useState)(i?zt.attr(t,"date"):void 0),O=Object(s.a)(f,2),x=O[0],g=O[1],p=Object(a.useCallback)((function(){n(!1)}),[n]);return Object(a.useEffect)((function(){var e=sn(t,Ft.ContentState.createFromBlockArray([]),!0),n=new Ft.CompositeDecorator([{strategy:function(e,t,n){e.findEntityRanges((function(e){return!!e.getEntity()}),t)},component:an}]);j(Ft.EditorState.createWithContent(e,n))}),[t,i]),Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsx)("span",{children:Object(r.jsx)(ln,{role:v,onRoleSelected:m})}),Object(r.jsxs)("span",{children:[Object(r.jsx)(Q,{icons:!1,min:-1e5,max:1e5,value:Number(x||0),onChange:function(e){return g(String(e))}}),Object(r.jsx)(k.a,{pointing:"left",children:"Nap"})]})]}),Object(r.jsx)(Lt,{editorState:d,setEditorState:j,root:c}),Object(r.jsx)(Ht.a,{children:Object(r.jsx)(Ft.Editor,{editorState:d,onChange:j,keyBindingFn:function(e){return"Escape"===e.key?"my-escape":Object(Ft.getDefaultKeyBinding)(e)},handleKeyCommand:function(e){return"my-escape"===e?(p(),"handled"):"not-handled"}})}),Object(r.jsx)(h.a,{floated:"left",primary:!0,onClick:function(){i&&(zt.attr(t,"role",v),void 0!==x&&zt.attr(t,"date",x.toString())),t.elements=on(d.getCurrentContent(),t),console.log("edited",zt.print(t)),n(!0)},children:"Save"}),Object(r.jsx)(h.a,{floated:"right",circular:!0,color:"red",basic:!0,content:"Cancel",onClick:function(){return n(!1)}})]})},jn=function(e){var t=e.editedEvent,n=e.onEditingFinished,a=e.root;return Object(r.jsx)(ie.a,{style:{padding:"1em"},open:void 0!==t,onClose:function(){return n(!1)},children:Object(r.jsx)(ie.a.Content,{children:Object(r.jsx)("div",{children:t&&Object(r.jsx)(dn,{elem:t.elem,onFinished:function(e){e&&t.insert&&zt.addChildElement(t.elem.$parent,t.elem,t.anchor,t.insert),n(e)},root:a,eventEdited:!0})})})})},un=function(e){var t=e.events,n=e.width;if(t.length<2)return null;var a=t.sort((function(e,t){return e.date-t.date})),c=[].concat(Object(j.a)(Array(a.length-1).fill(0).map((function(e,t){return a[t+1].date-a[t].date}))),[0]),i=100/c.reduce((function(e,t){return e+t}),0),l=function(e){var t=e.height,a=e.event,c=e.position,i=function(){return Object(r.jsx)("div",{style:{backgroundColor:"black",position:"relative",top:0,left:"-10px",width:"".concat(20+n,"px"),height:"1px"},children:"\xa0"})};return Object(r.jsxs)("div",{style:{flexBasis:"".concat(t,"%"),width:"".concat(n,"px"),backgroundColor:"black"},children:[Object(r.jsx)(dt.a,{style:{zIndex:0},trigger:i(),open:!0,position:"left"===c?"left center":"right center",pinned:!0,wide:!0,children:a.content}),Object(r.jsx)(dt.a,{style:{border:"none",boxShadow:"none",zIndex:0},trigger:i(),open:!0,position:"left"===c?"right center":"left center",pinned:!0,basic:!0,children:a.date})]})};return Object(r.jsx)("div",{style:{height:"1000px",alignItems:"center",display:"flex",flexDirection:"column",flexWrap:"nowrap"},children:c.map((function(e,t){return Object(r.jsx)(l,{height:e*i,event:a[t],position:t%2?"left":"right"})}))})},bn=function(e){var t=e.setEditedEvent,n=e.children,a=e.onClose,c=e.event;return Object(r.jsx)(ut,{onClose:a,event:c,items:[{name:"insertBefore",content:"\xdaj elem",icon:"up arrow"},{name:"edit",content:"Szerkeszt",icon:"edit"},{name:"delete",content:"T\xf6r\xf6l",icon:"delete"},{name:"insertAfter",content:"\xdaj elem",icon:"down arrow"}],onClicked:function(e){t({operation:e.name})},children:n})},vn=zt.attr,hn=zt.child,kn=zt.addChild,mn=zt.deleteChild,fn=zt.children,On=zt.addText,xn=zt.findElementsByName,gn=function(e){var t=hn(e,"story");if(!t)throw new Error("story is missing");return hn(t,"comments")||kn(t,"comments")},pn=function(e){var t=vn(e,"id")||Object(f.a)();return vn(e,"id",t),t},zn=function e(t,n){var r=this;Object(O.a)(this,e),this.root=t,this.event=n,this.add=function(e){return function(e,t,n){var r=pn(e),a=gn(t),c=fn(a,"comment").pop(),i=kn(a,"comment",c);vn(i,"event",r),On(i,n)}(r.event,r.root,e)},this.remove=function(e){return function(e,t){var n=gn(t);mn(n,e)}(e,r.root)},this.list=function(){return function(e,t){var n=vn(e,"id");return xn(t,"comment").filter((function(e){return vn(e,"event")===n}))}(r.event,r.root)}},yn=zt.attr,Cn=zt.children,Sn=function(e){var t,n,c,i=e.scene,l=e.renderer,o=e.onChange,d=e.root,j=Cn(i,"events")[0],u=Object(a.useState)(),b=Object(s.a)(u,2),v=b[0],k=b[1],m=Object(a.useState)(),f=Object(s.a)(m,2),O=f[0],x=f[1],g=Object(a.useState)("list"),p=Object(s.a)(g,2),z=p[0],y=p[1];return Object(r.jsxs)(r.Fragment,{children:[O&&Object(r.jsx)(bn,{setEditedEvent:function(e){"insertAfter"===e.operation||"insertBefore"===e.operation?k({insert:"insertAfter"===e.operation?"after":"before",elem:{type:"element",name:"event",$parent:O.elem.$parent},anchor:O.elem}):"delete"===e.operation?(zt.deleteChild(O.elem.$parent,O.elem),o()):k({elem:O.elem})},onClose:function(){return x(void 0)},event:O.event}),Object(r.jsx)(jn,{editedEvent:v,onEditingFinished:function(){k(void 0),o()},root:d}),Object(r.jsxs)("div",{children:["list"===z&&(null===j||void 0===j||null===(t=j.elements)||void 0===t?void 0:t.map((function(e){return Object(r.jsx)(Kt,{event:e,renderer:l,onContextMenu:function(t){return x({elem:e,event:t})},onEdit:function(){return k({elem:e})},onClick:function(){var t=yn(e,"status");yn(e,"status",t?null:"completed"),o()},commentUtils:new zn(d,e),onChange:o})}))),"timeline"===z&&Object(r.jsx)(un,{width:5,events:null!==(n=null===j||void 0===j||null===(c=j.elements)||void 0===c?void 0:c.filter((function(e){return""!==yn(e,"date")})).map((function(e){return{date:Number(yn(e,"date")),content:Object(r.jsx)(r.Fragment,{children:l.renderElement(e)})}})))&&void 0!==n?n:[]}),Object(r.jsxs)("div",{style:{backgroundColor:"gainsboro"},children:[Object(r.jsx)(h.a,{icon:"plus",onClick:function(){k({insert:"after",elem:{type:"element",name:"event",$parent:j}})},content:"\xdaj elem"}),"list"===z&&Object(r.jsx)(h.a,{icon:"calendar",onClick:function(){return y("timeline")},content:"Id\u0151vonal"}),"timeline"===z&&Object(r.jsx)(h.a,{icon:"list",onClick:function(){return y("list")},content:"Lista"})]})]})]})},wn=zt.attr,Pn=zt.findElementsByName,Kn=zt.parse,Fn=zt.print,Hn=zt.convertLegacyLinks,En=function(e){var t=e.story,n=e.saveStory,c=Object(a.useState)(),i=Object(s.a)(c,2),l=i[0],o=i[1],d=Kn(t);Hn(d);var j,u=Pn(d,"scene"),b=function(){n(Fn(d))},v=rn(d,(function(e){return o(e)})),k=u.map((function(e){return{menuItem:Object(r.jsx)(Be.a.Item,{children:Object(r.jsx)(bt,{onSelected:function(t){if("delete"===t)zt.deleteChild(e.$parent,e);else{var n=zt.addChild(e.$parent,"scene",e,"insertAfter"===t?"after":"before");zt.attr(n,"id",Object(f.a)()),zt.attr(n,"title","\xdaj jelenet"),zt.addChild(n,"events"),setTimeout((function(){return o(zt.attr(n,"id"))}),0)}b()},children:l===zt.attr(e,"id")?Object(r.jsx)(Ce,{text:wn(e,"title"),onChange:function(t){zt.attr(e,"title",t),b()}}):wn(e,"title")})},wn(e,"id")),render:function(){return Object(r.jsx)(ot.a.Pane,{children:Object(r.jsx)(Sn,{scene:e,renderer:v,onChange:b,root:d})})}}}));return k.push({menuItem:Object(r.jsx)(Be.a.Item,{children:Object(r.jsx)(Y.a,{name:"plus",onClick:function(){var e=zt.child(d,"story"),t=zt.addChild(e,"scene",void 0,"after");zt.attr(t,"id",Object(f.a)()),zt.attr(t,"title","\xdaj jelenet"),zt.addChild(t,"events"),setTimeout((function(){return o(zt.attr(t,"id"))}),0),b()}})},"__add"),render:function(){return Object(r.jsx)(r.Fragment,{})}}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{onClick:function(){return Pe()(t,"mese.xml","application/xml")},color:"green",circular:!0,children:"Export"}),Object(r.jsx)(h.a,{onClick:function(){var e=zt.findElementsByName(d,"characters")[0],t=zt.addChild(e,"character");zt.attr(t,"id",Object(f.a)()),zt.addChild(t,"name"),zt.addChild(t,"race"),zt.addChild(t,"alignment"),zt.addChild(t,"class"),zt.addChild(t,"origin"),zt.addChild(t,"language"),zt.addChild(t,"looks"),zt.addChild(t,"behaviour"),zt.addChild(t,"loot"),b()},color:"green",circular:!0,children:"\xdaj szerepl\u0151"}),Object(r.jsx)(h.a,{onClick:function(){var e=zt.findElementsByName(d,"items")[0],t=zt.addChild(e,"item");zt.attr(t,"id",Object(f.a)()),zt.addChild(t,"name"),zt.addChild(t,"value"),zt.addChild(t,"description"),b()},color:"green",circular:!0,children:"\xdaj t\xe1rgy"}),Object(r.jsx)(ot.a,{activeIndex:(j=l,u.findIndex((function(e){return wn(e,"id")===j}))),onTabChange:function(e,t){var n=t.activeIndex;return n<u.length&&o(zt.attr(u[n],"id"))},panes:k}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(se.a,{as:"h1",children:"Szerepl\u0151k"}),v.renderCards("character",b)]}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(se.a,{as:"h1",children:"T\xe1rgyak"}),v.renderCards("item",b)]})]})};var Mn=function(){var e=Object(a.useState)({page:"home"}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1];function c(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}function i(e,t){window.localStorage.setItem(e,JSON.stringify(t)),r(n+1)}var l=function(e){var t=Object(j.a)(Array(window.localStorage.length)).map((function(e,t){var n;return null!==(n=window.localStorage.key(t))&&void 0!==n?n:""})).filter((function(e){return e.startsWith(Te)})).map((function(e){return c(e)}));return e?t.filter((function(t){return t.categories.some((function(t){return t===e}))})).sort((function(e,t){return e.name.localeCompare(t.name)})):t.sort((function(e,t){return e.name.localeCompare(t.name)}))},o=function(e){var t=c(Te+e.id);return 2===t.version||(t.version=2,t.ep={max:t.maxEp,akt:t.ep},t.fp={max:t.maxFp,akt:t.fp}),t},u=function(e){i(Te+e.id,e)};return window.exportMagus=function(){var e={};l("").forEach((function(t){e[t.id]=o(t)})),console.log("export",JSON.stringify(e))},window.importMagus=function(e){var t=JSON.parse(e);Object.keys(t).forEach((function(e){return u(t[e])})),console.log("import complete")},{categories:function(){return Object(j.a)(new Set(l().flatMap((function(e){return e.categories}))))},list:l,load:o,save:u,clone:function(e){var t,n=l(),r=2;do{t="".concat(e.name," (").concat(r,")"),r++}while(n.some((function(e){return e.name===t})));var a=Object(d.a)(Object(d.a)({},e),{},{id:Object(f.a)(),name:t});return u(a),a},remove:function(e){window.localStorage.removeItem(Te+e.id)},listFajok:function(){return D},listFegyverek:function(){var e=c("magus-config.fegyverek");return e||(i("magus-config.fegyverek",M),e=M),e},saveFegyverek:function(e){return i("magus-config.fegyverek",e)},listPancelok:function(){var e=c("magus-config.pancelok");return e||(i("magus-config.pancelok",Me),e=Me),e},savePancelok:function(e){return i("magus-config.pancelok",e)},loadStory:function(){var e;return null!==(e=c(Ne))&&void 0!==e?e:"<story/>"},saveStory:function(e){return i(Ne,e)},key:n}}(),l=i.save,o=i.list,u=i.categories,b=i.load,v=i.remove,h=i.listFajok,k=i.listFegyverek,m=i.saveFegyverek,O=i.loadStory,x=i.saveStory,g=i.listPancelok,p=i.savePancelok,z=i.clone,y=Object(a.useState)(""),C=Object(s.a)(y,2),S=C[0],w=C[1],P=Object(a.useCallback)((function(e){l(e),c({page:"karakterlap",karakter:e})}),[l,c]),K=Object(a.useCallback)((function(e){e&&(v(e),c({page:"home"}))}),[c,v]);return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(at,{categories:u(),currentCategory:S,setCurrentCategory:w,karakter:"karakterlap"===n.page?n.karakter:void 0,page:n,setPage:function(e){c(e),"kombat"===e.page&&w(e.category)},save:P,karakterek:o(S),saveMese:x}),function(){switch(n.page){case"home":return Object(r.jsx)("div",{children:"\xd3vakodj a rotoni lomhatasakt\xf3l"});case"kombat":return Object(r.jsx)(st,{karakterek:o(n.category).map((function(e){return b(e)})),save:l});case"karakteralkoto":return Object(r.jsx)(ce,{save:P,fajok:h()});case"story":return Object(r.jsx)(En,{story:O(),saveStory:x});case"karakterlap":return Object(r.jsx)(Ee,{clone:z,pancelok:g(),savePancelok:p,saveFegyverek:m,fegyverek:k(),categories:u(),karakter:b(n.karakter),save:P,remove:function(){return K(n.karakter)}})}}()]})},Tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,538)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};l.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Mn,{})}),document.getElementById("root")),Tn()}},[[480,1,2]]]);
//# sourceMappingURL=main.9d442e7b.chunk.js.map