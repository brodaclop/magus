{"version":3,"sources":["engine/roll.tsx","components/DobasEredmeny.tsx","pages/Kocskadobo.tsx","engine/dobasmatrix.tsx","engine/harc.tsx","engine/kasztok.tsx","engine/karakter.tsx","components/DobasMatrixDisplay.tsx","components/Selection.tsx","components/KarakterAlkotas.tsx","components/EPFP.tsx","components/FegyverLista.tsx","components/FegyverValaszto.tsx","components/HMEloszto.tsx","components/KepzettsegLista.tsx","pages/Karakterlap.tsx","hooks/dataconnector.tsx","static/magus.png","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PATTERN","random","Math","rollDice","dice","ijasz","Array","numDice","keys","map","_","rollSingle","reduce","acc","curr","value","details","res","floor","die","ceil","div","rollKf","result","max","plus","kfMod","kf","roll","tries","abs","_roll","parseDiceRoll","diceString","Number","isNaN","replaceAll","match","groups","undefined","formatDiceRoll","DobasEredmeny","pointing","Label","color","basic","DICE_ROLLS","PLUS","Kockadobo","useState","input","setInput","setResult","useReducer","prev","elem","slice","HISTORY_LENGTH","history","addToHistory","dob","useCallback","setKocka","k","diceRoll","setPlus","Grid","GridRow","Input","labelPosition","onChange","e","target","Button","primary","disabled","onClick","as","r","reverse","secondary","h","DobasMatrix","values","sum","add","name","dobas","forEach","key","toString","filter","indexOf","Object","a","b","clearRolls","this","HARCERTEK_DISPLAY_NAMES","FEGYVER_KEPZETTSEG","ke","te","ve","ce","FEGYVERTELEN","harcertek","tamPerKor","sebzes","FEGYVEREK","lassu","lotav","KEPESSEG_NEV","ero","gy","ugy","ak","egs","sz","int","ae","asz","erz","FAJ_KEPESSEG","FOKASZTOK","KASZTOK","harcos","kepesseg","alapHarcertek","hm","kotelezo","szabad","epfp","ep","fp","fpPerSzint","lovag","tolvaj","pap","paplovag","folottiResz","hatar","szintlepes","karakter","szint","r1","r2","kaszt","hmHarcertek","Set","maxFp","calculateHarcertek","fegyver","fegyvertelen","okol","lofegyver","kepzettseg","kepzettsegek","find","toLowerCase","ret","kepessegek","calculateKepessegHarcertek","sebesules","maxEp","calculateSebesulesHatrany","DobasMatrixDisplay","matrix","keyMap","direction","title","displayCell","constantRoll","rollString","Table","Cell","celled","striped","definition","Header","Row","HeaderCell","Body","Footer","Selection","label","selected","setSelected","options","structure","fk","Group","vertical","tag","o","includes","n","i","compact","active","KarakterAlkotas","save","selectedKaszt","setSelectedKaszt","selectedFaj","setSelectedFaj","setMatrix","nev","setNev","setSzint","updateMatrix","faj","newMatrix","changeKasztSelection","s","changeFajSelection","saveKarakter","id","v4","categories","fegyverek","relaxed","columns","divided","GridColumn","fluid","placeholder","error","textAlign","NumberInput","require","default","EPFP","size","allowEmptyValue","stepAmount","minValue","maxValue","min","FegyverLista","onSelectionChange","fegyverLista","rec","selectable","FegyverValaszto","selectedForDeletion","setSelectedForDeletion","saveSelection","kepzettsegSzint","some","f","push","valasztottFegyver","findIndex","kepzettsegName","kp","saveDeletion","sort","localeCompare","negative","HMEloszto","complete","current","setCurrent","useEffect","change","he","newValue","newCurrent","console","log","colSpan","KepzettsegLista","Karakterlap","ujfegyver","setUjFegyver","kategoriak","setKategoriak","ujKategoria","setUjKategoria","Modal","trigger","floated","circular","onOpen","onClose","open","Content","c","PREFIX","App","page","setPage","operations","setOperations","fetch","window","localStorage","getItem","JSON","parse","list","category","all","length","startsWith","cat","load","info","setItem","stringify","exportMagus","importMagus","content","flatMap","remove","removeItem","useDataConnector","setKarakter","kockaOpen","setKockaOpen","currentCategory","setCurrentCategory","renderPage","renderHeader","karakterek","Menu","tabular","Item","header","Image","src","logo","Dropdown","item","text","Icon","position","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.55181b84.chunk.js","sourcesContent":["export interface DiceRoll {\n    tries: number;\n    numDice: number;\n    die: number;\n    plus: number;\n    div: number;\n    kf: boolean;\n}\n\nexport interface DiceRollResult {\n    value: number;\n    details: string;\n}\n\nconst PATTERN = /(?<numDice>\\d+)?k(?<die>\\d+)(?:\\/(?<div>\\d+))?(?<plus>[+-]\\d+)?(?:\\((?<tries>\\d+)x\\))?(?:\\+kf(?<kf>))?/;\n\nlet random = Math.random;\n\nconst _roll = (dice: DiceRoll, ijasz: boolean): DiceRollResult => {\n    let result = [...Array(dice.tries).keys()].map(_ => rollDice(dice, ijasz)).reduce((acc, curr) => ({ value: Math.max(acc.value, curr.value), details: `${acc.details ? acc.details + ' or ' : ''}(${curr.details})` }), { value: 0, details: '' });\n    result = {\n        value: result.value + dice.plus,\n        details: `${result.details}${dice.plus > 0 ? ' + ' + dice.plus : (dice.plus < 0 ? ' - ' + Math.abs(dice.plus) : '')}`\n    };\n    if (dice.kf) {\n        return rollKf(dice, result);\n    } else {\n        return result;\n    }\n\n}\n\nconst rollDice = (dice: DiceRoll, ijasz: boolean): DiceRollResult => {\n    return [...Array(dice.numDice).keys()].map(_ => rollSingle(dice, ijasz)).reduce((acc, curr) => ({ value: acc.value + curr, details: `${acc.details ? acc.details + '+' : ''}${curr}` }), { value: 0, details: '' });\n}\n\nconst rollSingle = (dice: DiceRoll, ijasz: boolean): number => {\n    let res = 0;\n    let curr = 0;\n    do {\n        curr = 1 + Math.floor(random() * dice.die);\n        res += Math.ceil(curr / dice.div);\n    } while (ijasz && curr === dice.die)\n    return res;\n}\n\nconst rollKf = (dice: DiceRoll, result: DiceRollResult): DiceRollResult => {\n    const max = dice.numDice * Math.floor(dice.die / dice.div) + dice.plus;\n    if (result.value === max) {\n        let kfMod;\n        const kf = roll('k100').value;\n        if (kf <= 20) {\n            kfMod = -roll('k6').value;\n        } else if (kf <= 50) {\n            kfMod = -1;\n        } else if (kf <= 75) {\n            kfMod = 0;\n        } else if (kf <= 95) {\n            kfMod = 1;\n        } else {\n            kfMod = 2;\n        }\n        return {\n            value: result.value + kfMod,\n            details: `${result.details} (kf: ${kf} / ${kfMod})`\n        }\n    } else {\n        return result;\n    }\n\n}\n\nexport const roll = (dice: DiceRoll | string, ijasz?: boolean): DiceRollResult => _roll(typeof dice === 'string' ? parseDiceRoll(dice) : dice, !!ijasz);\n\nexport const rollSource = (randomFn: () => number): void => { random = randomFn }\n\nexport const parseDiceRoll = (diceString: string = '0'): DiceRoll => {\n    if (!Number.isNaN(Number(diceString))) {\n        return {\n            numDice: 0,\n            die: 0,\n            plus: Number(diceString),\n            tries: 1,\n            div: 0,\n            kf: false\n        };\n    }\n    const res = diceString.replaceAll(/\\s/g, '').match(PATTERN);\n    return {\n        numDice: Number(res?.groups?.numDice ?? 1),\n        die: Number(res?.groups?.die ?? 0),\n        plus: Number(res?.groups?.plus ?? 0),\n        tries: Number(res?.groups?.tries ?? 1),\n        div: Number(res?.groups?.div ?? 1),\n        kf: res?.groups?.kf !== undefined\n    }\n}\n\nexport const formatDiceRoll = (dice: DiceRoll): string => {\n    if (dice.die === 0) {\n        return dice.plus ? `${dice.plus}` : '-';\n    };\n    return `${dice.numDice === 1 ? '' : dice.numDice}k${dice.die}${dice.div > 1 ? '/' + dice.div : ''}${dice.plus ? (dice.plus > 0 ? '+' : '-') + Math.abs(dice.plus) : ''}${dice.tries > 1 ? '(' + dice.tries + 'x)' : ''}${dice.kf ? ' + kf' : ''}`;\n}\n\nexport const formatResult = (result: DiceRollResult): string => {\n    return `${result.value} (${result.details})`\n}","import React from 'react';\nimport { Label } from 'semantic-ui-react';\nimport { DiceRollResult } from '../engine/roll';\n\nexport const DobasEredmeny: React.FC<{ pointing?: 'left' | 'right', result?: DiceRollResult }> = ({ result, pointing }) => {\n    return <>\n        <Label pointing={pointing} color='black'>{result?.value}</Label>\n        <Label basic><i>{result?.details}</i></Label>\n    </>;\n}","import React, { useCallback, useReducer, useState } from 'react';\nimport { DiceRollResult, formatDiceRoll, parseDiceRoll, roll } from '../engine/roll';\nimport { DobasEredmeny } from '../components/DobasEredmeny';\nimport { Button, Grid, GridRow, Input, Label } from 'semantic-ui-react';\n\nconst DICE_ROLLS = [2, 3, 5, 6, 10, 100];\nconst PLUS = [1, 2, 3, 5, 10];\nconst HISTORY_LENGTH = 10;\n\nexport const Kockadobo: React.FC<{}> = () => {\n    const [input, setInput] = useState('');\n    const [result, setResult] = useState({} as DiceRollResult);\n    const [history, addToHistory] = useReducer((prev: Array<string>, elem: string) => {\n        if (prev[0] === elem) {\n            return prev;\n        }\n        return [elem, ...prev.slice(0, HISTORY_LENGTH - 1)];\n    }, []);\n\n    const dob = useCallback(() => {\n        setResult(roll(input));\n        addToHistory(input);\n    }, [input, setResult, addToHistory]);\n\n    const setKocka = useCallback((k: number) => {\n        const diceRoll = parseDiceRoll(input);\n        if (diceRoll.die === k) {\n            diceRoll.numDice++;\n        } else {\n            diceRoll.die = k;\n            diceRoll.numDice = 1;\n        }\n        setInput(formatDiceRoll(diceRoll));\n    }, [input, setInput]);\n\n    const setPlus = useCallback((k: number) => {\n        const diceRoll = parseDiceRoll(input);\n        if (k === 0) {\n            diceRoll.plus = 0;\n        } else {\n            diceRoll.plus += k;\n        }\n        setInput(formatDiceRoll(diceRoll));\n    }, [input, setInput]);\n\n\n    return <Grid>\n        <GridRow>\n            <Input labelPosition='right' value={input} onChange={e => setInput(e.target.value)}>\n                <Label basic pointing='right'>Dobás</Label>\n                <input />\n                <DobasEredmeny pointing='left' result={result} />\n                <Button primary disabled={!input} onClick={dob}>Dob</Button>\n            </Input>\n        </GridRow>\n        <GridRow>\n            <Button as='div' labelPosition='left'>\n                <Label basic pointing='right'>Kocka</Label>\n                {DICE_ROLLS.map(r => <Button onClick={() => setKocka(r)}>k{r}</Button>)}\n            </Button>\n        </GridRow>\n        <GridRow>\n            <Button as='div' labelPosition='left'>\n                <Label basic pointing='right'>Plusz</Label>\n                {[...PLUS].reverse().map(r => <Button onClick={() => setPlus(-r)}>-{r}</Button>)}\n                <Button secondary onClick={() => setPlus(0)}>0</Button>\n                {PLUS.map(r => <Button onClick={() => setPlus(r)}>+{r}</Button>)}\n            </Button>\n        </GridRow>\n        <GridRow>\n            <Button as='div' labelPosition='left'>\n                <Label basic pointing='right'>Ó, újra</Label>\n                {history.map(h => <Button color='olive' onClick={() => setInput(h)}>{h}</Button>)}\n            </Button>\n        </GridRow>\n    </Grid>\n}","import { DiceRoll, DiceRollResult, parseDiceRoll, roll } from \"./roll\";\n\nexport interface Dobas {\n    roll: DiceRoll;\n    result?: DiceRollResult;\n}\n\nexport class DobasMatrix {\n    readonly values: Record<string, Record<string, Dobas>>;\n    readonly sum: Record<string, number>;\n\n    constructor(readonly keys: Array<string>) {\n        this.values = {};\n        this.sum = {};\n    }\n\n    add = (name: string, dobas: Record<string, string | number>): DobasMatrix => {\n        this.values[name] = {};\n        if (dobas) {\n            this.keys.forEach(key => {\n                this.values[name][key] = {\n                    roll: parseDiceRoll(dobas[key]?.toString())\n                }\n            });\n        }\n        return this;\n    };\n\n    roll = (keys?: Array<string>): DobasMatrix => {\n        this.keys.filter(key => !keys || keys.indexOf(key) !== -1).forEach(key => {\n            Object.keys(this.values).forEach(name => {\n                const dobas = this.values[name][key];\n                dobas.result = dobas ? roll(dobas.roll) : { value: 0, details: '' };\n                this.sum[key] = Object.values(this.values).map(value => value[key].result?.value).reduce((a, b) => (a ?? 0) + (b ?? 0), 0) ?? 0;\n            });\n        })\n        return this;\n    }\n\n    clearRolls = (): DobasMatrix => {\n        this.keys.forEach(key => {\n            Object.keys(this.values).forEach(name => {\n                const dobas = this.values[name][key];\n                delete dobas.result;\n            });\n        });\n        return this;\n    }\n}\n\n","//todo: ugras\n\nimport { Fegyver } from \"./karakter\";\n\nexport interface Harcertek {\n    ke: number;\n    te: number;\n    ve: number;\n    ce: number;\n}\n\nexport const HARCERTEK_DISPLAY_NAMES = { 'ke': 'KÉ', 'te': 'TÉ', 've': 'VÉ', 'ce': 'CÉ', 'sebzes': 'Sebzés' };\n\nexport const FEGYVER_KEPZETTSEG: Record<string, Harcertek> = {\n    \"képzetlen\": {\n        ke: -10,\n        te: -25,\n        ve: -20,\n        ce: -30\n    },\n    \"képzetlen, fejvadász\": {\n        ke: -5,\n        te: -5,\n        ve: -10,\n        ce: -15\n    },\n    \"Af\": {\n        ke: 0,\n        te: 0,\n        ve: 0,\n        ce: 0\n    },\n    \"Mf\": {\n        ke: 5,\n        te: 10,\n        ve: 10,\n        ce: 10\n    }\n}\n\nexport const FEGYVERTELEN: Fegyver = {\n    name: 'fegyver nélkül',\n    harcertek: {\n        ke: 0,\n        te: 0,\n        ve: 0,\n        ce: 0,\n    },\n    tamPerKor: 0,\n    sebzes: '0'\n};\n\n\nexport const PUSZTA_KEZ_AF: Fegyver = {\n    name: 'Ököl',\n    harcertek: {\n        ke: 4,\n        te: 1,\n        ve: 10,\n        ce: 0,\n    },\n    tamPerKor: 2,\n    sebzes: '1k2'\n}\n\nexport const PUSZTA_KEZ_MF: Fegyver = {\n    name: 'Ököl',\n    harcertek: {\n        ke: 4,\n        te: 1,\n        ve: 10,\n        ce: 0,\n    },\n    tamPerKor: 2,\n    sebzes: '1k6'\n}\n\nexport const FEGYVEREK: Array<Fegyver> = [\n    {\n        name: 'Tőr',\n        harcertek: {\n            ke: 10,\n            te: 8,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2\n    },\n    {\n        name: 'Tőr, dobó',\n        harcertek: {\n            ke: 10,\n            te: 11,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2\n    },\n    {\n        name: 'Tüskés buzogány',\n        harcertek: {\n            ke: 7,\n            te: 12,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1\n    },\n    {\n        name: 'Hajítóbárd',\n        harcertek: {\n            ke: 9,\n            te: 10,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2\n    },\n    {\n        name: 'Dobóháló',\n        harcertek: {\n            ke: 1,\n            te: 8,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '0',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Buzogány, shadleki',\n        harcertek: {\n            ke: 8,\n            te: 13,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1\n    },\n    {\n        name: 'Csatabárd, egykezes',\n        harcertek: {\n            ke: 5,\n            te: 12,\n            ve: 11,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1\n    },\n    {\n        name: 'Csatabárd, kétkezes',\n        harcertek: {\n            ke: 0,\n            te: 8,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '3k6',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Csatacsákány',\n        harcertek: {\n            ke: 5,\n            te: 11,\n            ve: 8,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, rövid',\n        harcertek: {\n            ke: 9,\n            te: 12,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, hosszú',\n        harcertek: {\n            ke: 6,\n            te: 14,\n            ve: 16,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, másfélkezes',\n        harcertek: {\n            ke: 4,\n            te: 13,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '2k6',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, lovagi',\n        harcertek: {\n            ke: 2,\n            te: 10,\n            ve: 7,\n            ce: 0,\n        },\n        sebzes: '2k6+2',\n        tamPerKor: 1\n    },\n    {\n        name: 'Kard, pallos',\n        harcertek: {\n            ke: 0,\n            te: 6,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '3k6+2',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Kard, szablya',\n        harcertek: {\n            ke: 7,\n            te: 15,\n            ve: 17,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, dzsenn szablya',\n        harcertek: {\n            ke: 9,\n            te: 20,\n            ve: 17,\n            ce: 0,\n        },\n        sebzes: '1k6+3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, jatagán',\n        harcertek: {\n            ke: 7,\n            te: 14,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, handzsár',\n        harcertek: {\n            ke: 6,\n            te: 14,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '1k6+3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, fejvadász',\n        harcertek: {\n            ke: 8,\n            te: 16,\n            ve: 16,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, Slan',\n        harcertek: {\n            ke: 8,\n            te: 20,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k10+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kard, kígyó',\n        harcertek: {\n            ke: 6,\n            te: 14,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kés',\n        harcertek: {\n            ke: 10,\n            te: 4,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k5',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Mara-sequor',\n        harcertek: {\n            ke: 7,\n            te: 16,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '2k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Ramiera',\n        harcertek: {\n            ke: 8,\n            te: 17,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Sequor',\n        harcertek: {\n            ke: 8,\n            te: 16,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Slan csillag',\n        harcertek: {\n            ke: 10,\n            te: 4,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 3,\n    },\n    {\n        name: 'Tőr, Slan',\n        harcertek: {\n            ke: 9,\n            te: 14,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Tőrkard',\n        harcertek: {\n            ke: 9,\n            te: 12,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Bot, hosszú',\n        harcertek: {\n            ke: 4,\n            te: 10,\n            ve: 16,\n            ce: 0,\n        },\n        sebzes: '1k5',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Bot, rövid',\n        harcertek: {\n            ke: 9,\n            te: 9,\n            ve: 17,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Bot, furkós',\n        harcertek: {\n            ke: 2,\n            te: 7,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogány, egykezes',\n        harcertek: {\n            ke: 7,\n            te: 11,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogány, kétkezes',\n        harcertek: {\n            ke: 0,\n            te: 7,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '3k6',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Buzogány, tüskés',\n        harcertek: {\n            ke: 7,\n            te: 12,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogány, tollas',\n        harcertek: {\n            ke: 7,\n            te: 12,\n            ve: 13,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Buzogány, láncos',\n        harcertek: {\n            ke: 4,\n            te: 13,\n            ve: 11,\n            ce: 0,\n        },\n        sebzes: '1k6+3',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Cséphadaró',\n        harcertek: {\n            ke: 1,\n            te: 6,\n            ve: 5,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Harcikalapács',\n        harcertek: {\n            ke: 5,\n            te: 8,\n            ve: 10,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Alabárd',\n        harcertek: {\n            ke: 1,\n            te: 14,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '2k6+2',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Dárda',\n        harcertek: {\n            ke: 8,\n            te: 13,\n            ve: 5,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kopja, könnyű',\n        harcertek: {\n            ke: 2,\n            te: 11,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Kopja, lovas',\n        harcertek: {\n            ke: 1,\n            te: 15,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n        lassu: true\n    },\n    {\n        name: 'Kopja, nehézlovas',\n        harcertek: {\n            ke: 0,\n            te: 16,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '2k10',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Lándzsa',\n        harcertek: {\n            ke: 4,\n            te: 12,\n            ve: 12,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Szigony',\n        harcertek: {\n            ke: 4,\n            te: 15,\n            ve: 10,\n            ce: 0,\n        },\n        sebzes: '1k10+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Fúvócső',\n        harcertek: {\n            ke: 8,\n            te: 0,\n            ve: 0,\n            ce: 7,\n        },\n        lotav: 30,\n        sebzes: '0',\n        tamPerKor: 3,\n    },\n    {\n        name: 'Íj, rövid',\n        harcertek: {\n            ke: 5,\n            te: 0,\n            ve: 0,\n            ce: 4,\n        },\n        lotav: 90,\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Íj, hosszú',\n        harcertek: {\n            ke: 4,\n            te: 0,\n            ve: 0,\n            ce: 6,\n        },\n        lotav: 110,\n        sebzes: '1k6+1',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Íj, visszacsapó',\n        harcertek: {\n            ke: 3,\n            te: 0,\n            ve: 0,\n            ce: 8,\n        },\n        lotav: 180,\n        sebzes: '1k10',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Íj, elf',\n        harcertek: {\n            ke: 6,\n            te: 0,\n            ve: 0,\n            ce: 10,\n        },\n        lotav: 120,\n        sebzes: '2k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Nyílpuska, aquir',\n        harcertek: {\n            ke: 5,\n            te: 0,\n            ve: 0,\n            ce: 18,\n        },\n        lotav: 35,\n        sebzes: '1k5',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Nyílpuska, kézi',\n        harcertek: {\n            ke: 3,\n            te: 0,\n            ve: 0,\n            ce: 14,\n        },\n        lotav: 30,\n        sebzes: '1k3',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Nyílpuska, kahrei',\n        harcertek: {\n            ke: 9,\n            te: 0,\n            ve: 0,\n            ce: 13,\n        },\n        lotav: 30,\n        sebzes: '1k3',\n        tamPerKor: 3,\n    },\n    {\n        name: 'Nyílpuska, könnyű',\n        harcertek: {\n            ke: 2,\n            te: 0,\n            ve: 0,\n            ce: 16,\n        },\n        lotav: 50,\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Nyílpuska, nehéz',\n        harcertek: {\n            ke: 0,\n            te: 0,\n            ve: 0,\n            ce: 15,\n        },\n        lotav: 60,\n        sebzes: '1k6+1',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Nyílpuska, shadoni páncéltörő',\n        harcertek: {\n            ke: 0,\n            te: 0,\n            ve: 0,\n            ce: 17,\n        },\n        lotav: 80,\n        sebzes: '2k10',\n        tamPerKor: 5,\n        lassu: true\n    },\n    {\n        name: 'Parittya',\n        harcertek: {\n            ke: 2,\n            te: 0,\n            ve: 0,\n            ce: 1,\n        },\n        lotav: 100,\n        sebzes: '1k5',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Bola',\n        harcertek: {\n            ke: 2,\n            te: 10,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k5',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Dobóháló',\n        harcertek: {\n            ke: 1,\n            te: 8,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '0',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Garott',\n        harcertek: {\n            ke: 0,\n            te: 5,\n            ve: -20,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Hárítótőr',\n        harcertek: {\n            ke: 8,\n            te: 4,\n            ve: 19,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Korbács',\n        harcertek: {\n            ke: 4,\n            te: 0,\n            ve: 6,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Lasszó',\n        harcertek: {\n            ke: 0,\n            te: 1,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '0',\n        tamPerKor: 3,\n        lassu: true\n    },\n    {\n        name: 'Ostor',\n        harcertek: {\n            ke: 3,\n            te: 6,\n            ve: 0,\n            ce: 0,\n        },\n        sebzes: '1k2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Vasököl',\n        harcertek: {\n            ke: 9,\n            te: 2,\n            ve: 5,\n            ce: 0,\n        },\n        sebzes: '1k3',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Dzsambia',\n        harcertek: {\n            ke: 10,\n            te: 8,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Mesterkard',\n        harcertek: {\n            ke: 7,\n            te: 16,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Predoci egyeneskard',\n        harcertek: {\n            ke: 7,\n            te: 16,\n            ve: 15,\n            ce: 0,\n        },\n        sebzes: '1k10',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Tahdzsi',\n        harcertek: {\n            ke: 9,\n            te: 11,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+1',\n        tamPerKor: 1,\n    },\n    {\n        name: 'Béltépő',\n        harcertek: {\n            ke: 10,\n            te: 8,\n            ve: 2,\n            ce: 0,\n        },\n        sebzes: '1k6+2',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Lagoss',\n        harcertek: {\n            ke: 8,\n            te: 14,\n            ve: 14,\n            ce: 0,\n        },\n        sebzes: '1k6+4',\n        tamPerKor: 2,\n    },\n    {\n        name: 'Pugoss',\n        harcertek: {\n            ke: 12,\n            te: 6,\n            ve: 4,\n            ce: 0,\n        },\n        sebzes: '1k6',\n        tamPerKor: 2,\n    },\n];\n","import { Harcertek } from \"./harc\";\nimport { DiceRollResult } from \"./roll\"\n\nexport interface KepessegDobas {\n    ero: string;\n    gy: string;\n    ugy: string;\n    ak: string;\n    egs: string;\n    sz: string;\n    int: string;\n    ae: string;\n    asz: string;\n    erz: string;\n}\n\nexport type KepessegDobasResult = Record<keyof KepessegDobas, DiceRollResult>;\n\nexport const KEPESSEG_NEV: Record<keyof KepessegDobas, string> = {\n    ero: 'Erő',\n    gy: 'Gyorsaság',\n    ugy: 'Ügyesség',\n    ak: 'Állóképesség',\n    egs: 'Egészség',\n    sz: 'Szépség',\n    int: 'Intelligencia',\n    ae: 'Akaraterő',\n    asz: 'Asztrál',\n    erz: 'Érzékelés'\n}\n\nexport const FAJ_KEPESSEG: Record<string, KepessegDobas> = {\n    \"ember\": {\n        ero: '0',\n        gy: '0',\n        ugy: '0',\n        ak: '0',\n        egs: '0',\n        sz: '0',\n        int: '0',\n        ae: '0',\n        asz: '0',\n        erz: '0'\n    },\n    \"elf\": {\n        ero: '-2',\n        gy: '1',\n        ugy: '1',\n        ak: '-1',\n        egs: '0',\n        sz: '1',\n        int: '0',\n        ae: '0',\n        asz: '0',\n        erz: '2'\n    },\n    \"félelf\": {\n        ero: '-1',\n        gy: '1',\n        ugy: 'ö',\n        ak: '0',\n        egs: '0',\n        sz: '0',\n        int: '0',\n        ae: '0',\n        asz: '0',\n        erz: '1'\n    },\n    \"törp\": {\n        ero: '1',\n        gy: '1',\n        ugy: 'ö',\n        ak: '1',\n        egs: '1',\n        sz: '-2',\n        int: '-1',\n        ae: '0',\n        asz: '-1',\n        erz: '0'\n    },\n    \"udvari ork\": {\n        ero: '2',\n        gy: '0',\n        ugy: 'ö',\n        ak: '1',\n        egs: '2',\n        sz: '-3',\n        int: '1',\n        ae: '0',\n        asz: '-3',\n        erz: '1'\n    }\n}\n\nexport const FOKASZTOK: Record<string, Array<string>> = {\n    'harcos': ['harcos', 'gladiátor', 'fejvadász', 'lovag'],\n    'szerencsevadász': ['tolvaj', 'bárd'],\n    'pap': ['pap', 'paplovag'],\n    'harcművész': ['harcművész', 'kardművész'],\n    'varázsló': ['boszorkánymester', 'tűzvarázsló', 'varázsló']\n};\n\nexport const KASZTOK: Record<string, Kaszt> = {\n    harcos: {\n        kepesseg: {\n            ero: 'k6 + 12 + kf',\n            gy: '2k6 + 6 + kf',\n            ugy: '2k6 + 6 + kf',\n            ak: 'k10 + 8 + kf',\n            egs: 'k10+10',\n            sz: '3k6(2x)',\n            int: '3k6(2x)',\n            ae: '2k6+6',\n            asz: '3k6(2x)',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 9,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 5\n        },\n        epfp: {\n            ep: 7,\n            fp: 6,\n            fpPerSzint: 'k6+4'\n        }\n    },\n    lovag: {\n        kepesseg: {\n            ero: 'k6 + 12 + kf',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: 'k10 + 8 + kf',\n            egs: 'k10+10',\n            sz: '2k6+6+kf',\n            int: '2k6+6',\n            ae: 'k10+8',\n            asz: '3k6(2x)',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 5,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 5,\n                ve: 5,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 7,\n            fp: 6,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'gladiátor': {\n        kepesseg: {\n            ero: 'k6 + 12 + kf',\n            gy: '2k6 + 6 + kf',\n            ugy: '2k6 + 6 + kf',\n            ak: 'k6 + 12 + kf',\n            egs: 'k10+10',\n            sz: '2k6+6',\n            int: '3k6',\n            ae: '3k6',\n            asz: '3k6',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 9,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 4,\n                ve: 4,\n                ce: 0\n            },\n            szabad: 4\n        },\n        epfp: {\n            ep: 8,\n            fp: 7,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'fejvadász': {\n        kepesseg: {\n            ero: '2k6+6',\n            gy: 'k6+12+kf',\n            ugy: 'k10+8',\n            ak: 'k6 + 12 + kf',\n            egs: 'k10+10',\n            sz: '3k6',\n            int: '3k6(2x)',\n            ae: 'k10+8',\n            asz: '2k6+6',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 4,\n                ve: 4,\n                ce: 0\n            },\n            szabad: 3\n        },\n        epfp: {\n            ep: 6,\n            fp: 7,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    tolvaj: {\n        kepesseg: {\n            ero: '3k6(2x)',\n            gy: 'k10 + 8 + kf',\n            ugy: 'k6 + 12 + kf',\n            ak: '3k6(2x)',\n            egs: '3k6(2x)',\n            sz: '2k6 + 6',\n            int: '2k6 + 6',\n            ae: '3k6',\n            asz: '3k6(2x)',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 8,\n            te: 17,\n            ve: 72,\n            ce: 10\n        },\n        hm: {\n            kotelezo: {\n                ke: 1,\n                te: 1,\n                ve: 1,\n                ce: 0\n            },\n            szabad: 4\n        },\n        epfp: {\n            ep: 4,\n            fp: 5,\n            fpPerSzint: 'k6+3'\n        }\n    },\n    'bárd': {\n        kepesseg: {\n            ero: 'k10+8',\n            gy: 'k10+8+kf',\n            ugy: 'k10 + 8',\n            ak: '2k6+6',\n            egs: '2k6+6',\n            sz: 'k6+12+kf',\n            int: 'k10+8(2x)',\n            ae: '2k6+6',\n            asz: 'k10+8',\n            erz: 'k10+8'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 10\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 2,\n                ve: 2,\n                ce: 0\n            },\n            szabad: 5\n        },\n        epfp: {\n            ep: 5,\n            fp: 6,\n            fpPerSzint: 'k6+3'\n        }\n    },\n    pap: {\n        kepesseg: {\n            ero: '2k6+6',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: '2k6+6',\n            egs: 'k10+8',\n            sz: 'k10+10',\n            int: 'k10+8',\n            ae: 'k10+8+kf',\n            asz: 'k6+12',\n            erz: 'k10+8'\n        },\n        alapHarcertek: {\n            ke: 5,\n            te: 17,\n            ve: 72,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 6,\n            fp: 6,\n            fpPerSzint: 'k6+2'\n        }\n    },\n    paplovag: {\n        kepesseg: {\n            ero: 'k10+8+kf',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: 'k10+8',\n            egs: 'k10+10',\n            sz: 'k10+8',\n            int: '2k6 + 6',\n            ae: 'k10+8',\n            asz: 'k10+8+kf',\n            erz: 'k10+8'\n        },\n        alapHarcertek: {\n            ke: 5,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 3\n        },\n        epfp: {\n            ep: 8,\n            fp: 7,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'harcművész': {\n        kepesseg: {\n            ero: 'k10+8',\n            gy: 'k6+14',\n            ugy: 'k6+12',\n            ak: 'k6+12',\n            egs: 'k10+10',\n            sz: '3k6(2x)',\n            int: '3k6(2x)',\n            ae: 'k6+12',\n            asz: 'k10+8',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 4,\n            fp: 8,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'kardművész': {\n        kepesseg: {\n            ero: 'k10+8',\n            gy: 'k6+12+kf',\n            ugy: 'k6+14',\n            ak: 'k10+8',\n            egs: 'k10+8',\n            sz: '3k6(2x)',\n            int: '2k6 + 6',\n            ae: 'k6+12',\n            asz: 'k10+8',\n            erz: 'k6+12'\n        },\n        alapHarcertek: {\n            ke: 10,\n            te: 20,\n            ve: 75,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 4,\n            fp: 8,\n            fpPerSzint: 'k6+5'\n        }\n    },\n    'boszorkánymester': {\n        kepesseg: {\n            ero: '3k6(2x)',\n            gy: 'k10+8',\n            ugy: 'k6+12+kf',\n            ak: '3k6(2x)',\n            egs: '2k6+6',\n            sz: '3k6',\n            int: '2k6 + 6',\n            ae: '2k6+6',\n            asz: '2k6+6',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 7,\n            te: 17,\n            ve: 72,\n            ce: 5\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 1,\n                ve: 1,\n                ce: 0\n            },\n            szabad: 5\n        },\n        epfp: {\n            ep: 3,\n            fp: 4,\n            fpPerSzint: 'k6+1'\n        }\n    },\n    'tűzvarázsló': {\n        kepesseg: {\n            ero: '2k6+6',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: '2k6+6',\n            egs: '2k6+6',\n            sz: '3k6',\n            int: '2k6 + 6',\n            ae: '2k6+6',\n            asz: '2k6+6',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 6,\n            te: 17,\n            ve: 72,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 3,\n                ve: 3,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 5,\n            fp: 4,\n            fpPerSzint: 'k6+1'\n        }\n    },\n    'varázsló': {\n        kepesseg: {\n            ero: '3k6',\n            gy: '3k6(2x)',\n            ugy: '3k6(2x)',\n            ak: '3k6',\n            egs: '3k6(2x)',\n            sz: '3k6',\n            int: 'k6+12+kf',\n            ae: 'k6+12+kf',\n            asz: 'k6+12+kf',\n            erz: '2k6+6'\n        },\n        alapHarcertek: {\n            ke: 2,\n            te: 15,\n            ve: 70,\n            ce: 0\n        },\n        hm: {\n            kotelezo: {\n                ke: 0,\n                te: 1,\n                ve: 1,\n                ce: 0\n            },\n            szabad: 2\n        },\n        epfp: {\n            ep: 3,\n            fp: 2,\n            fpPerSzint: 'k6'\n        }\n    },\n}\n\nexport interface Kaszt {\n    kepesseg: KepessegDobas,\n    alapHarcertek: Harcertek,\n    hm: { kotelezo: Harcertek, szabad: number },\n    epfp: { ep: number, fp: number, fpPerSzint: string }\n}\n\nexport function osszead<T>(r1: Record<keyof T, number>, r2: Record<keyof T, number>): Record<keyof T, number> {\n    const keys = [...new Set([...Object.keys(r1), ...Object.keys(r2)])];\n    return keys.reduce((acc, curr) => { acc[curr as keyof T] = r1[curr as keyof T] + r2[curr as keyof T]; return acc; }, {} as Record<keyof T, number>)\n}","import { DobasMatrix } from \"./dobasmatrix\";\nimport { FEGYVERTELEN, FEGYVER_KEPZETTSEG, Harcertek } from \"./harc\";\nimport { KASZTOK, osszead } from \"./kasztok\";\nimport { roll } from \"./roll\";\n\n\nexport interface KarakterKepesseg {\n    ero: number;\n    gy: number;\n    ugy: number;\n    ak: number;\n    egs: number;\n    sz: number;\n    int: number;\n    ae: number;\n    asz: number;\n}\n\nexport interface KarakterInfo {\n    id: string;\n    name: string;\n}\n\nexport interface KarakterInfo {\n    id: string;\n    categories: Array<string>;\n    name: string;\n}\n\nexport interface Karakter extends KarakterInfo {\n    faj: string;\n    kaszt: string;\n    szint: number;\n    kepessegek: KarakterKepesseg;\n    kepzettsegek: Array<Kepzettseg>;\n    alapHarcertek: Harcertek;\n    hmHarcertek: Harcertek;\n    hm: number;\n    fegyverek: Array<Fegyver>;\n    valasztottFegyver?: number;\n    maxFp: number;\n    maxEp: number;\n    fp: number;\n    ep: number;\n}\n\nexport interface Fegyver {\n    name: string;\n    harcertek: Harcertek;\n    sebzes: string;\n    tamPerKor: number;\n    lassu?: boolean;\n    lotav?: number;\n}\n\nexport interface Kepzettseg {\n    name: string;\n    target?: string;\n    szint: '1' | '2' | '3' | '4' | '5' | 'Af' | 'Mf' | number;\n    kp: number;\n}\n\nexport const folottiResz = (kepesseg: number, hatar: number = 10) => {\n    return Math.max(0, kepesseg - hatar);\n}\n\nexport const szintlepes = (karakter: Karakter): Karakter => {\n    karakter.szint++;\n    const hm = KASZTOK[karakter.kaszt].hm;\n    karakter.hm += hm.szabad;\n    karakter.hmHarcertek = osszead(karakter.hmHarcertek, hm.kotelezo);\n    karakter.maxFp += roll(KASZTOK[karakter.kaszt].epfp.fpPerSzint).value;\n    karakter.fp = karakter.maxFp;\n    return karakter;\n}\n\nconst calculateKepessegHarcertek = (karakter: Karakter, fegyver: Fegyver): Record<string, string | number> => {\n    return {\n        ke: folottiResz(karakter.kepessegek.gy) + folottiResz(karakter.kepessegek.ugy),\n        te: folottiResz(karakter.kepessegek.gy) + folottiResz(karakter.kepessegek.ugy) + folottiResz(karakter.kepessegek.ero),\n        ve: folottiResz(karakter.kepessegek.gy) + folottiResz(karakter.kepessegek.ugy),\n        ce: folottiResz(karakter.kepessegek.ugy),\n        sebzes: folottiResz(karakter.kepessegek.ero, 16)\n    }\n}\n\nconst calculateSebesulesHatrany = (karakter: Karakter): Harcertek | null => {\n    if (karakter.ep <= karakter.maxEp * 0.25) {\n        return {\n            ke: -15,\n            te: -20,\n            ve: -25,\n            ce: -30\n        }\n    } else if (karakter.ep <= karakter.maxEp * 0.5 || karakter.fp < karakter.maxFp * 0.1) {\n        return {\n            ke: -5,\n            te: -10,\n            ve: -10,\n            ce: -5\n        }\n    }\n    return null;\n}\n\nexport const calculateHarcertek = (karakter: Karakter, fegyver: Fegyver): DobasMatrix => {\n    const fegyvertelen = fegyver.name === FEGYVERTELEN.name;\n    const okol = fegyver.name === 'Puszta kéz';\n    const lofegyver: boolean = fegyver.harcertek.ce > 0;\n    const kepzettseg: Kepzettseg | undefined = karakter.kepzettsegek.find(k => okol ? (k.name === 'Ökölharc') : (k.name === 'Fegyverhasználat - ' + fegyver.name.toLowerCase()));\n    const ret: DobasMatrix = new DobasMatrix(lofegyver ? ['ke', 'ce', 've', 'sebzes'] : ['ke', 'te', 've', 'sebzes']);\n    ret.add('alap', karakter.alapHarcertek as unknown as Record<string, number>);\n    ret.add('hm', karakter.hmHarcertek as unknown as Record<string, number>)\n    if (!fegyvertelen) {\n        ret.add(fegyver.name, { ...fegyver.harcertek, 'sebzes': fegyver.sebzes });\n    }\n    ret.add('kepessegek', calculateKepessegHarcertek(karakter, fegyver));\n    if (!kepzettseg) {\n        if (!fegyvertelen) {\n            ret.add('képzetlen', { ...FEGYVER_KEPZETTSEG['képzetlen'] });\n        }\n    } else if (!okol) {\n        ret.add('Képzettség ' + kepzettseg.szint, { ...FEGYVER_KEPZETTSEG[kepzettseg.szint] });\n    }\n\n    const sebesules = calculateSebesulesHatrany(karakter);\n    if (sebesules) {\n        ret.add('Sebesülés', { ...sebesules });\n    }\n    return ret;\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { DobasMatrix } from '../engine/dobasmatrix';\nimport { formatDiceRoll } from '../engine/roll';\nimport { DobasEredmeny } from './DobasEredmeny';\n\n\nexport const DobasMatrixDisplay: React.FC<{ matrix: DobasMatrix, keyMap: Record<string, string>, direction: 'horizontal' | 'vertical', title: string }> = ({ matrix, keyMap, direction, title }) => {\n    const displayCell = (name: string, key: string) => {\n        const value = matrix.values[name][key];\n        const constantRoll = (value?.roll?.die ?? 0) === 0;\n        const rollString = value?.roll ? formatDiceRoll(value.roll) : '';\n        return <Table.Cell key={name + '-' + key}>{rollString}{!constantRoll && value?.result && <> = <DobasEredmeny result={value?.result} /></>}</Table.Cell>;\n    }\n\n    if (direction === 'horizontal') {\n        return <Table celled striped definition>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell key='title'>{title}</Table.HeaderCell>\n                    {matrix.keys.map(key => <Table.HeaderCell key={key}>{keyMap[key]}</Table.HeaderCell>)}\n                </Table.Row>\n            </Table.Header>\n            <Table.Body>\n                {Object.keys(matrix.values).map(name => {\n                    return <Table.Row key={name}>\n                        <Table.HeaderCell key={name}>{name}</Table.HeaderCell>\n                        {matrix.keys.map(key => displayCell(name, key))}\n                    </Table.Row>\n                })}\n                <tr key='footer'>\n                </tr>\n            </Table.Body>\n            <Table.Footer>\n                <Table.HeaderCell title='sum'>Összeg</Table.HeaderCell>\n                {matrix.keys.map(key => <Table.HeaderCell key={key}>{matrix.sum[key]}</Table.HeaderCell>)}\n            </Table.Footer>\n        </Table>\n    } else {\n        return <Table celled striped definition>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell key='title'>{title}</Table.HeaderCell>\n                    {Object.keys(matrix.values).map(name => <Table.HeaderCell key={name}>{name}</Table.HeaderCell>)}\n                    <Table.HeaderCell key='sum'>Összeg</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n            <Table.Body>\n                {matrix.keys.map(key => {\n                    return <Table.Row key={key}>\n                        <Table.HeaderCell key='title'>{keyMap[key]}</Table.HeaderCell>\n                        {Object.keys(matrix.values).map(name => displayCell(name, key))}\n                        <Table.HeaderCell key='sum'>{matrix.sum[key]}</Table.HeaderCell>\n                    </Table.Row>\n                })}\n            </Table.Body>\n        </Table>\n\n    }\n}","import React from 'react';\nimport { Button, Label } from 'semantic-ui-react';\n\ninterface SelectionProps { label: JSX.Element | string, selected: string, setSelected: (newValue: string) => unknown, options: Array<string>, structure?: Record<string, Array<string>> };\n\nexport const Selection: React.FC<SelectionProps> = ({ label, selected, setSelected, options, structure }) => {\n    if (!structure) {\n        return <Button labelPosition='left' as='div'>\n            <Label basic pointing='right'>\n                {label}\n            </Label>\n            {options.map(n => <Button active={selected === n} onClick={() => setSelected(n)}>{n}</Button>)}\n        </Button>\n    } else {\n        return <Button labelPosition='left' as='div'>\n            <Label basic pointing='right'>\n                {label}\n            </Label>\n            {Object.keys(structure).map(fk => <Button.Group as='div' vertical>\n                <Label tag color='yellow'>{fk}</Label>\n                {options.filter(o => structure[fk].includes(o)).map((n, i) => <Button compact active={selected === n} onClick={() => setSelected(n)}>{n}</Button>)}\n            </Button.Group>\n            )}\n        </Button>\n    }\n\n}","import React, { useCallback, useState } from 'react';\nimport { Button, Grid, GridColumn, GridRow, Input, Label } from 'semantic-ui-react';\nimport { v4 } from 'uuid';\nimport { DobasMatrix } from '../engine/dobasmatrix';\nimport { FEGYVERTELEN } from '../engine/harc';\nimport { folottiResz, Karakter, KarakterKepesseg, szintlepes } from '../engine/karakter';\nimport { FAJ_KEPESSEG, FOKASZTOK, KASZTOK, KEPESSEG_NEV } from '../engine/kasztok';\nimport { roll } from '../engine/roll';\nimport { DobasMatrixDisplay } from './DobasMatrixDisplay';\nimport { Selection } from './Selection';\n\nexport const KarakterAlkotas: React.FC<{ save: (karakter: Karakter) => unknown }> = ({ save }) => {\n    const [selectedKaszt, setSelectedKaszt] = useState('');\n    const [selectedFaj, setSelectedFaj] = useState('');\n    const [matrix, setMatrix] = useState<DobasMatrix>(new DobasMatrix(Object.keys(KEPESSEG_NEV)));\n    const [nev, setNev] = useState('');\n    const [szint, setSzint] = useState<number | undefined>(1);\n\n    const updateMatrix = useCallback((kaszt: string, faj: string, roll?: boolean) => {\n        const newMatrix = new DobasMatrix(Object.keys(KEPESSEG_NEV));\n        if (KASZTOK[kaszt]) {\n            newMatrix.add('Kaszt: ' + kaszt, KASZTOK[kaszt].kepesseg as unknown as Record<string, string>);\n        }\n        if (FAJ_KEPESSEG[faj]) {\n            newMatrix.add('Faj: ' + faj, FAJ_KEPESSEG[faj] as unknown as Record<string, string>);\n        }\n        if (roll) {\n            newMatrix.roll();\n        }\n        setMatrix(newMatrix);\n    }, [setMatrix]);\n\n    const dob = useCallback(() => {\n        updateMatrix(selectedKaszt, selectedFaj, true);\n    }, [updateMatrix, selectedFaj, selectedKaszt])\n\n\n    const changeKasztSelection = useCallback((s: string) => {\n        setSelectedKaszt(s);\n        updateMatrix(s, selectedFaj)\n    }, [setSelectedKaszt, updateMatrix, selectedFaj])\n\n    const changeFajSelection = useCallback((s: string) => {\n        setSelectedFaj(s);\n        updateMatrix(selectedKaszt, s)\n    }, [setSelectedFaj, selectedKaszt, updateMatrix])\n\n    const saveKarakter = useCallback(() => {\n        const epfp = KASZTOK[selectedKaszt].epfp;\n        const ep = epfp.ep + folottiResz(matrix.sum.egs);\n        const fp = epfp.fp + folottiResz(matrix.sum.ae) + folottiResz(matrix.sum.ak) + roll(epfp.fpPerSzint).value;\n        const karakter: Karakter = {\n            id: v4(),\n            categories: [],\n            kepessegek: matrix.sum as unknown as KarakterKepesseg,\n            name: nev,\n            kaszt: selectedKaszt,\n            faj: selectedFaj,\n            szint: 0,\n            hm: 0,\n            maxEp: ep,\n            maxFp: fp,\n            ep,\n            fp,\n            hmHarcertek: { ke: 0, te: 0, ve: 0, ce: 0 },\n            kepzettsegek: [],\n            alapHarcertek: KASZTOK[selectedKaszt].alapHarcertek,\n            fegyverek: [FEGYVERTELEN]\n        };\n        [...Array(szint).keys()].forEach(() => szintlepes(karakter));\n        save(karakter);\n    }, [save, selectedFaj, selectedKaszt, matrix, nev, szint])\n\n    return <Grid relaxed>\n        <GridRow columns={2} divided>\n            <GridColumn>\n                <div>\n                    <div>\n                        <Input fluid labelPosition='left' placeholder='Karakter neve...' error={!nev} value={nev} onChange={e => setNev(e.target.value)}>\n                            <Label pointing='right' basic>Név</Label>\n                            <input />\n                        </Input>\n                    </div>\n                    <div><Selection label='Kaszt' selected={selectedKaszt} setSelected={changeKasztSelection} options={Object.keys(KASZTOK)} structure={FOKASZTOK} /></div>\n                    <div><Selection label='Faj' selected={selectedFaj} setSelected={changeFajSelection} options={Object.keys(FAJ_KEPESSEG)} /></div>\n                    <div><Input labelPosition='left' error={szint === undefined} value={szint} onChange={e => {\n                        if (!e.target.value) {\n                            setSzint(undefined);\n                        }\n                        const value = Number(e.target.value);\n                        if (!Number.isNaN(value) && Math.floor(value) === value && value > 0) {\n                            setSzint(value);\n                        }\n                    }}>\n                        <Label pointing='right' basic>Szint</Label>\n                        <input />\n                    </Input>\n                    </div>\n                </div>\n            </GridColumn>\n            <GridColumn>\n                <DobasMatrixDisplay title='Képességek' matrix={matrix} keyMap={KEPESSEG_NEV} direction='vertical' />\n            </GridColumn>\n        </GridRow>\n        <GridRow columns={1} textAlign='center'>\n            <GridColumn>\n                <Button secondary onClick={dob}>Dob</Button>\n                <Button disabled={!nev || !szint} primary onClick={saveKarakter}>Ment</Button>\n            </GridColumn>\n        </GridRow>\n    </Grid>\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\n\nconst NumberInput: any = require('semantic-ui-react-numberinput').default;\n\nexport const EPFP: React.FC<{ maxEp: number, maxFp: number, ep: number, fp: number, onChange: (ep: number, fp: number) => unknown }> = ({ maxEp, maxFp, ep, fp, onChange }) => {\n    return <Table striped celled definition>\n        <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>Állapot</Table.HeaderCell>\n                <Table.HeaderCell>ÉP</Table.HeaderCell>\n                <Table.HeaderCell>FP</Table.HeaderCell>\n            </Table.Row>\n\n        </Table.Header>\n        <Table.Body>\n            <Table.Row>\n                <Table.HeaderCell>Max</Table.HeaderCell>\n                <Table.Cell>{maxEp}</Table.Cell>\n                <Table.Cell>{maxFp}</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n                <Table.HeaderCell>Akt</Table.HeaderCell>\n                <Table.Cell><NumberInput size='mini' allowEmptyValue value={ep} stepAmount={1} minValue={0} maxValue={maxEp} onChange={(e: any) => onChange(Math.min(maxEp, Number(e)), fp)} /></Table.Cell>\n                <Table.Cell><NumberInput size='mini' allowEmptyValue value={fp} stepAmount={1} minValue={0} maxValue={maxFp} onChange={(e: any) => onChange(ep, Math.min(maxFp, Number(e)))} /></Table.Cell>\n            </Table.Row>\n        </Table.Body>\n    </Table>\n\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { Fegyver } from '../engine/karakter';\n\nexport const FegyverLista: React.FC<{ fegyverek: Array<Fegyver>, selected?: number, onSelectionChange?: (newSelection: number) => unknown }> = ({ fegyverek, selected, onSelectionChange }) => {\n    const fegyverLista: Array<Record<string, string | number>> = fegyverek.map(fegyver => {\n        const rec: Record<string, string | number> = {};\n        rec.name = fegyver.name;\n        rec.ke = fegyver.harcertek.ke;\n        rec.te = fegyver.harcertek.te || '-';\n        rec.ve = fegyver.harcertek.ve;\n        rec.ce = fegyver.harcertek.ce || '-';\n        rec.sebzes = fegyver.sebzes;\n        rec.tamPerKor = fegyver.lassu ? '1/' + fegyver.tamPerKor : fegyver.tamPerKor;\n        rec.lotav = fegyver.lotav ?? '-';\n        return rec;\n    });\n\n    return <Table celled striped definition selectable={onSelectionChange !== undefined}>\n        <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>Fegyver</Table.HeaderCell>\n                <Table.HeaderCell>KÉ</Table.HeaderCell>\n                <Table.HeaderCell>TÉ</Table.HeaderCell>\n                <Table.HeaderCell>VÉ</Table.HeaderCell>\n                <Table.HeaderCell>CÉ</Table.HeaderCell>\n                <Table.HeaderCell>Sebzés</Table.HeaderCell>\n                <Table.HeaderCell>Tám / kör</Table.HeaderCell>\n                <Table.HeaderCell>Lőtáv</Table.HeaderCell>\n            </Table.Row>\n        </Table.Header>\n        <Table.Body>\n            {fegyverLista.map((r, i) => {\n                return <Table.Row active={selected === i} onClick={() => onSelectionChange?.(i)}>\n                    <Table.Cell>{r.name}</Table.Cell>\n                    <Table.Cell>{r.ke}</Table.Cell>\n                    <Table.Cell>{r.te}</Table.Cell>\n                    <Table.Cell>{r.ve}</Table.Cell>\n                    <Table.Cell>{r.ce}</Table.Cell>\n                    <Table.Cell>{r.sebzes}</Table.Cell>\n                    <Table.Cell>{r.tamPerKor}</Table.Cell>\n                    <Table.Cell>{r.lotav}</Table.Cell>\n                </Table.Row>\n            })}\n        </Table.Body>\n    </Table>\n}","import React, { useCallback, useState } from 'react';\nimport { Button, Grid, GridColumn, GridRow, Header, Label } from 'semantic-ui-react';\nimport { FEGYVEREK } from '../engine/harc';\nimport { Karakter, Kepzettseg } from '../engine/karakter';\nimport { FegyverLista } from './FegyverLista';\n\nexport const FegyverValaszto: React.FC<{ karakter: Karakter, save: (karakter: Karakter) => unknown }> = ({ karakter, save }) => {\n\n    const [selected, setSelected] = useState<number>();\n    const [selectedForDeletion, setSelectedForDeletion] = useState<number>();\n\n    const saveSelection = useCallback((kepzettsegSzint: string) => {\n        const fegyver = selected !== undefined ? FEGYVEREK[selected] : undefined;\n        if (fegyver) {\n            if (!karakter.fegyverek.some(f => f.name === fegyver.name)) {\n                karakter.fegyverek.push({ ...fegyver });\n            }\n            karakter.valasztottFegyver = karakter.fegyverek.findIndex(f => f.name === fegyver.name);\n            const kepzettsegName = `Fegyverhasználat - ${fegyver.name.toLowerCase()}`;\n            karakter.kepzettsegek = karakter.kepzettsegek.filter(k => k.name !== kepzettsegName);\n            if (kepzettsegSzint) {\n                const kepzettseg: Kepzettseg = {\n                    name: kepzettsegName,\n                    szint: kepzettsegSzint as any,\n                    kp: 0\n                };\n                karakter.kepzettsegek.push(kepzettseg);\n            }\n            save(karakter);\n        }\n    }, [karakter, save, selected]);\n\n    const saveDeletion = useCallback(() => {\n        if (selectedForDeletion) {\n            karakter.fegyverek = karakter.fegyverek.filter((f, i) => i !== selectedForDeletion);\n            karakter.valasztottFegyver = 0;\n            save(karakter);\n        }\n    }, [karakter, save, selectedForDeletion]);\n\n\n    return <Grid columns={3} relaxed>\n        <GridRow columns='equal'>\n            <GridColumn>\n                <Header size='large'>Választható</Header>\n                <FegyverLista fegyverek={FEGYVEREK.sort((a, b) => a.name.localeCompare(b.name))} selected={selected} onSelectionChange={setSelected}></FegyverLista>\n            </GridColumn>\n            <GridColumn>\n                <Header size='large'>Viselt</Header>\n                <FegyverLista fegyverek={karakter.fegyverek} selected={selectedForDeletion} onSelectionChange={setSelectedForDeletion}></FegyverLista>\n            </GridColumn>\n        </GridRow>\n        <GridRow columns={1} textAlign='center'>\n            <GridColumn>\n                <div>\n                    <Button as='div' labelPosition='left'>\n                        <Label pointing='right'>\n                            Használat szintje\n                        </Label>\n                        <Button disabled={selected === undefined} onClick={() => saveSelection('')}>Képzetlen</Button>\n                        <Button secondary disabled={selected === undefined} onClick={() => saveSelection('Af')}>Af</Button>\n                        <Button primary disabled={selected === undefined} onClick={() => saveSelection('Mf')}>Mf</Button>\n                    </Button>\n                    <Button negative disabled={!selectedForDeletion} onClick={saveDeletion}>Töröl</Button>\n                </div>\n            </GridColumn>\n        </GridRow>\n    </Grid>\n}","import React, { useCallback, useEffect, useState } from 'react';\nimport { Button, Table } from 'semantic-ui-react';\nimport { Harcertek, HARCERTEK_DISPLAY_NAMES } from '../engine/harc';\n\nconst NumberInput: any = require('semantic-ui-react-numberinput').default;\n\ninterface State {\n    harcertek: Harcertek,\n    hm: number\n};\n\nexport const HMEloszto: React.FC<{ harcertek: Harcertek, hm: number, complete: (harcertek: Harcertek, hm: number) => unknown }> = ({ harcertek, hm, complete }) => {\n    const [current, setCurrent] = useState<State>({ harcertek: { ...harcertek }, hm: hm } as State);\n\n    useEffect(() => {\n        setCurrent({ harcertek: { ...harcertek }, hm });\n    }, [harcertek, hm]);\n\n    const change = useCallback((he: ('ke' | 'te' | 've' | 'ce'), newValue: number) => {\n        const newCurrent: State = { ...current };\n        newCurrent.harcertek[he] = newValue;\n        newCurrent.hm = hm - (Object.keys(newCurrent.harcertek) as Array<any>).reduce((acc, curr: ('ke' | 'te' | 've' | 'ce')) => acc + (newCurrent.harcertek[curr] - harcertek[curr]), 0);\n        console.log('hmeloszto', newCurrent);\n        setCurrent(newCurrent);\n    }, [current, setCurrent, harcertek, hm]);\n\n    return <Table definition striped>\n        <Table.Row>\n            <Table.Cell>HM:</Table.Cell>\n            <Table.Cell colSpan={2}>{current.hm}</Table.Cell>\n        </Table.Row>\n        {(Object.keys(harcertek) as Array<any>).map((he: ('ke' | 'te' | 've' | 'ce')) => <Table.Row>\n            <Table.Cell>{HARCERTEK_DISPLAY_NAMES[he]}:</Table.Cell>\n            <Table.Cell><i>{harcertek[he]}</i></Table.Cell>\n            <Table.Cell><NumberInput allowEmptyValue size='mini' value={current.harcertek[he]} stepAmount={1} minValue={harcertek[he]} maxValue={(current.harcertek[he] ?? 0) + current.hm} onChange={(e: any) => change(he, Number(e ?? 0))} /></Table.Cell>\n        </Table.Row>)}\n        <Button onClick={() => complete(current.harcertek, current.hm)}>Eloszt</Button>\n    </Table>\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { Kepzettseg } from '../engine/karakter';\n\nexport const KepzettsegLista: React.FC<{ kepzettsegek: Array<Kepzettseg> }> = ({ kepzettsegek }) => {\n    return <Table striped celled>\n        <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>Képzettség</Table.HeaderCell>\n                <Table.HeaderCell>Szint</Table.HeaderCell>\n                <Table.HeaderCell>KP</Table.HeaderCell>\n            </Table.Row>\n        </Table.Header>\n        <Table.Body>\n            {kepzettsegek.map((r, i) => {\n                return <Table.Row>\n                    <Table.Cell>{r.name}</Table.Cell>\n                    <Table.Cell>{r.szint}</Table.Cell>\n                    <Table.Cell>-</Table.Cell>\n                </Table.Row>\n            })}\n        </Table.Body>\n    </Table>\n\n}","import React, { useState } from 'react';\nimport { Button, Grid, GridColumn, GridRow, Input, Label, Modal, Table } from 'semantic-ui-react';\nimport { DobasMatrixDisplay } from '../components/DobasMatrixDisplay';\nimport { EPFP } from '../components/EPFP';\nimport { FegyverLista } from '../components/FegyverLista';\nimport { FegyverValaszto } from '../components/FegyverValaszto';\nimport { HMEloszto } from '../components/HMEloszto';\nimport { KepzettsegLista } from '../components/KepzettsegLista';\nimport { DobasMatrix } from '../engine/dobasmatrix';\nimport { HARCERTEK_DISPLAY_NAMES } from '../engine/harc';\nimport { calculateHarcertek, Karakter, szintlepes } from '../engine/karakter';\nimport { KEPESSEG_NEV } from '../engine/kasztok';\n\n\nexport const Karakterlap: React.FC<{ karakter: Karakter, save: (karakter: Karakter) => unknown }> = ({ karakter, save }) => {\n    const [ujfegyver, setUjFegyver] = useState(false)\n    const [kategoriak, setKategoriak] = useState(false);\n    const [ujKategoria, setUjKategoria] = useState('');\n    return <Grid relaxed>\n        <GridRow columns={3}>\n            <GridColumn>\n                <Table striped definition>\n                    <Table.Row><Table.Cell>Név:</Table.Cell><Table.Cell>{karakter.name}</Table.Cell></Table.Row>\n                    <Table.Row><Table.Cell>Faj:</Table.Cell><Table.Cell>{karakter.faj}</Table.Cell></Table.Row>\n                    <Table.Row><Table.Cell>Kaszt:</Table.Cell><Table.Cell>{karakter.kaszt}</Table.Cell></Table.Row>\n                    <Table.Row><Table.Cell>Szint:</Table.Cell>\n                        <Table.Cell>\n                            <Button as='div' labelPosition='left'>\n                                <Label pointing='right'>\n                                    {karakter.szint}\n                                </Label>\n                                <Button secondary onClick={() => { save(szintlepes(karakter)) }}>Szintlépés</Button>\n                            </Button>\n                        </Table.Cell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.Cell>Kategóriák\n                        <Modal trigger={<Button floated='right' size='tiny' circular color='orange'>+</Button>} onOpen={() => setKategoriak(true)} onClose={() => setKategoriak(false)} open={kategoriak} size='fullscreen' title='Új kategória'>\n                                <Modal.Header>Új kategória</Modal.Header>\n                                <Modal.Content>\n                                    <Input value={ujKategoria} onChange={e => setUjKategoria(e.target.value)} />\n                                    <Button onClick={() => { karakter.categories.push(ujKategoria); setKategoriak(false); save(karakter) }}>Hozzáad</Button>\n                                </Modal.Content>\n                            </Modal>\n\n                        </Table.Cell>\n                        <Table.Cell>\n                            {karakter.categories.map(c => <Label tag>{c}</Label>)}\n                        </Table.Cell>\n                    </Table.Row>\n                </Table>\n                {karakter.hm > 0 && <div><HMEloszto harcertek={karakter.hmHarcertek} hm={karakter.hm} complete={(he, hm) => {\n                    karakter.hmHarcertek = he;\n                    karakter.hm = hm;\n                    save(karakter);\n                }} /> </div>}\n                <EPFP {...karakter} onChange={(ep, fp) => { karakter.ep = ep; karakter.fp = fp; save(karakter) }} />\n            </GridColumn>\n            <GridColumn>\n                <div><DobasMatrixDisplay title='Harcértékek' matrix={calculateHarcertek(karakter, karakter.fegyverek[karakter.valasztottFegyver ?? 0]).roll(['te', 've', 'ce', 'ke'])} direction='vertical' keyMap={HARCERTEK_DISPLAY_NAMES} /></div>\n                <FegyverLista fegyverek={karakter.fegyverek} selected={karakter.valasztottFegyver ?? 0} onSelectionChange={f => { karakter.valasztottFegyver = f; save(karakter) }} />\n                <Modal trigger={<Button primary>Fegyverlista módosítása</Button>} onOpen={() => setUjFegyver(true)} onClose={() => setUjFegyver(false)} open={ujfegyver} size='fullscreen'>\n                    <Modal.Header>Fegyverlista módosítása</Modal.Header>\n                    <Modal.Content>\n                        <FegyverValaszto karakter={karakter} save={k => { save(k); setUjFegyver(false) }} />\n                    </Modal.Content>\n                </Modal>\n            </GridColumn>\n            <GridColumn>\n                <div><DobasMatrixDisplay title='Képességek' matrix={new DobasMatrix(Object.keys(KEPESSEG_NEV)).add('alap', karakter.kepessegek as any).roll()} direction='vertical' keyMap={KEPESSEG_NEV} /></div>\n            </GridColumn>\n        </GridRow>\n        <GridRow>\n            <GridColumn>\n                <div><KepzettsegLista kepzettsegek={karakter.kepzettsegek} /></div>\n            </GridColumn>\n        </GridRow>\n\n        {/* <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n            <div>\n                <FegyverLista fegyverek={karakter.fegyverek} selected={karakter.valasztottFegyver ?? 0} onSelectionChange={f => { karakter.valasztottFegyver = f; save(karakter) }} />\n                <FegyverValaszto karakter={karakter} save={save} />\n            </div>\n        </div>\n         */}\n    </Grid>\n}","import { useState } from \"react\";\nimport { Karakter, KarakterInfo } from \"../engine/karakter\";\n\nconst PREFIX = 'magus.';\n\ninterface DataConnector {\n    categories: () => Array<string>;\n    list: (category?: string) => Array<KarakterInfo>;\n    load: (info: KarakterInfo) => Karakter;\n    save: (karakter: Karakter) => void;\n    remove: (info: KarakterInfo) => void;\n    key?: number;\n}\n\nexport function useDataConnector(): DataConnector {\n\n    const [operations, setOperations] = useState(0);\n\n    function fetch<T>(name: string): T {\n        const s = window.localStorage.getItem(name);\n        return s ? JSON.parse(s) : null;\n    };\n\n    const categories = (): Array<string> => {\n        return [...new Set(list().flatMap(info => info.categories))];\n    }\n\n    const list = (category?: string): Array<KarakterInfo> => {\n        const all: Array<KarakterInfo> = [...Array(window.localStorage.length)].map((_, i) => window.localStorage.key(i) ?? '').filter(key => key.startsWith(PREFIX)).map(key => fetch(key));\n        if (!category) {\n            return all;\n        }\n        return all.filter(k => k.categories.some(cat => cat === category));\n    };\n\n    const load = (info: KarakterInfo): Karakter => {\n        return fetch(PREFIX + info.id);\n    };\n\n    const save = (karakter: Karakter): void => {\n        window.localStorage.setItem(PREFIX + karakter.id, JSON.stringify(karakter));\n        setOperations(operations + 1);\n    };\n\n    const remove = (info: KarakterInfo) => {\n        window.localStorage.removeItem(PREFIX + info.id);\n    }\n\n    (window as any).exportMagus = () => {\n        const ret: Record<string, any> = {};\n        list('').forEach(key => {\n            ret[key.id] = load(key);\n        })\n        console.log('export', JSON.stringify(ret));\n    }\n\n    (window as any).importMagus = (content: string) => {\n        const all = JSON.parse(content);\n        Object.keys(all).forEach(key => save(all[key]));\n        console.log('import complete');\n    }\n\n\n    return {\n        categories,\n        list,\n        load,\n        save,\n        remove,\n        key: operations\n    }\n}","export default __webpack_public_path__ + \"static/media/magus.810aa1ee.png\";","import React, { useCallback, useState } from 'react';\nimport { Kockadobo } from './pages/Kocskadobo';\nimport { KarakterAlkotas } from './components/KarakterAlkotas';\nimport { Karakterlap } from './pages/Karakterlap';\nimport { useDataConnector } from './hooks/dataconnector';\nimport { Karakter } from './engine/karakter';\nimport 'semantic-ui-css/semantic.min.css'\nimport logo from './static/magus.png';\nimport { Icon, Menu, Image, Modal, Button, Dropdown } from 'semantic-ui-react';\n\ntype PAGES = 'home' | 'karakteralkoto' | 'karakterlap';\n\nfunction App() {\n\n  const [page, setPage] = useState<PAGES>('home');\n  const { save, list, load, categories } = useDataConnector();\n  const [karakter, setKarakter] = useState<Karakter>();\n  const [kockaOpen, setKockaOpen] = useState(false);\n  const [currentCategory, setCurrentCategory] = useState('');\n\n  const saveKarakter = useCallback((karakter: Karakter) => {\n    setKarakter({ ...karakter });\n    save(karakter);\n    setPage('karakterlap');\n  }, [save, setKarakter, setPage]);\n\n  const renderPage = useCallback(() => {\n    switch (page) {\n      case 'home': return <div>Home</div>\n      case 'karakteralkoto': return <KarakterAlkotas save={saveKarakter} />\n      case 'karakterlap': return <Karakterlap karakter={karakter as Karakter} save={saveKarakter} />\n    }\n  }, [page, saveKarakter, karakter])\n\n  const renderHeader = useCallback(() => {\n    const karakterek = list(currentCategory);\n    const kategoriak = categories();\n    return <Menu tabular>\n      <Menu.Item header>\n        <Image src={logo} size='mini' />\n      </Menu.Item>\n      <Dropdown item text={`Karakterek: ${currentCategory || 'Összes'}`}>\n        <Dropdown.Menu>\n          <Dropdown.Item onClick={() => setCurrentCategory('')}>Összes</Dropdown.Item>\n          {kategoriak.map(k => <Dropdown.Item onClick={() => setCurrentCategory(k)}>{k}</Dropdown.Item>)}\n        </Dropdown.Menu>\n      </Dropdown>\n      {karakterek.map(k => <Menu.Item active={k.id === karakter?.id} name={k.name} onClick={() => { setKarakter(load(k)); setPage('karakterlap') }}>\n      </Menu.Item>)}\n      <Menu.Item active={page === 'karakteralkoto'} onClick={() => { setKarakter(undefined); setPage('karakteralkoto') }}>\n        <Icon name='plus' />\n      </Menu.Item>\n      <Menu.Item position='right'>\n        <Modal trigger={<Button primary>Kocka</Button>} onOpen={() => setKockaOpen(true)} onClose={() => setKockaOpen(false)} open={kockaOpen}>\n          <Modal.Content>\n            <Kockadobo />\n          </Modal.Content>\n        </Modal>\n      </Menu.Item>\n    </Menu>\n  }, [setPage, page, list, load, karakter, setKarakter, kockaOpen, setKockaOpen, categories, currentCategory, setCurrentCategory]);\n\n  return (\n    <div className=\"App\">\n      {renderHeader()}\n      {renderPage()}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}